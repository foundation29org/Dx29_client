<!-- Vista web -->
<div class="d-none d-sm-block">
  <div class="col-md-12">
    <div class="row">
      <div class="mt-2" *ngIf="!modifyFormSymtoms">
        <table class="table mb-0 text-center d-none d-sm-block">
          <tbody style="width: 100%;display: inline-table;">
            <tr *ngFor="let symptom of listSymptoms ; let i = index">
              <td class="row text-left">
                <div class="col-md-12">
                  <p *ngIf="symptom.name" (click)="showMoreInfoSymptomPopup(symptom);"
                  class="d-inline-block mb-0" style="cursor: pointer; width: 85%;">{{symptom.name}}</p>
                  <p *ngIf="!symptom.name" class="d-inline mb-0">
                    {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                      href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank" title="{{symptom.id}}">
                      <i class="ft-external-link"></i></a>
                  </p>
                </div>
                <div class="col-md-12" *ngIf="symptom.selectEndOrCurrent">
                  <small class="text-left form-text danger">{{'land.diagnosed.timeline.selectEndOrCurrent' |
                    translate}}</small>
                </div>
                <div class="col-lg-6 mt-1">
                  <div class="col-md-12">
                    <div class="row">
                      <input class="form-control w-75 d-none" id="dateOnset_{{i}}" name="dateOnset" matInput placeholder="{{'generics.Start Date' | translate }}"
                        [max]="maxDate" readonly [matDatepicker]="pickerOnset" (click)="pickerOnset.open()" [(ngModel)]="symptom.onsetdate"
                        (dateInput)="updateTimeline()">
                        <span class="form-control w-75 d-inline" (click)="pickerOnset.open()" style="background-color: #e9ecef;">{{symptom.onsetdate | date: 'MMM y': '' : translate.currentLang}} </span>
                      <mat-datepicker-toggle matSuffix [for]="pickerOnset"></mat-datepicker-toggle>
                      <mat-datepicker startView="multi-year" (monthSelected)="closeDatePickerStart($event, i, pickerOnset)" touchUi="true" #pickerOnset></mat-datepicker>
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 mt-1">
                    <input type="text" id="basicInput_{{i}}" style="display: inline;width: 88%;" maxlength=250 placeholder="{{'generics.notes' | translate }}"
                    class="form-control" [(ngModel)]="symptom.notes" [disabled]="(!symptom.checked)"
                    (change)="updateTimeline()">
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-md-12 mt-2" *ngIf="modifyFormSymtoms">
        <span><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
      </div>
      <div class="col-sm-12 mt-2" *ngIf="!showTimeLine">
        <span *ngIf="symptomsWithoutDates>0" class="danger text-left d-block">{{'land.diagnosed.timeline.There are undated symptoms1' | translate}}</span>
        <span *ngIf="symptomsWithoutDates>0" class="danger text-left d-block">{{'land.diagnosed.timeline.There are undated symptoms2' | translate}}</span>
        <div class="text-center p-3 font-medium-3 border" style="min-height: 450px;background: #eee;">
          <span>{{'land.diagnosed.timeline.displayed here' | translate}}</span>
        </div>
      </div>
      <div class="col-sm-12 mt-2" *ngIf="showTimeLine">
        <div class="col-md-12 border mt-2" id="mytimeline" style="background: #eee;">
          <section *ngIf="!isEmptyObject(dictionaryTimeline)||(listTimelineNull.length>0)" id="vertical-timeline-left"
            class="timeline-left timeline-wrapper col-sm-10 col-12 offset-sm-1">
            <div *ngIf="!isEmptyObject(dictionaryTimeline)">
              <div *ngFor="let dateItem of dictionaryTimeline | keyvalue: keyDescOrder">
                <ul class="timeline">
                  <li class="timeline-line"></li>
                  <li class="timeline-group">
                    <h5>
                      <span class="badge badge-secondary cursor-default">{{dateItem.key}}</span>
                    </h5>
                  </li>
                </ul>
                <ul class="timeline">
                  <li class="timeline-line"></li>
                  <li *ngFor="let item of dateItem.value | keyvalue: valueDateDescOrder" class="timeline-item">
                    <div *ngIf="item.key!=null" class="timeline-badge">
                      <span data-toggle="tooltip" placement="right" [ngbTooltip]="item.key"
                        class="bg-info bg-lighten-4">
                        <i class="ft-calendar info"></i>
                      </span>
                    </div>
                    <div *ngIf="item.key!=null" class="timeline-card card shadow-z-1">
                      <div class="card-content">
                        <div class="card-body">
                          <!--<span class="card-title mb-0">{{item.key}}</span>
                          <hr class="mt-0 mb-2">-->
                          <div *ngFor="let symptom of item.value;">
                            <span *ngIf="symptom.name" style="cursor: pointer;"
                              title="{{'generics.More information' | translate }} ({{symptom.id}})"
                              (click)="showMoreInfoSymptomPopup(symptom)">{{symptom.name}}</span>
                            <span *ngIf="!symptom.name">
                              {{symptom.id}} ({{'phenotype.Deprecated' | translate}})
                              <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                title="{{symptom.id}}">
                                <i class="ft-external-link"></i>
                              </a>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div *ngIf="!isEmptyObject(dictionaryTimeline)&&(listTimelineNull.length>0)" class="col-md-12 mt-2"></div>
            <ul class="timeline" *ngIf="listTimelineNull.length>0">
              <li class="timeline-group">
                <h5>
                  <span class="badge badge-secondary cursor-default"> {{'land.diagnosed.symptoms.NoOnset' | translate }}
                  </span>
                </h5>
              </li>
              <li class="timeline-item">
                <div class="timeline-badge">
                  <span data-toggle="tooltip" [ngbTooltip]="translate.instant('land.diagnosed.symptoms.GoPrevious')"
                    placement="right" class="bg-info bg-lighten-4">
                    <i class="ft-help-circle info"></i>
                  </span>
                </div>
                <div class="timeline-card card shadow-z-1">
                  <div class="card-content">
                    <div class="card-body">
                      <div *ngFor="let symptom of listTimelineNull">
                        <span *ngIf="symptom.name" style="cursor: pointer;"
                          title="{{'generics.More information' | translate }} ({{symptom.id}})"
                          (click)="showMoreInfoSymptomPopup(symptom)">{{symptom.name}}</span>
                        <span *ngIf="!symptom.name">
                          {{symptom.id}} ({{'phenotype.Deprecated' | translate}})
                          <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                            title="{{symptom.id}}">
                            <i class="ft-external-link"></i>
                          </a>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </section>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Vista movil -->
<div class="d-block d-sm-none">
  <div>
    <div class="mt-1" *ngIf="!modifyFormSymtoms">
      <div class="w-100" *ngFor="let symptom of listSymptoms ; let i = index">
        <div class="card bg-grey bg-lighten-3 box border mb-3" *ngIf="actualTemporalSymptomsIndex ==i">
          <div class="ml-2 mt-2">
            <strong>
              <p *ngIf="symptom.name" class="d-inline-block mb-0" style="cursor: pointer; width: 80%;"
                (click)="showMoreInfoSymptomPopup(symptom);">{{symptom.name}}</p>
              <p *ngIf="!symptom.name" class="d-inline-block mb-0">
                {{symptom.id}} ({{'phenotype.Deprecated' | translate}})
                <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank" title="{{symptom.id}}">
                  <i class="ft-external-link"></i>
                </a>
              </p>
            </strong>
          </div>
          <div class="ml-2 mt-1">
            <div class="" *ngIf="symptom.selectEndOrCurrent">
              <small class="text-left form-text danger">{{'land.diagnosed.timeline.selectEndOrCurrent' |
                translate}}</small>
            </div>
            <div class="mt-1">
              <div class="">
                <div class="">
                  <input class="form-control w-75 d-none" id="dateOnset_{{i}}" name="dateOnset" matInput placeholder="{{'generics.Start Date' | translate }}"
                    [max]="maxDate" readonly [matDatepicker]="pickerOnset" (click)="pickerOnset.open()" [(ngModel)]="symptom.onsetdate"
                    (dateInput)="updateTimeline()">
                    <input readonly class="form-control w-75 d-inline" (click)="pickerOnset.open()" style="background-color: #e9ecef;" placeholder="{{symptom.onsetdate | date: 'MMM y': '' : translate.currentLang}}">
                  <mat-datepicker-toggle matSuffix [for]="pickerOnset"></mat-datepicker-toggle>
                  <mat-datepicker startView="multi-year" (monthSelected)="closeDatePickerStart($event, i, pickerOnset)" touchUi="true" #pickerOnset></mat-datepicker>
                </div>
              </div>
            </div>
            <div class="mt-1">
              <input type="text" style="display: inline;width: 88%;" id="basicInput_{{i}}" maxlength=250 placeholder="{{'generics.notes' | translate }}"
                class="form-control" [(ngModel)]="symptom.notes" [disabled]="(!symptom.checked)"
                (change)="updateTimeline()">
            </div>
          </div>
          <div class="card-footer center-elements bt-n">
            <span *ngIf="(actualTemporalSymptomsIndex>0)" style="cursor: pointer;" class="float-left info mt-1"
              (click)="goPrevSymptom();">
              <em style="font-size: 1.3em;" class="ft-chevron-left info"></em>
            </span>
            <span class="info mt-1">{{actualTemporalSymptomsIndex+1}} / {{listSymptoms.length}}</span>
            <span *ngIf="actualTemporalSymptomsIndex<listSymptoms.length-1" style="cursor: pointer;"
              class="float-right info mt-1" (click)="goNextSymptom();">
              <em style="font-size: 1.3em;" class="ft-chevron-right info"></em>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 mt-1" *ngIf="modifyFormSymtoms">
      <span><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
    </div>
    <div *ngIf="showTimeLine">
      <div>
        <div id="mytimeline-app" class="p-2" style="background: #eee;">
          <section *ngIf="!isEmptyObject(dictionaryTimeline)||(listTimelineNull.length>0)" id="vertical-timeline-left"
            class="timeline-left timeline-wrapper col-sm-10 col-12 offset-sm-1">
            <div *ngIf="!isEmptyObject(dictionaryTimeline)">
              <div *ngFor="let dateItem of dictionaryTimeline | keyvalue: keyDescOrder">
                <ul class="timeline p-2">
                  <li class="timeline-line"></li>
                  <li class="timeline-group">
                    <h5>
                      <span class="badge badge-secondary cursor-default">{{dateItem.key}}</span>
                    </h5>
                  </li>
                </ul>
                <ul class="timeline p-2">
                  <li class="timeline-line"></li>
                  <li *ngFor="let item of dateItem.value | keyvalue: valueDateDescOrder" class="timeline-item">
                    <div *ngIf="item.key!=null" class="timeline-badge">
                      <span data-toggle="tooltip" placement="right" [ngbTooltip]="item.key"
                        class="bg-info bg-lighten-4">
                        <i class="ft-calendar info"></i>
                      </span>
                    </div>
                    <div *ngIf="item.key!=null" class="timeline-card card shadow-z-1">
                      <div class="card-content">
                        <div class="card-body mr-1" style="padding: 1.5rem !important;">
                          <span class="card-title mb-0">{{item.key}}</span>
                          <hr class="mt-0 mb-2">
                          <div *ngFor="let symptom of item.value;">
                            <span *ngIf="symptom.name" style="cursor: pointer;"
                              title="{{'generics.More information' | translate }} ({{symptom.id}})"
                              (click)="showMoreInfoSymptomPopup(symptom)">{{symptom.name}}</span>
                            <span *ngIf="!symptom.name">
                              {{symptom.id}} ({{'phenotype.Deprecated' | translate}})
                              <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                title="{{symptom.id}}">
                                <i class="ft-external-link"></i>
                              </a>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div *ngIf="!isEmptyObject(dictionaryTimeline)&&(listTimelineNull.length>0)" class="col-md-12 mt-2"></div>
            <ul class="timeline p-2" *ngIf="listTimelineNull.length>0">
              <li class="timeline-group">
                <h5>
                  <span class="badge badge-secondary cursor-default"> {{'land.diagnosed.symptoms.NoOnset' | translate }}
                  </span>
                </h5>
              </li>
              <li class="timeline-item">
                <div class="timeline-badge">
                  <span data-toggle="tooltip" [ngbTooltip]="translate.instant('land.diagnosed.symptoms.GoPrevious')"
                    placement="right" class="bg-info bg-lighten-4">
                    <i class="ft-help-circle info"></i>
                  </span>
                </div>
                <div class="timeline-card card shadow-z-1">
                  <div class="card-content">
                    <div class="card-body mr-1" style="padding: 1.5rem !important;">
                      <div *ngFor="let symptom of listTimelineNull">
                        <span *ngIf="symptom.name" style="cursor: pointer;"
                          title="{{'generics.More information' | translate }} ({{symptom.id}})"
                          (click)="showMoreInfoSymptomPopup(symptom)">{{symptom.name}}</span>
                        <span *ngIf="!symptom.name">
                          {{symptom.id}} ({{'phenotype.Deprecated' | translate}})
                          <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                            title="{{symptom.id}}">
                            <i class="ft-external-link"></i>
                          </a>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </section>
        </div>
      </div>
    </div>
  </div>
</div>