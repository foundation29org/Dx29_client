<div>
  <a id="idup"></a>
  <div class="empty-padding-left" *ngIf="actualStep!='4.0'">
    <div *ngIf="actualWidth!='xs'">
      <div class="footer-buttons row">
        <span class="col-3">
          <button type="button" class="float-left ml-3 mt-2 btn" [disabled]="actualStep == '1.0'" [ngClass]="((actualStep > '1.0' && showIntroWizard) || (actualStep > '1.0' && !showIntroWizard) )?'btn-raised btn-primary':'text-muted inactiveLink btn-raised btn-secondary white'" (click)="goPrevStep()"><span style="margin-right: 10px;"><i class="ft-chevron-left"></i></span> {{'generics.Previous' | translate }}</button>
        </span>
        <span class="col-6 mt-2 font-medium-2 font-weight-bold white">
          <span>
            <span style="display: table-row">
              <span *ngIf="actualStep <= '1.0'"> <span>1. {{'diagnosis.Symptoms' | translate }}</span></span>
              <span *ngIf="actualStep > '1.0' && actualStep < '3.0' "> <span>2. {{'diagnosis.Genetics' | translate }}</span></span>
              <span *ngIf="(actualStep == '3.0' || actualStep == '3.1' || actualStep == '3.2' || actualStep == '3.3')"> <span>3. {{'analysissection.title' | translate }}</span></span>
              <span *ngIf="(actualStep == '5.0')"> <span>4. {{'topnavbar.Diagnoses' | translate }}</span></span>
              <span *ngIf="(actualStep == '6.0')"> <span>5. {{'topnavbar.Summary' | translate }}</span></span>
            </span>
            <span style="display: table-row" class="font-small-3">
              {{'wizard.Tutorial-Step' | translate }}
              <span *ngIf="actualStep <= '1.0'">1</span>
              <span *ngIf="actualStep > '1.0' && actualStep < '3.0' ">2</span>
              <span *ngIf="(actualStep == '3.0' || actualStep == '3.1' || actualStep == '3.2' || actualStep == '3.3')">3</span>
              <span *ngIf="(actualStep == '5.0')"> 4</span>
              <span *ngIf="(actualStep == '6.0')"> 5</span>
              /5
            </span>
          </span>
        </span>
        <span *ngIf="actualStep<'6.0'" class="col-3">
          <button *ngIf="actualStep != '3.1' && actualStep != '3.2' && actualStep != '3.0' && actualStep != '1.0'" [disabled]="actualStep == '2.0' && (preparingFile || uploadingGenotype)" title="Wait, please." type="button" class="mt-2 mr-3 float-right btn" [ngClass]="(actualStep < '3.3' ||  actualStep >= '5.0')?'btn-raised btn-primary':'text-muted inactiveLink btn-raised btn-secondary white'" (click)="goNextStep()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
          <button *ngIf="actualStep == '3.0'" type="button" class="mt-2 mr-3 float-right btn btn-raised btn-primary" (click)="askAnalyze()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
          <button *ngIf="(actualStep != '3.1' && actualStep != '3.2') && actualStep == '1.0'" type="button" class="mt-2 mr-3 float-right btn btn-raised btn-primary" (click)="goNextStep()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
        </span>
      </div>
    </div>
    <div *ngIf="actualWidth=='xs'">
      <div class="footer-buttons row">
        <span class="col-lg-12 mt-2 font-medium-2 font-weight-bold white">
          <span>
            <span style="display: table-row">
              <span *ngIf="actualStep <= '1.0'"> <span>1. {{'diagnosis.Symptoms' | translate }}</span></span>
              <span *ngIf="actualStep > '1.0' && actualStep < '3.0' "> <span>2. {{'diagnosis.Genetics' | translate }}</span></span>
              <span *ngIf="(actualStep == '3.0' || actualStep == '3.1' || actualStep == '3.2' || actualStep == '3.3')"> <span>3. {{'analysissection.title' | translate }}</span></span>
              <span *ngIf="(actualStep == '5.0')"> <span>4. {{'topnavbar.Diagnoses' | translate }}</span></span>
              <span *ngIf="(actualStep == '6.0')"> <span>5. {{'topnavbar.Summary' | translate }}</span></span>
            </span>
            <span style="display: table-row" class="font-small-3">
              {{'wizard.Tutorial-Step' | translate }}
              <span *ngIf="actualStep <= '1.0'">1</span>
              <span *ngIf="actualStep > '1.0' && actualStep < '3.0' ">2</span>
              <span *ngIf="(actualStep == '3.0' || actualStep == '3.1' || actualStep == '3.2' || actualStep == '3.3')">3</span>
              <span *ngIf="(actualStep == '5.0')"> 4</span>
              <span *ngIf="(actualStep == '6.0')"> 5</span>
              /5
            </span>
          </span>
        </span>
        <span class="col-6">
          <button *ngIf="actualWidth=='xs'" type="button" class="float-left mt-2 btn btn-sm" [disabled]="actualStep == '1.0'" [ngClass]="((actualStep > '1.0' && showIntroWizard) || (actualStep > '1.0' && !showIntroWizard) )?'btn-raised btn-primary':'text-muted inactiveLink btn-raised btn-secondary white'" (click)="goPrevStep()"><span style="margin-right: 10px;"><i class="ft-chevron-left"></i></span> {{'generics.Previous' | translate }}</button>
          <button *ngIf="actualWidth!='xs'" type="button" class="ml-3 float-left mt-2 btn" [disabled]="actualStep == '1.0'" [ngClass]="((actualStep > '1.0' && showIntroWizard) || (actualStep > '1.0' && !showIntroWizard) )?'btn-raised btn-primary':'text-muted inactiveLink btn-raised btn-secondary white'" (click)="goPrevStep()"><span style="margin-right: 10px;"><i class="ft-chevron-left"></i></span> {{'generics.Previous' | translate }}</button>
        </span>

        <span *ngIf="actualStep<'6.0'" class="col-6">
          <span *ngIf="actualWidth=='xs'">
            <button *ngIf="actualStep != '3.1' && actualStep != '3.2' && actualStep != '3.0' && actualStep != '1.0'" type="button" class="mt-2 float-right btn btn-sm" [ngClass]="(actualStep < '3.3' ||  actualStep >= '5.0')?'btn-raised btn-primary':'text-muted inactiveLink btn-raised btn-secondary white'" (click)="goNextStep()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
            <button *ngIf="actualStep == '3.0'" type="button" class="mt-2 float-right btn btn-raised btn-primary btn-sm" (click)="askAnalyze()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
            <button *ngIf="(actualStep != '3.1' && actualStep != '3.2') && actualStep == '1.0'" type="button" class="mt-2 float-right btn btn-raised btn-primary btn-sm" (click)="goNextStep()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
          </span>
          <span *ngIf="actualWidth!='xs'">
            <button *ngIf="actualStep != '3.1' && actualStep != '3.2' && actualStep != '3.0' && actualStep != '1.0'" [disabled]="actualStep == '2.0' && (preparingFile || uploadingGenotype)" title="Wait, please." type="button" class="mt-2 mr-3 float-right btn" [ngClass]="(actualStep < '3.3' ||  actualStep >= '5.0')?'btn-raised btn-primary':'text-muted inactiveLink btn-raised btn-secondary white'" (click)="goNextStep()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
            <button *ngIf="actualStep == '3.0'" type="button" class="mt-2 mr-3 float-right btn btn-raised btn-primary" (click)="askAnalyze()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
            <button *ngIf="(actualStep != '3.1' && actualStep != '3.2') && actualStep == '1.0'" type="button" class="mt-2 mr-3 float-right btn btn-raised btn-primary" (click)="goNextStep()">{{'generics.Next' | translate }} <span style="margin-left: 10px;"><i class="ft-chevron-right"></i></span></button>
          </span>
        </span>
      </div>
    </div>
  </div>
  <div id="wizardpanel" class="pb-3" [ngClass]="(actualWidth != 'xs' )?'ml-2':''">
    <div *ngIf="showingWizard">
      <div id="loading-layout-wizard" *ngIf="isLoadingStep">
        <div class="center-elements">
            <div><p class="centerSpinner"><i class="center-spinner fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p></div>
        </div>
      </div>
    </div>
    <!--<div id="nav-buttons-wizard" class="nav-buttons-wizard border-light border-top border-bottom" *ngIf="maxStep<'5.0' && !isLoadingStep" >
      <div class="mt-3"  style="display: inline-flex;">
        <div class="center-elements d-inline" title="Utilice la barra de la parte inferior para navegar por el wizard">
          <span class="mr-1 d-inline" [ngClass]="(actualStep <= '1.0' )?'border-bottom border-bottom-2 border-primary':''">
              <span class="d-none d-sm-inline"> 01. {{'diagnosis.Symptoms' | translate }}</span>
              <span class="d-inline d-sm-none"> {{'patnodiagdashboard.menu.Step' | translate }} 1</span>
          </span>
          <span class="mr-1 ml-1 d-inline" [ngClass]="(actualStep == '2.0' || actualStep == '2.1')?'border-bottom border-bottom-2 border-primary':''">
            <span class="d-none d-sm-inline"> 02. {{'diagnosis.Genetics' | translate }}</span>
            <span class="d-inline d-sm-none"> {{'patnodiagdashboard.menu.Step' | translate }} 2</span>
          </span>
          <span class="ml-1 d-inline" [ngClass]="(actualStep == '3.0' || actualStep == '3.1' || actualStep == '3.2' || actualStep == '3.3')?'border-bottom border-bottom-2 border-primary':''">
            <span class="d-none d-sm-inline"> 03. Analizar</span>
            <span class="d-inline d-sm-none"> {{'patnodiagdashboard.menu.Step' | translate }} 3</span>
          </span>
        </div>
      </div>
    </div>-->
    <div *ngIf="!showingWizard && !isLoadingStep" class="content-view" [ngClass]="(actualWidth != 'xs' )?'content-wrapper':''">

      <!-- Step 1.0 -->
      <div *ngIf="actualStep<='1.0'"  class="">

        <div>
          <div class="content-header pb-1">
            <!--<span *ngIf="actualStep == '0.0'">Introducción</span>-->
            <span>{{'symptomssection.title' | translate }}</span>
          </div>
          <span class="content-sub-header">
              <p>{{'symptomssection.subtitle' | translate }}</p>
              <p *ngIf="numDeprecated==phenotype.data.length && numDeprecated>0" >{{'symptomssection.obsolete' | translate }}</p>
          </span>
        </div>

        <section>
          <div class="row">
            <div class="col-md-12">
              <div class="row col-md-12">
    						<div class="col-md-4 p-0">
    							<ng-template #rt let-r="result" let-t="term">
                    <strong title="{{r.name}}">{{ r.name}}</strong>
                    <span *ngIf="r.desc!=null" class="d-block" title="{{r.desc}}">{{ (r.desc.length>140)? (r.desc | slice:0:140)+'...':(r.desc) }}</span>
    							</ng-template>
    							<div class="form-group">
    							<input #input class="input" type="text" class="form-control ngbTypeaheadclass" [(ngModel)]="modelTemp" [ngbTypeahead]="searchSymptom" [resultTemplate]="rt" [inputFormatter]="formatter1" placeholder="{{'symptomssection.manualinput' | translate }}" (selectItem)="selected($event)"/>
    							</div>
    						</div>
    						<div class="col-md-8 p-0">
    							<!--<button *ngIf="!loadingHpoExtractor && resultTextNcr!='' && medicalText== ''" type="button" class="ml-1 btn btn-flat btn-primary" style="float:right;" (click)="showPanelSymptomsNcr(contentSymptomsNcr)">{{'diagnosis.Edit last extraction' | translate }}</button>-->
                  <label class="ml-1 btn btn-outline-primary" style="text-transform: none;letter-spacing: 0px;cursor: pointer;">
                      {{'symptomssection.searchdoc' | translate }} <input type="file" (change)="onFileChangePDF($event, contentExtractorSteps);" style="display: none;">
                  </label>
    							<button type="button" class="ml-1 btn btn-outline-primary" (click)="showPanelAddTextSymptoms(contentAddTextSymptoms);">{{'symptomssection.searchtext' | translate }}</button>

    						</div>
              </div>
              <div class="col-md-12 card border" [ngClass]="(viewSymptoms ==1)?'col-md-12':'col-md-9'" *ngIf="phenotype.data.length > 0">
                <div class="card-header">
                  <span class="card-title float-right">
                    {{'generics.Sort' | translate }}
                    <span class="nav-item" ngbDropdown display="dynamic" placement="bottom-right" title="Views">
                        <a class="position-relative colorlink" style="padding: 0rem 1rem;" id="dropdownSympt" ngbDropdownToggle title="{{'generics.Sort' | translate }}">
                            <i class="fas fa-sort font-medium-3 primary"></i>
                            <p class="d-none">Sort</p>
                        </a>
                        <div ngbDropdownMenu aria-labelledby="dropdownSympt" class="dropdown">
                            <a class="dropdown-item py-1" href="javascript:;" (click)="changeSuggestedViewSymptoms(0)">
                                <span *ngIf="viewSymptoms==0"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'symptomssection.sortalpha' | translate }}</span></span>
                                <span *ngIf="viewSymptoms==1" class="offset-md-1 col-md-8">{{'symptomssection.sortalpha' | translate }}</span>
                            </a>
                            <a class="dropdown-item py-1" href="javascript:;" (click)="changeSuggestedViewSymptoms(1)">
                                <span *ngIf="viewSymptoms==1"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'symptomssection.sortgroup' | translate }}</span></span>
                                <span *ngIf="viewSymptoms==0" class="offset-md-1 col-md-8">{{'symptomssection.sortgroup' | translate }}</span>
                            </a>
                        </div>
                    </span>
                    <!--<button type="button" class="float-right btn btn-outline-primary" (click)="funShowOptionsSymptoms(contentOptionsSymptoms)">Añadir más síntomas</button>-->
                  </span>
                </div>
                <div class="card-content" *ngIf="phenotype.data.length > 0">
                  <div class="card-body pt-1" >
                    <section class="mb-4" *ngIf="viewSymptoms ==0">
                      <span class="col-md-12 mb-1" *ngFor="let hpo of phenotype.data ; let i = index">
                        <li class="row symptoms-item">
                          <span style="font-size:1rem;flex-grow: 1;line-height: 1.3em;" class="mt-1 mb-1 text-muted col-md-8">{{hpo.name}} <span *ngIf="hpo.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></span>
                          <span class="col-md-4">
                            <a class="btn btn-outline-info primary mr-1 mb-0" data-original-title="" title="{{'generics.More information' | translate }}" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptom)">
                              <i class="fa fa-info"></i>
                            </a>
                            <a class="btn btn-outline-danger danger ml-1 mr-1 mb-0" data-original-title="" title="{{'generics.Delete' | translate }}" (click)="confirmDeletePhenotype(i)">
                              <i class="fa fa-trash"></i>
                            </a>
                          </span>
                        </li>
                      </span>
                    </section>
                    <section *ngIf="viewSymptoms ==1" class="col-md-12 mb-4">
                      <div class="row" *ngFor="let group of listOfSymptomGroups ; let j = index">
                        <h4 class="col-md-12" [ngClass]="(j > '0' )?'pt-2 border-top-custom pb-2':''"><span class="text-bold-400">{{group.nameGroup}}</span></h4>
                        <ul *ngFor="let hpo of group.symptoms ; let i = index" class="col-lg-12 col-xl-6 mb-1" [ngClass]="(i == (group.symptoms.length-1) )?'pb-2':''">
                          <li class="row symptoms-item">
                            <span style="font-size:1rem;flex-grow: 1; line-height: 1.3em;" class="mt-1 mb-1 text-muted col-md-8">{{hpo.name}} <span *ngIf="hpo.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></span>
                            <span class="col-md-4">
                              <a class="btn btn-outline-info primary mr-1 mb-0" data-original-title="" title="{{'generics.More information' | translate }}" (click)="showMoreInfoSymptomPopupGroup(j,i, contentInfoSymptom)">
                                <i class="fa fa-info"></i>
                              </a>
                              <a class="btn btn-outline-danger danger  ml-1 mr-1 mb-0" data-original-title="" title="{{'generics.Delete' | translate }}" (click)="confirmDeletePhenotypeGroup(j,i)">
                                <i class="fa fa-trash"></i>
                              </a>
                            </span>
                          </li>
                        </ul>
                      </div>
                    </section>
                  </div>
                  <p *ngIf="viewSymptoms==1" class="ml-4">{{'symptomssection.There might be repeated symptoms' | translate }}</p>
                </div>
                <div class="card-content" *ngIf="phenotype.data.length == 0">
                  <div class="card-body">
                    <p>{{'symptomssection.nosymptoms' | translate }}</p>
                  </div>
                </div>
              </div>

            </div>
					</div>

        </section>
      </div>
      <!-- End Step 1.0 -->
      <!-- Step 2.0 -->
      <div *ngIf="actualStep=='2.0'">
        <div>
          <div class="content-header pb-1">
            <span>{{'geneticsection.title' | translate }}</span>
          </div>
          <span class="content-sub-header">
            <span>
              <div>
                <p class="mb-0">
                  {{'geneticsection.subtitle1' | translate }} (<a (click)="showMoreInfoSymptomPopup(i, contentInfoVcf)" href="javascript:void(0)" class="primary" title="{{'generics.More information' | translate }}">{{'geneticsection.subtitle2' | translate }}</a>).
                </p>
              </div>
            </span>
          </span>
        </div>
        <section>
          <div class="mt-3">
              <div class="card pb-2 border">
                <div class="card-header">
                  <h4 class="card-title d-inline">
                    {{'dashboardpatient.Files uploaded' | translate }}
                  </h4>
                  <div class="float-right">
                    <label *ngIf="!preparingFile" class="btn btn-outline-primary mb-0" style="text-transform: none;letter-spacing: 0px;cursor: pointer;">
                        {{'geneticsection.Upload file' | translate }} <input type="file" (change)="onFileChangeVCF($event, contentPreparingFile)" style="display: none;">
                    </label>
                    <span *ngIf="preparingFile">
                      <small class="d-block">{{'generics.Preparing to upload' | translate }}</small>
                      <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                    </span>
                    <span *ngIf="!preparingFile && uploadingVCF" class="ml-1">{{'generics.Upload Progress' | translate }}: {{uploadProgress | async}}%</span>
                  </div>
                </div>
                <div class="card-content">
                  <div class="card-body">
                    <section>
                      <div *ngIf="filesVcf.length>0">
                          <p *ngFor="let onefile of filesVcf; let i = index">
                            <span style="word-wrap: anywhere;" class="ml-1 text-muted">
                              {{onefile.nameForShow}}
                            </span>
                            <span class="ml-2">
                              <a class="danger" (click)="deleteVcfFile(onefile.name,i);" href="javascript:void(0)" title="{{'generics.Delete' | translate }}"><i class="fa fa-trash"></i></a>
                            </span>
                          </p>
                      </div>
                      <div *ngIf="filesVcf.length==0">
                        <p class="text-muted">{{'geneticsection.nogenetic' | translate }}</p>
                      </div>
                    </section>

                  </div>
                </div>
              </div>

          </div>

        </section>
      </div>
      <!-- End Step 2.0 -->
      <!-- Step 3.0 -->
      <div *ngIf="actualStep >= '3.0' && actualStep < '4.0'">
        <div>
          <div class="content-header pb-1">
            <span>{{'analysissection.title' | translate }}</span>
          </div>
          <span class="content-sub-header">
            <span *ngIf="actualStep == '3.0'">
              <span *ngIf="phenotype.data.length>0">
                <span [innerHTML]="'analysissection.subtitle' | translate"></span>
              </span>
              <span *ngIf="phenotype.data.length==0">
                <span>{{'analysissection.nosymptoms' | translate }}</span>
                <span>{{'symptomssection.needsymtoms' |translate }} </span>
                <span class="mt-1 d-block"><a class="btn btn-outline-primary" href="javascript:void(0)" (click)="goToStep('1.0', false);">Symptoms</a></span>
              </span>
            </span>
          </span>
        </div>
      </div>
      <div *ngIf="actualStep=='3.0' && phenotype.data.length>0" class="mt-3 col-md-12">
        <section class="row" *ngIf="!loadingServices">
          <div class="col-12 card pb-2 border">
            <div class="card-header">
              <h4 class="card-title d-inline">
                {{'analysissection.Settings' | translate }}
              </h4>
              <h6 class="card-subtitle mb-2 text-muted">{{'analysissection.settingTitle' | translate }}</h6>
            </div>
            <div class="card-content">
              <div class="card-body">
                <div class="mt-2">
                  <div class="row col-md-12 mt-2">
                    <div class="col-xl-6 pl-0">
                      <div class="card border">
                        <div class="card-header">
                          <h4 class="card-title">
                            {{'diagnosis.Symptoms' | translate }}
                          </h4>
                          <span class="card-subtitle mb-2 text-muted">{{'analysissection.sectSymTxt1' | translate }}</span>
                        </div>
                        <div class="card-content">
                          <div class="card-body">
                            <span class="text-muted">{{'analysissection.sectSymTxt2.1' | translate }} {{numberOfSymptomsExo}} <span class="text-lowercase"> {{'diagnosis.Symptom' | translate }}</span> <span *ngIf="numberOfSymptomsExo>1">s</span> {{'analysissection.sectSymTxt2.2' | translate }} {{symptomsExomiser.length}} {{'analysissection.sectSymTxt2.3' | translate }}</span>
                            <p  class="danger" *ngIf="numberOfSymptomsExo<symptomsExomiser.length && numberOfSymptomsExo==0">{{'analysissection.sectSymTxt2.4' | translate }} <span class="text-lowercase">{{'diagnosis.Symptom' | translate }}</span></p>
                          </div>
                          <div class="card-footer">
                            <span class="mt-1 d-block"><a class="btn btn-outline-primary mb-0" href="javascript:void(0)" (click)="funShowOptionsSymptoms(contentInfoAlgorithmSymptoms);">{{'analysissection.Select symptoms' | translate }}</a></span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-6 pl-0" *ngIf="filesVcf.length>=1" [ngClass]="(actualWidth!='lg')?'mt-2':''" >
                      <div class="card border">
                        <div class="card-header">
                          <h4 class="card-title">
                            {{'geneticsection.title' | translate }}
                          </h4>
                          <span class="card-subtitle mb-2 text-muted"><span *ngIf="filesVcf.length>1">{{'analysissection.geneticTxt1.1' | translate }} </span>{{'analysissection.geneticTxt1.2' | translate }}</span>
                        </div>
                        <div class="card-content">
                          <div class="card-body">
                            <section>
                              <div>
                                <mat-radio-group name="opciones" [(ngModel)]="filename">
                                  <mat-radio-button class="d-block" *ngFor="let onefile of filesVcf; let i = index" name="onefile" [value]="onefile.name"  title="{{onefile.nameForShow}}" (change)="setNotAnalyzeGeneticInfo2()">
                                    {{ (onefile.nameForShow.length>60)? (onefile.nameForShow | slice:0:60)+'...':(onefile.nameForShow) }}
                                  </mat-radio-button>
                                </mat-radio-group>
                              </div>
                            </section>
                            <div class="mb-2">
                              <mat-radio-button color="primary" [checked]="(notAnalyzeGeneticInfo && filename=='')" (change)="setNotAnalyzeGeneticInfo()">
                                  {{'analysissection.geneticTxt2' | translate }}
                             </mat-radio-button>
                           </div>
                          </div>
                          <div class="card-footer">
                            <span class="mt-1 d-block"><a class="btn btn-outline-primary mb-0" [disabled]="notAnalyzeGeneticInfo" href="javascript:void(0)" (click)="changeSettingsExomiser(contentSettingsExomiser)">{{'analysissection.Advanced options' | translate }}</a></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>


        </section>
        <section class="row" *ngIf="loadingServices">
            <div class="mt-2">
              <p>{{'analysissection.analyzingdata' | translate }}</p>
              <p>{{'analysissection.may10minutesexoshort' | translate }}</p>
            </div>
            <div>
              <div class="mb-3 center-elements">
                <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
              </div>
            </div>
        </section>
      </div>
      <!-- End Step 3.0 -->
      <!-- Step 3.1 -->
      <div *ngIf="actualStep=='3.1'" class="">
        <section class="mt-2 card p-2 border">
          <div class="center-elements">
            <div class="donate">
                <section>
                  <div class="mt-2">
                    <p>{{'analysissection.analyzingdata' | translate }}</p>
                    <p>{{'analysissection.may10minutesexoshort' | translate }}</p>
                  </div>
                  <div>
                    <div class="mb-3 center-elements">
                      <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                    </div>
                  </div>
                </section>
            </div>
      		</div>
        </section>
      </div>
      <!-- End Step 3.1 -->
      <!-- Step 3.2 -->
      <div *ngIf="actualStep=='3.2'" class="">
        <section class="mt-2 card p-2 border">
          <div class="center-elements">
            <div class="donate">
                <section>
                  <div class="mt-2">
                    <p>{{'analysissection.analyzingdata' | translate }}</p>
                    <p>{{'analysissection.may10minutesphen2genesshort' | translate }}</p>
                  </div>
                  <div>
                    <div class="mb-3 center-elements">
                      <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                    </div>
                  </div>
                </section>
            </div>
      		</div>
        </section>
      </div>
      <!-- End Step 3.2 -->
      <div *ngIf="actualStep=='4.0'" class="">
          <!--<div class="content-header text-left">
            00. {{'patnodiagdashboard.menu.Welcome' | translate }}
          </div>
          <p class="content-sub-header"></p>-->

          <section *ngIf="!loadingDocuments">
              <div *ngIf="docsNcr.length>0" class="row">
                <div  class="col-md-12">
                  <div class="content-header pb-1">
                    <span>{{'summarySection.Reports' | translate }}</span>
                  </div>
                  <p class="content-sub-header">
                    <span>{{'reportsSection.subtitle' | translate }}</span>
                    <span *ngIf="docsNcr.length>0" class="d-block mt-2 mr-3">
                      <span>{{'reportsSection.Sort by' | translate }}</span>
                      <span class="nav-item" ngbDropdown display="dynamic" placement="bottom-right">
                          <a class="position-relative colorlink" style="padding: 0rem 1rem;" id="dropdownSort" ngbDropdownToggle title="{{'generics.Sort' | translate }}">
                              <i class="fas fa-sort font-medium-3 primary"></i>
                              <p class="d-none">Sort</p>
                          </a>
                          <div ngbDropdownMenu aria-labelledby="dropdownSort" class="dropdown">
                              <a class="dropdown-item py-1" href="javascript:;" (click)="orderFilesNcr('lastModified')">
                                  <span *ngIf="selectedOrderFilesNcr=='lastModified'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'reportsSection.Date' | translate }}</span></span>
                                  <span *ngIf="selectedOrderFilesNcr!='lastModified'" class="offset-md-1 col-md-8">{{'reportsSection.Date' | translate }}</span>
                              </a>
                              <a class="dropdown-item py-1" href="javascript:;" (click)="orderFilesNcr('extension')">
                                  <span *ngIf="selectedOrderFilesNcr=='extension'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'reportsSection.File type' | translate }}</span></span>
                                  <span *ngIf="selectedOrderFilesNcr!='extension'" class="offset-md-1 col-md-8">{{'reportsSection.File type' | translate }}</span>
                              </a>
                              <a class="dropdown-item py-1" href="javascript:;" (click)="orderFilesNcr('simplename')">
                                  <span *ngIf="selectedOrderFilesNcr=='simplename'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'reportsSection.Name' | translate }}</span></span>
                                  <span *ngIf="selectedOrderFilesNcr!='simplename'" class="offset-md-1 col-md-8">{{'reportsSection.Name' | translate }}</span>
                              </a>
                          </div>
                      </span>
                    </span>
                  </p>
                </div>
                <div  class="col-md-12 row">
                  <div *ngFor="let onefile of docsNcr; let i = index" class="pb-2 col-lg-6 col-md-12">
                        <div class="card box border">
                            <div class="card-header pb-0 row">
                              <span class="col-3">
                                <i *ngIf="onefile.ncrResults.extension=='.pdf'" class="fas fa-file-pdf fa-3x danger"></i>
                                <i *ngIf="onefile.ncrResults.extension=='.docx' || onefile.ncrResults.extension=='.doc'" class="fas fas fa-file-word fa-3x info"></i>
                                <i *ngIf="onefile.ncrResults.extension=='.txt'" class="fas fas fa-file-alt fa-3x warning"></i>
                                <i *ngIf="onefile.ncrResults.extension=='.json'" class="fas fas fa-file-code fa-3x grey"></i>
                                <i *ngIf="onefile.ncrResults.extension == '.jpg' || onefile.ncrResults.extension == '.png' || onefile.ncrResults.extension == '.gif' || onefile.ncrResults.extension == '.tiff' || onefile.ncrResults.extension == '.tif' || onefile.ncrResults.extension == '.bmp' || onefile.ncrResults.extension == '.dib' || onefile.ncrResults.extension == '.bpg' || onefile.ncrResults.extension == '.psd' || onefile.ncrResults.extension == '.jpeg' || onefile.ncrResults.extension == '.jpe' || onefile.ncrResults.extension == '.jfif'" class="fas fas fa-file-image fa-3x yellow"></i>

                                <span class="d-block">
                                {{onefile.origenFile.contentLength}}
                                </span>
                              </span>
                              <span class="col-9">
                                <span class="font-medium-2 grey darken-1 text-bold-400 d-block">
                                  <span *ngIf="onefile.origenFile != undefined">
                                    <span *ngIf="onefile.origenFile.nameForShow != 'ncrresult.json' && onefile.origenFile.nameForShow !=''">
                                      {{onefile.origenFile.nameForShow}}
                                    </span>
                                    <span *ngIf="onefile.origenFile.nameForShow == 'ncrresult.json'">
                                      {{'summarySection.Free text' | translate }}
                                    </span>
                                    <span *ngIf="onefile.origenFile.nameForShow ==''">
                                      {{onefile.ncrResults.simplename}}
                                    </span>
                                  </span>
                                  <span *ngIf="onefile.origenFile == undefined">
                                    {{'summarySection.Free text' | translate }}
                                  </span>
                                </span>
                                <span *ngIf="onefile.origenFile != undefined" class="font-small-2">{{onefile.origenFile.lastModified | date:'medium'}}</span>
                                <span *ngIf="onefile.origenFile == undefined" class="font-small-2">{{onefile.ncrResults.lastModified | date:'medium'}}</span>
                              </span>
                            </div>
                            <div class="card-body">
                              <div class="">
                                {{ (onefile.ncrResults.resumeText.length>140)? (onefile.ncrResults.resumeText | slice:0:140)+'...':(onefile.ncrResults.resumeText) }}
                              </div>
                              <div class="row mt-2">
                                <span class="col-6">
                                  <span class="d-block text-muted">{{'reportsSection.Selected symptoms' | translate }}</span>
                                  <span class="info">{{onefile.ncrResults.numSymptMatch}}</span>
                                </span>
                                <span class="col-6">
                                  <span class="d-block text-muted">{{'reportsSection.Total symptoms' | translate }}</span>
                                  <span class="info">{{onefile.ncrResults.numberSymptoms}}</span>
                                </span>
                              </div>
                            </div>
                            <div class="card-footer">
                              <span *ngIf="onefile.origenFile != undefined"><a class="float-left btn btn-outline-primary mb-0" href="{{accessToken.blobAccountUrl}}{{accessToken.containerName}}/{{onefile.origenFile.name}}{{accessToken.sasToken}}" target="_blank" download>{{'reportsSection.Download' | translate }} <i class="fa fa-download"></i></a></span>
                              <span *ngIf="onefile.ncrResults.ncrresult"><a class="float-right btn btn-outline-primary mb-0" href="javascript:void(0)" (click)="openNcrResult(onefile.ncrResults.name);">{{'reportsSection.View result' | translate }} <i class="fa fa-eye"></i></a><a *ngIf="onefile.origenFile == undefined" href="{{accessToken.blobAccountUrl}}{{accessToken.containerName}}/{{onefile.ncrResults.name}}{{accessToken.sasToken}}" target="_blank" download><i class="fa fa-download"></i></a></span>
                            </div>
                        </div>
                  </div>
                </div>
              </div>
              <div *ngIf="otherDocs.length>0" class="row">
                <div class="col-md-12">
                  <div class="content-header pb-1">
                    <span>{{'summarySection.Other documents' | translate }}</span>
                  </div>
                  <p class="content-sub-header">
                    <span *ngIf="otherDocs.length>0" class="mr-3">
                      <span>{{'reportsSection.Sort by' | translate }}</span>
                      <span class="nav-item" ngbDropdown display="dynamic" placement="bottom-right">
                          <a class="position-relative colorlink" style="padding: 0rem 1rem;" id="dropdownSort2" ngbDropdownToggle title="{{'generics.Sort' | translate }}">
                              <i class="fas fa-sort font-medium-3 primary"></i>
                              <p class="d-none">Sort</p>
                          </a>
                          <div ngbDropdownMenu aria-labelledby="dropdownSort2" class="dropdown">
                              <a class="dropdown-item py-1" href="javascript:;" (click)="orderFilesOthers('lastModified')">
                                  <span *ngIf="selectedOrderFilesOther=='lastModified'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'reportsSection.Date' | translate }}</span></span>
                                  <span *ngIf="selectedOrderFilesOther!='lastModified'" class="offset-md-1 col-md-8">{{'reportsSection.Date' | translate }}</span>
                              </a>
                              <a class="dropdown-item py-1" href="javascript:;" (click)="orderFilesOthers('extension')">
                                  <span *ngIf="selectedOrderFilesOther=='extension'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'reportsSection.File type' | translate }}</span></span>
                                  <span *ngIf="selectedOrderFilesOther!='extension'" class="offset-md-1 col-md-8">{{'reportsSection.File type' | translate }}</span>
                              </a>
                              <a class="dropdown-item py-1" href="javascript:;" (click)="orderFilesOthers('simplename')">
                                  <span *ngIf="selectedOrderFilesOther=='simplename'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'reportsSection.Name' | translate }}</span></span>
                                  <span *ngIf="selectedOrderFilesOther!='simplename'" class="offset-md-1 col-md-8">{{'reportsSection.Name' | translate }}</span>
                              </a>
                          </div>
                      </span>
                    </span>
                  </p>
                </div>
                <div  class="col-md-12 row">
                  <div *ngFor="let onefile of otherDocs; let i = index" class="pb-2 col-lg-6 col-md-12">
                        <div class="card box border">
                            <div class="card-header pb-0 row">
                              <span class="col-3">
                                <i *ngIf="onefile.origenFile.extension=='.html'" class="fas fas fa-file-code fa-3x grey"></i>
                                <i *ngIf="onefile.origenFile.extension=='.pdf'" class="fas fa-file-pdf fa-3x danger"></i>
                                <i *ngIf="onefile.origenFile.extension=='.vcf' || onefile.ncrResults.extension=='.vcf.gz'" class="fas fas fa-dna fa-3x info"></i>

                                <span class="d-block">
                                {{onefile.origenFile.contentLength}}
                                </span>
                              </span>
                              <span class="col-9">
                                <span class="font-medium-2 grey darken-1 text-bold-400 d-block">
                                  <span *ngIf="onefile.origenFile != undefined">
                                    {{onefile.origenFile.nameForShow}}
                                  </span>
                                  <span *ngIf="onefile.origenFile == undefined">
                                    {{'summarySection.Free text' | translate }}
                                  </span>
                                </span>
                                <span *ngIf="onefile.origenFile != undefined" class="font-small-2">{{onefile.origenFile.lastModified | date:'medium'}}</span>
                                <span *ngIf="onefile.origenFile == undefined" class="font-small-2">{{onefile.ncrResults.lastModified | date:'medium'}}</span>
                              </span>
                            </div>
                            <div class="card-body">
                            </div>
                            <div class="card-footer">
                              <span *ngIf="onefile.origenFile != undefined"><a class="float-left btn btn-outline-primary mb-0" href="{{accessToken.blobAccountUrl}}{{accessToken.containerName}}/{{onefile.origenFile.name}}{{accessToken.sasToken}}" target="_blank" download>{{'reportsSection.Download' | translate }} <i class="fa fa-download"></i></a></span>
                              <span *ngIf="onefile.ncrResults.ncrresult"><a class="float-right btn btn-outline-primary mb-0" href="javascript:void(0)" (click)="openNcrResult(onefile.ncrResults.name);">{{'reportsSection.View result' | translate }} <i class="fa fa-eye"></i></a><a *ngIf="onefile.origenFile == undefined" href="{{accessToken.blobAccountUrl}}{{accessToken.containerName}}/{{onefile.ncrResults.name}}{{accessToken.sasToken}}" target="_blank" download><i class="fa fa-download"></i></a></span>
                            </div>
                        </div>
                  </div>
                </div>
              </div>
              <div *ngIf="docsNcr.length==0 && otherDocs.length==0" class="row">
                <p class="content-header">{{'summarySection.No reports' | translate }}</p>
              </div>

              <!--<div class="row text-left card border">
      			    <div class="card-body col-md-12 mt-1">

                  <table class="table text-center table-responsive" *ngIf="listPatientFiles.length>0">
                    <thead>
                      <tr>
                        <th>File</th>
                        <th>{{'generics.Date' | translate }}</th>
                        <th>{{'generics.Options' | translate }}</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let onefile of listPatientFiles; let i = index">
                        <td style="word-wrap: anywhere;">
                          <span *ngIf="onefile.origenFile != undefined">
                            {{onefile.origenFile.nameForShow}}
                          </span>
                          <span *ngIf="onefile.origenFile == undefined">
                            {{'summarySection.Free text' | translate }}
                          </span>
                        </td>
                        <td *ngIf="onefile.origenFile != undefined">{{onefile.origenFile.lastModified | date:'medium'}}</td>
                        <td *ngIf="onefile.origenFile == undefined">{{onefile.ncrResults.lastModified | date:'medium'}}</td>
                        <td>
                          <p *ngIf="onefile.origenFile != undefined"><a href="{{accessToken.blobAccountUrl}}{{accessToken.containerName}}/{{onefile.origenFile.name}}{{accessToken.sasToken}}" target="_blank" download>Download original file</a></p>
                          <p *ngIf="onefile.ncrResults.ncrresult"><a href="javascript:void(0)" (click)="openNcrResult(onefile.ncrResults.name);">View result NCR</a><a *ngIf="onefile.origenFile == undefined" href="{{accessToken.blobAccountUrl}}{{accessToken.containerName}}/{{onefile.ncrResults.name}}{{accessToken.sasToken}}" target="_blank" download><i class="fa fa-download"></i></a></p>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <p *ngIf="listPatientFiles.length==0">No hay documentos</p>
      			    </div>
      			  </div>-->
          </section>
      </div>
      <!-- Step 5.0 -->
      <div *ngIf="actualStep=='5.0'">
        <div>
          <div class="content-header pb-1">
            <span>{{'diagnosesSection.title' | translate }}</span>
          </div>
          <p class="content-sub-header">
            <span>{{'diagnosesSection.subtitle' | translate }}</span>
          </p>
        </div>
        <div class="mt-2" *ngIf="programs.length>0">
          <ngb-alert type="light" [dismissible]="false" style="border-radius: 10px;box-shadow: 2px 5px #888;" *ngFor="let program of programs ; let i = index">
            <div class="danger" *ngIf="program.name == 'Genetic Program 1'">
              <button type="button" class="float-right btn btn-raised btn-secondary btn-sm" (click)="showProgramRequest(program, contentGeneticProgram)">{{'GeneticProgram.bannerbtn1' | translate }}</button>
              <span>
                <strong>{{'GeneticProgram.bannermsg1pat' | translate }}</strong>
                <strong class="d-block" *ngIf="!program.data[2].result">{{'GeneticProgram.bannermsg2.1' | translate }} {{dateGeneticProgram1|date}} {{'GeneticProgram.bannermsg2.2' | translate }}</strong>
              </span>

            </div>
          </ngb-alert>
        </div>
        <section>
          <div class="mt-2 row">
            <div class="col-lg-12">
              <div class="card border" *ngIf="!uploadingGenotype && !isSomethingPending">
                <div class="card-header">
                  <span class="float-right" *ngIf="(infoGenesAndConditionsExomizer.length!=0 || infoGenesAndConditionsPhen2Genes.length!=0) && topRelatedConditions.length>0">
                    <button type="button" class="mr-1 btn btn-outline-primary" (click)="showPanelGenes(contentPanelGenes);"><span class="" >{{'diagnosesSection.geneticvariants' | translate }}</span> <i class="ml-2 fas fa-dna"></i></button>
                    <button type="button" class="mr-1 btn btn-outline-primary" (click)="showPanelFeedback(contentGeneralNotes);"><span class="" >{{'diagnosesSection.Add notes' | translate }}</span> <i class="ml-2 fa fa-sticky-note-o"></i></button>
                    <button type="button" class="mr-1 btn btn-outline-primary" (click)="showPanelCalculationsDetails(contentCalculationsDetails);"><span class="" >{{'diagnosesSection.Calculations details' | translate }}</span> <i class="ml-2 fa fa-info"></i></button>
                    <!--<span *ngIf="selectedItemsFilter.length>0 || (this.infoGenesAndConditionsExomizer.length>0 && (relatedConditions.length>0 && !gettingRelatedConditions && !calculatingH29Score && !loadingInfoGenes) || (this.infoGenesAndConditionsExomizer.length==0 && this.infoGenesAndConditionsPhen2Genes.length>0) && (relatedConditions.length>0 && !gettingRelatedConditions && !calculatingH29Score && !loadingInfoGenes))" class="mr-1">
                      <a href="javascript:void(0)" class="btn btn-outline-primary" (click)="setFitersDiseases(contentFilterDiseases)"><span *ngIf="selectedItemsFilter.length==0">{{'diagnosesSection.Filter' | translate }}</span><span *ngIf="selectedItemsFilter.length>0">{{selectedItemsFilter.length}} {{'diagnosesSection.applied filters' | translate }}</span></a>
                    </span>-->
                    <!--<span class="nav-item" ngbDropdown display="dynamic" placement="bottom-right">
                        <a class="position-relative colorlink" style="padding: 0rem 1rem;" id="dropdownOptions" ngbDropdownToggle title="{{'generics.Options' | translate }}">
                            <i class="fas fa-ellipsis-h font-medium-3 primary"></i>
                            <p class="d-none">Sort</p>
                        </a>
                        <div ngbDropdownMenu aria-labelledby="dropdownOptions" class="dropdown">
                            <a class="dropdown-item py-1 primary" href="javascript:;" (click)="showPanelCalculationsDetails(contentCalculationsDetails);">
                                <span><span>{{'diagnosesSection.Calculations details' | translate }}</span> <span class="ml-2"> <i class="fa fa-info"></i></span></span>
                            </a>
                        </div>
                    </span>-->
                  </span>
                  <!--<span class="float-right">
                    <button *ngIf="infoGenesAndConditionsExomizer.length>0" [disabled]="!isgen" type="button" [ngClass]="(isgen != true )?'btn btn-outline-secondary inactiveLink':'btn btn-outline-primary'" class="mr-1" (click)="getRelatedConditionsview(false);">Clinic view</button>
                    <button *ngIf="infoGenesAndConditionsExomizer.length>0" [disabled]="isgen" type="button" [ngClass]="(isgen == true )?'btn btn-outline-secondary inactiveLink':'btn btn-outline-primary'" class="mr-1" (click)="getRelatedConditionsview(true);">Genetic view</button>
                  </span>-->
                  <h4 class="card-title" style="text-transform: none;" *ngIf="(infoGenesAndConditionsExomizer.length>0 || infoGenesAndConditionsPhen2Genes.length>0) && topRelatedConditions.length>0">
                    <b class="d-block">{{'diagnosesSection.Results' | translate }}</b>
                    <span class="font-small-2 font-weight-normal">{{'diagnosesSection.SelectCandidate' | translate }}</span>
                  </h4>
                  <h4 class="card-title" *ngIf="infoGenesAndConditionsExomizer.length==0 && (infoGenesAndConditionsPhen2Genes.length==0 && !launchedPhen2genes) || topRelatedConditions.length==0">
                    <span class="float-right">
                      <button type="button" class="btn btn-outline-primary mr-1" (click)="goToStepDiagnoses();">{{'diagnosesSection.gotoanalysis' | translate }}</button>
                    </span>
                    <b>{{'diagnosesSection.no_analyzed' | translate }}</b>
                  </h4>
                  <h4 class="card-title" *ngIf="infoGenesAndConditionsExomizer.length==0 && (infoGenesAndConditionsPhen2Genes.length==0 && launchedPhen2genes) && topRelatedConditions.length>0">
                    <b class="d-block">{{'diagnosesSection.Results' | translate }}</b>
                    <span class="font-small-2 font-weight-normal">{{'diagnosesSection.SelectCandidate' | translate }}</span>
                  </h4>
                </div>
                <div class="card-content" *ngIf="!gettingRelatedConditions && (infoGenesAndConditionsExomizer.length>0 || (infoGenesAndConditionsPhen2Genes.length>0 || launchedPhen2genes) && topRelatedConditions.length>0)">
                  <div class="card-body">
                    <div id="optionRelatedConditions">
                      <div class="">
                        <div class="pb-3" *ngFor="let disease of topRelatedConditions; let i = index" >
                          <div class="row mt-3">
                            <div class="col-1 mt-2" [ngClass]="(actualWidth == 'xs' )?'pl-0':''"> <!--[ngClass]="(disease.genes.length>0)?'mt-2':'mt-1'" -->
                              <mat-checkbox  [ngClass]="(actualWidth == 'xs' )?'':'xl-check'" [checked]="disease.checked" (change)="setStateDisease(i, disease, $event)">
                             </mat-checkbox>
                            </div>
                            <div class="col-11 row" [ngClass]="(actualWidth == 'xs' )?'pr-0 pl-0':''">
                              <div [ngClass]="(actualWidth == 'xs' )?'col-9':'col-10'">

                                <span [ngClass]="(actualWidth == 'xs' )?'':'font-medium-2'"> {{disease.name.label}}</span>
                              </div>
                              <div [ngClass]="(actualWidth == 'xs' )?'col-3':'col-2'">
                                <span class="text-muted">{{disease.h29}}</span>
                                <a class="float-right ml-1" style="color:#009DA0;" (click)="showMoreInfoDisease(i, disease);" href="javascript:void(0)">
                                  <i *ngIf="selectedDisease!=i" class="fas fa-chevron-down" title="{{'generics.More information' | translate }}"></i>
                                  <i *ngIf="selectedDisease==i" class="fas fa-chevron-up" title="{{'generics.Read less' | translate }}"></i>
                                </a>
                              </div>
                              <div class="col-12 text-muted" *ngIf="disease.genes.length>0">
                                Gene<spam *ngIf="disease.genes.length>1">s</spam>:
                                <span *ngFor="let gen of disease.genes; let k = index">
                                  <a *ngIf="infoGenesAndConditionsExomizer.length>0" class="primary" href="javascript:void(0)" title="Click to see more information." (click)="setIndexAndshowPanelGenes(contentPanelGenes, gen.gen)"> {{gen.gen}}</a>
                                  <a *ngIf="infoGenesAndConditionsExomizer.length==0" class="primary" href="javascript:void(0)" title="Click to see more information." (click)="setIndexAndshowPanelGenes2(contentPanelGenes, gen.gen)"> {{gen.gen}}</a>
                                  <!--<a *ngIf="infoGenesAndConditionsExomizer.length==0" class="primary" href="https://www.genecards.org/cgi-bin/carddisp.pl?gene={{gen.gen}}#diseases" target="_blank" title="Click to see more information."> {{gen.gen}}</a>-->
                                  <span *ngIf="k<disease.genes.length-1">,</span>
                                </span>
                              </div>
                              <div class="col-11">
                                <ngb-progressbar type="primary" value="{{disease.h29}}" [striped]="false" [animated]="true" [max]="100"></ngb-progressbar>
                              </div>
                              <div class="col-12 mt-3 row" *ngIf="selectedDisease==i">
                                <!--{{disease|json}}-->
                    						<div class="mb-4 col-md-12">
                    							<div class="card-content card card-outline-primary border">
                    								<div class="card-body" [ngClass]="(actualWidth != 'lg' )?'p-1':''">
                                      <div class="row">
                                        <div [ngClass]="(actualWidth != 'lg' )?'':'border border-top-0 border border-bottom-0 border-left-0'" class="col-xl-6" *ngIf="(actualDiseaseDesc.desc!=null && actualDiseaseDesc.desc!='None') || actualRelatedDisease.clinical_modifier!=undefined || actualRelatedDisease.xrefs!=undefined">
                                          <p *ngIf="actualDiseaseDesc.desc!=null && actualDiseaseDesc.desc!='None'" [ngClass]="(actualRelatedDisease.xrefs!=undefined)?'mb-0':''">{{actualDiseaseDesc.desc}}</p>
                                            <p *ngIf="actualDiseaseDesc.desc==null || actualDiseaseDesc.desc=='None'" [ngClass]="(actualRelatedDisease.xrefs!=undefined)?'mb-0':''">{{'diagnosesSection.no description' | translate }}</p>
                                          <p *ngIf="actualRelatedDisease.xrefs!=undefined">{{'diagnosesSection.More information' | translate }}:
                                            <span *ngFor="let hpo of actualRelatedDisease.xrefs ; let i = index">
                                              <a *ngIf="hpo.name=='Orphanet'" class="primary" href="https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{hpo.id}}&lng={{lang}}" target="_blank" title=" {{hpo.id}}">{{hpo.name}} <i class="ft-external-link"></i></a>
                                              <a *ngIf="hpo.name=='OMIM'" class="primary" href="https://omim.org/entry/{{hpo.id}}" target="_blank" title=" {{hpo.id}}">{{hpo.name}} <i class="ft-external-link"></i></a>
                                              <span *ngIf="i<(actualRelatedDisease.xrefs.length-1)">, </span>
                                            </span>
                                          </p>
                                          <p *ngIf="actualRelatedDisease.xrefs==undefined">{{'diagnosesSection.no external references' | translate }}:
                                          </p>
                                          <div *ngIf="actualRelatedDisease!=undefined">
                                            <div *ngIf="actualRelatedDisease.clinical_course!=undefined" class="pb-1">
                                              <span *ngIf="actualRelatedDisease.clinical_course.length>0">
                                                <p class="mb-1 bg-secondary white"><span class="ml-1">{{'diagnosesSection.Clinical course' | translate }}</span></p>
                                                <p *ngFor="let hpo of actualRelatedDisease.clinical_course ; let i = index">
                                                  <span class="d-block mb-2">{{hpo.info.name}}:<span class="ml-1">{{hpo.info.desc}}</span> (<a href="https://hpo.jax.org/app/browse/term/{{hpo.hpo}}" target="_blank" title=" {{hpo.hpo}}">{{'diagnosesSection.More information' | translate }} <i class="ft-external-link"></i></a>)</span>
                                                </p>
                                              </span>
                                            </div>
                                            <div *ngIf="actualRelatedDisease.clinical_modifier!=undefined" class="pb-1">
                                              <span *ngIf="actualRelatedDisease.clinical_modifier.length>0">
                                                <p class="mb-1 bg-secondary white"><span class="ml-1">{{'diagnosesSection.Clinical modifier' | translate }}</span></p>
                                                <p *ngFor="let hpo of actualRelatedDisease.clinical_modifier ; let i = index">
                                                  <span class="d-block mb-2">{{hpo.info.name}}:<span class="ml-1">{{hpo.info.desc}}</span> (<a href="https://hpo.jax.org/app/browse/term/{{hpo.hpo}}" target="_blank" title=" {{hpo.hpo}}">{{'diagnosesSection.More information' | translate }} <i class="ft-external-link"></i></a>)</span>
                                                </p>
                                              </span>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="col-xl-6" >
                                            <div class="col-md-12 center-elements" *ngIf="loadingGraphSymptomFreq">
                        											<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                        										</div>
                                            <div [style.visibility]="(chartDataVenn.length==0)? 'hidden': 'visible'" class="d3-chart" #chartVenn id="chartVenn" title="{{'patdiagdashboard.panel3msgsubtitlegraph2b' | translate }}" style="cursor: pointer;" [style.margin-left.px]= "-margin.left">
                                              <svg [style.visibility]="(chartDataVenn.length>0)? 'hidden': 'visible'" id ="venn" viewBox="0 0 580 340" [style.margin-left.px]= "-margin.left"></svg>

                                            </div>
                                            <div [style.visibility]="(chartDataVenn.length==0)? 'hidden': 'visible'" class="center-elements mt-2">
                                              <span class="referenceColor" *ngIf="actualRelatedDisease.name!=undefined">
                                                <mat-checkbox [disabled]="true" [checked]="true"> <span title="{{actualRelatedDisease.name}}">{{ (actualRelatedDisease.name.length>22)? (actualRelatedDisease.name | slice:0:22)+'...':(actualRelatedDisease.name) }}</span>
                                               </mat-checkbox>
                                             </span>
                                             <span class="patientColor ml-2">
                                               <mat-checkbox [disabled]="true" [checked]="true" class="ml-2"> {{'menu.Patient' | translate }}
                                              </mat-checkbox>
                                            </span>

                                          </div>
                                        </div>
                                      </div>
                    									<div class="row">
                    										<div class="col-md-12 mt-2 mb-1" *ngIf="fullListSymptoms.length==0">
                    											<span> {{'patdiagdashboard.No data available for the reference case' | translate }} </span>
                    										</div>
                    									</div>

                    									<div class="row mt-3">
                                        <div *ngIf="fullListSymptoms.length>0" class="w-100">
                                          <div class="col-md-12 table-responsive">
                    												<table class="mb-0 table text-center" *ngIf="fullListSymptoms.length>0 && !loadingGraphSymptomFreq" style="margin-top:2%">
                    													<thead>
                    														<tr>
                    															<th style="text-align:left">{{'diagnosis.Symptoms' | translate }}</th>
                                                  <th>{{'diagnosesSection.Prevalence' | translate }}</th>
                    															<th>{{'diagnosesSection.Patient' | translate }}</th>
                    															<th>{{'diagnosesSection.Disease' | translate }}</th>
                                                  <th>{{'generics.Options' | translate }}</th>
                    														</tr>
                    													</thead>
                    													<tbody>
                    														<tr *ngFor="let symptom of fullListSymptoms ; let j = index">
                    															<td style="text-align:left">
                    																<span>
                                                      <a *ngIf="symptom.def!=null || symptom.comment!=''" href="javascript:;" (click)="showMoreInfoSymptomPopup(j, contentInfoSymptomOthers)" title="{{symptom.def}} {{symptom.comment}} ">{{symptom.name}}</a>
                                                      <a *ngIf="symptom.def==null && symptom.comment==''" href="javascript:;" (click)="showMoreInfoSymptomPopup(j, contentInfoSymptomOthers)" title="{{nodescriptionSymptom}}">{{symptom.name}}</a>
                                                      <span *ngIf="symptom.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span>
                                                    </span>
                    															</td>
                                                  <td style="text-align:center" *ngIf="symptom.frequency==undefined">
                                                    <span> {{'diagnosis.unknown frequency' | translate }} </span>
                    															</td>
                                                  <td style="text-align:center" *ngIf="symptom.frequency!=undefined">
                    																<span *ngIf="symptom.frequencyInfo!=undefined"  title="{{symptom.frequencyInfo.desc}}"> {{symptom.frequencyInfo.name}}</span>
                                                    <span *ngIf="symptom.frequencyInfo==undefined"> {{symptom.frequency}} </span>
                                                    <span *ngIf="symptom.frequency==null">{{'diagnosis.unknown frequency' | translate }} </span>
                    															</td>
                    															<td style="text-align:center">
                    																<span *ngIf="symptom.patient"><i class="fa fa-check success"></i></span>
                    																<span *ngIf="!symptom.patient && !symptom.patientbutsuccessor"><i class="fa fa-times danger"></i></span>
                    																<span *ngIf="!symptom.patient && symptom.patientbutsuccessor"><i class="fa fa-check success"></i></span>
                    															</td>
                    															<td style="text-align:center">
                    																<span *ngIf="symptom.patient && (symptom.orphanet || symptom.omim)"><i class="fa fa-check success"></i></span>
                    																<span *ngIf="symptom.patient && !symptom.orphanet && !symptom.omim && !symptom.notpatientbutsuccessor"><i class="fa fa-times danger"></i></span>
                    																<span *ngIf="symptom.patient && !symptom.orphanet && !symptom.omim && symptom.notpatientbutsuccessor"><i class="fa fa-check success"></i></span>
                    																<span *ngIf="!symptom.patient"><i class="fa fa-check success"></i></span>
                    															</td>
                                                  <td style="text-align:center">
                                                    <span class="mt-1 nav-item" ngbDropdown display="dynamic" placement="bottom-right" >
                                                        <a class="position-relative colorlink" style="padding: 0rem 1rem;" id="dropdownSympt{{j}}" ngbDropdownToggle title="{{'generics.Options' | translate }}">
                                                            <i class="fas fa-ellipsis-h font-medium-3 primary"></i>
                                                        </a>
                                                        <div ngbDropdownMenu aria-labelledby="dropdownSympt{{j}}" class="dropdown">
                                                          <a class="dropdown-item py-1" href="javascript:;" (click)="showMoreInfoSymptomPopup(j, contentInfoSymptomOthers)">
                                                            <span class="" >{{'diagnosesSection.More information' | translate }}</span> <i class="ml-2 fa fa-info info"></i>
                                                          </a>
                                                            <a *ngIf="!symptom.patient && !symptom.patientbutsuccessor" class="dropdown-item py-1" href="javascript:;" (click)="addSymptom(symptom, 'table candidates');selectedDisease = -1;showMoreInfoDisease(i, disease);">
                                                              <span class="" >{{'diagnosesSection.Add symptom to the patient' | translate }}</span> <i class="ml-2 fa fa-plus primary"></i>
                                                            </a>
                                                            <a *ngIf="symptom.patient" class="dropdown-item py-1" href="javascript:;" (click)="deleteSymptom(symptom, i, disease);">
                                                              <span class="" >{{'diagnosesSection.Delete symptom to the patient' | translate }}</span> <i class="ml-2 fa fa fa-trash danger"></i>
                                                            </a>
                                                        </div>
                                                    </span>
                    															</td>
                    														</tr>
                    													</tbody>
                    												</table>
                    											</div>

                    										</div>
                    									</div>
                    								</div>
                    							</div>
                    						</div>

                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                      <div *ngIf="relatedConditions.length>10 && indexListRelatedConditions<relatedConditions.length" class="center-elements">
                        <a href="javascript:;" class="primary" (click)="loat10More()">
                            <span>{{'diagnosesSection.Load more' | translate }}</span>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="card-content" *ngIf="gettingRelatedConditions">
                  <div class="card-body">
                    <div class="center-elements">
                        <div><p class="centerSpinner"><i class="center-spinner fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p></div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="card" *ngIf="uploadingGenotype || isSomethingPending">
                <div class="card-content">
                  <div class="card-body">
                    <div class="center-elements">
                      {{'generics.Please wait' | translate }}
                        <div><p><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p></div>
                        {{'analysissection.analyzingdata' | translate }}
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </section>
      </div>
      <!-- End Step 5.0 -->
      <!-- Step 6.0 -->
      <div *ngIf="actualStep=='6.0'">
        <div>
          <div class="content-header pb-1">
            <span>{{'diagnosis.Summary' | translate }}</span>
          </div>
          <span class="content-sub-header">
            <span>
              <p class="mb-0">
                {{'summarySection.subtitle' | translate }}
              </p>
            </span>
          </span>
        </div>
        <section class="mt-3">
          <div class="row">
            <div class="mt-2 col-lg-12 col-xl-6">
              <div class="card border">
                <div class="card-header">
                  <span class="float-right" *ngIf="phenotype.data.length>0">
                    {{'generics.Sort' | translate }}
                    <span class="nav-item" ngbDropdown display="dynamic" placement="bottom-right" title="Views">
                        <a class="position-relative colorlink" style="padding: 0rem 0.5rem;" id="dropdownSymptSummary" ngbDropdownToggle title="{{'generics.Sort' | translate }}">
                            <i class="fas fa-sort font-medium-3 primary"></i>
                            <p class="d-none">Sort</p>
                        </a>
                        <div ngbDropdownMenu aria-labelledby="dropdownSymptSummary" class="dropdown">
                            <a class="dropdown-item py-1" href="javascript:;" (click)="changeViewSummarySymptoms('Simple')">
                                <span *ngIf="viewSummarySymptoms == 'Simple'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'symptomssection.sortalpha' | translate }}</span></span>
                                <span *ngIf="viewSummarySymptoms == 'Advanced'" class="offset-md-1 col-md-8">{{'symptomssection.sortalpha' | translate }}</span>
                            </a>
                            <a class="dropdown-item py-1" href="javascript:;" (click)="changeViewSummarySymptoms('Advanced')">
                                <span *ngIf="viewSummarySymptoms == 'Advanced'"> <span> <i class="fa fa-check"></i></span> <span class="col-md-10">{{'symptomssection.sortgroup' | translate }}</span></span>
                                <span *ngIf="viewSummarySymptoms == 'Simple'" class="offset-md-1 col-md-8">{{'symptomssection.sortgroup' | translate }}</span>
                            </a>
                        </div>
                    </span>
                  </span>
                  <!--<div class="float-right mb-1">
                    <span class="badge mr-2" [ngClass]="(viewSummarySymptoms == 'Advanced')?'pointer btn btn-outline-primary':'bg-secondary white'" (click)="(viewSummarySymptoms == 'Advanced') && changeViewSummarySymptoms('Simple')">{{'summarySection.Simple' | translate }}</span>
                    <span class="badge mr-2" [ngClass]="(viewSummarySymptoms == 'Simple')?'pointer btn btn-outline-primary':'bg-secondary white'" (click)="(viewSummarySymptoms == 'Simple') && changeViewSummarySymptoms('Advanced')">{{'summarySection.Advanced' | translate }}</span>
                  </div>-->
                  <h4 class="card-title d-inline">
                    <i class="fas fa-notes-medical grey"></i> <span class="ml-2">{{'diagnosis.Symptoms' | translate }}</span>
                  </h4>
                </div>
                <div class="card-content">
                  <div class="card-body" *ngIf="phenotype.data.length>0">

                      <span *ngIf="viewSummarySymptoms == 'Simple'">
                        <p *ngFor="let hpo of phenotype.data ; let i = index" [ngClass]="(i == (phenotype.data.length-1))?'mb-0':''">
                          <i class="fas fa-notes-medical grey"></i>
                          <span class="text-muted ml-1" title="{{hpo.name}}">{{hpo.name}} </span>
                          <span *ngIf="hpo.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span>
                        </p>
                        <!--<span class="text-muted ml-1" title="{{hpo.name}}">{{ (hpo.name.length>45)? (hpo.name | slice:0:45)+'...':(hpo.name) }}</span>-->
                      </span>
                      <span *ngIf="viewSummarySymptoms == 'Advanced'">
                        <div class="row" *ngFor="let group of listOfSymptomGroups ; let j = index">
                          <h4 class="col-md-12" [ngClass]="(j > '0' )?'pt-2 border-top-custom pb-2':''"><span class="text-bold-400">{{group.nameGroup}}</span></h4>
                          <ul *ngFor="let hpo of group.symptoms ; let i = index" class="col-lg-12 mb-1" [ngClass]="(i == (group.symptoms.length-1) )?'pb-2':''">
                            <li class="row symptoms-item">
                              <span style="font-size:1rem;flex-grow: 1; line-height: 1.3em;" class="mt-1 mb-1 text-muted col-7 col-xl-8"><i class="fas fa-notes-medical grey"></i> {{hpo.name}} <span *ngIf="hpo.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></span>
                              <span class="col-5 col-xl-4 text-muted">
                                <a class="float-right primary mr-1 mb-0" data-original-title="" title="{{'generics.More information' | translate }}" (click)="showMoreInfoSymptomPopupGroup(j,i, contentInfoSymptom)">
                                  {{hpo.id}}
                                </a>
                              </span>
                            </li>
                          </ul>
                        </div>
                      </span>


                  </div>
                  <div class="card-body" *ngIf="phenotype.data.length==0">
                    {{'summarySection.No symptoms available' | translate }}
                  </div>
                </div>
                <div class="card-footer">
                  <span class="float-left">
                    <span class="d-block text-muted">{{'summarySection.Number of symptoms' | translate }}</span>
                    <span class="info">{{phenotype.data.length}}</span>
                  </span>
                  <span class="float-right">
                    <span><a class="btn btn-outline-primary mb-0 mt-1" href="javascript:void(0)" (click)="goToStep('1.0', true);">{{'generics.Edit' | translate }}</a></span>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-lg-12 col-xl-6">
              <div class="mt-2">
                <div class="col-lg-12 card border" *ngIf="!loadingPotentialDiagnostics">
                  <div class="card-header">
                    <h4 class="card-title d-inline">
                      {{'summarySection.Candidate diagnosis' | translate }}
                    </h4>
                  </div>
                  <div class="card-content" *ngIf="relatedConditions.length>0">
                    <div class="card-body" *ngIf="potentialDiagnostics.length>0">
                      <div class="row pb-3" *ngFor="let disease of potentialDiagnostics; let i = index" >
                        <div class="col-12">
                          <span class="text-muted"> {{disease.name.label}}</span> <!--style="font-size: large;"-->
                        </div>
                        <!--<div class="col-2">
                          <span class="text-muted">{{disease.h29}}</span>
                        </div>-->
                        <div class="col-12 text-muted" *ngIf="disease.genes.length>0">
                          Gene<spam *ngIf="disease.genes.length>1">s</spam>:
                          <span *ngFor="let gen of disease.genes; let k = index">
                            <a *ngIf="infoGenesAndConditionsExomizer.length>0" class="primary" href="javascript:void(0)" title="Click to see more information." (click)="setIndexAndshowPanelGenes(contentPanelGenes, gen.gen)"> {{gen.gen}}</a>
                            <a *ngIf="infoGenesAndConditionsExomizer.length==0" class="primary" href="https://www.genecards.org/cgi-bin/carddisp.pl?gene={{gen.gen}}#diseases" target="_blank" title="Click to see more information."> {{gen.gen}}</a>
                            <span *ngIf="k<disease.genes.length-1">,</span>
                          </span>
                        </div>
                        <div class="col-12">
                          <ngb-progressbar type="primary" value="{{disease.h29}}" [striped]="false" [animated]="true" [max]="100"></ngb-progressbar>
                        </div>
                      </div>
                    </div>
                    <div class="card-body" *ngIf="potentialDiagnostics.length==0">
                      {{'summarySection.no candidate' | translate }}
                    </div>
                  </div>
                  <div class="card-content" *ngIf="relatedConditions.length==0">
                    <div class="card-body">
                      {{'summarySection.no candidate' | translate }}
                    </div>
                  </div>
                  <div class="card-footer center-elements pb-0">
                    <span><a class="btn btn-outline-primary" href="javascript:void(0)" (click)="goToStep('5.0', true);">{{'generics.Edit' | translate }}</a></span>
                  </div>
                </div>
                <div class="col-lg-12 card border" *ngIf="loadingPotentialDiagnostics">
                  <div class="card-body center-elements">
                    <i class="fa fa-spinner fa-spin fa-2x fa-fw pink"></i>
                  </div>
                </div>
              </div>
              <div class="mt-2">
                <div class="col-lg-12 card border">
                  <div class="card-header">
                    <h4 class="card-title d-inline">
                      {{'diagnosis.Notes and Conclusion' | translate }}
                    </h4>
                  </div>
                  <div class="card-content">
                    <div class="card-body">
                      <form class="form" #fWeight="ngForm">
                        <div class="form-body">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="form-group">
                                <textarea name="notes" class="form-control" style="width:100%;height:30vh;max-height: 30vh;" [(ngModel)]="diagnosisInfo.notes" name="notes"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>

                      </form>
                    </div>
                  </div>
                  <div class="card-footer center-elements pb-0">
                    <button type="button" class="btn btn-outline-primary" (click)="saveNotes(true)">{{'diagnosis.Save notes' | translate }}</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <!-- End Step 6.0 -->
    </div>
  </div>
<ng-template #contentExtractorSteps let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{'patnodiagdashboard.step2-1.msg1' | translate }}</h4>
    </div>
  </div>
    <div class="content-wrapper">
      <div class="row col-md-12">
        <div class="col-md-12 offset-lg-1 col-lg-10">
          <section>
            <div class="mt-2">
              <p>{{'patnodiagdashboard.step2-1.msg2' | translate }}</p>
              <div>
                <div class="mb-3 center-elements">
                  <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                </div>
              </div>
            </div>
            <!--<div class="mt-2 mb-4 center-elements" *ngIf="substepExtract==4">
              <h3 class="text-bold-400 mt-4" *ngIf="substepExtract==4">{{'patnodiagdashboard.step2-1.msg3' | translate }}</h3>
              <button type="button" class="mr-1 btn btn-outline-primary" (click)="c('Close click');showPanelSymptomsNcr2(contentSymptomsNcr)">{{'patnodiagdashboard.step2-1.btn1' | translate }} (Opción cartas)</button>
              <button type="button" class="ml-1 btn btn-outline-primary" (click)="c('Close click');showPanelSymptomsNcr(contentSymptomsNcr)">{{'patnodiagdashboard.step2-1.btn1' | translate }} (Opción lista)</button>

            </div>-->
          </section>
        </div>
      </div>
  </div>
</ng-template>
<ng-template #contentSymptomsNcr let-c="close" let-d="dismiss" appendTo="body">
		<div class="modal-header d-block" id="idHeader">
      <button type="button" class="close" aria-label="Close" (click)="confirmCloseSymptomsNcr()">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4>{{'patdiagdashboard.Symptom extraction revision' | translate }}</h4>
				<span>
					{{'patdiagdashboard.We have found' | translate }} <h5 class="text-bold-400 d-inline">{{temporalSymptoms.length}}
            <span *ngIf="temporalSymptoms.length>1" class="text-lowercase">{{'diagnosis.Symptoms' | translate }}.</span>
            <span *ngIf="temporalSymptoms.length==1" class="text-lowercase">{{'diagnosis.Symptom' | translate }}.</span></h5>
				</span>
        <span *ngIf="temporalSymptoms.length>0">
					{{'patdiagdashboard.msgnumbersymptomsfound2' | translate }}
				</span>
			</div>
		</div>

	<div class="modal-body" *ngIf="resultTextNcrCopy!='' && temporalSymptoms.length>0">
    <div class="row col-md-12">
      <div class="center-elements" style="flex: 1 1 auto;">
        <mat-radio-group
          class="example-radio-group" [(ngModel)]="viewOptionNcr">
          <mat-radio-button class="example-radio-button" [value]="1"  (change)="changeViewOptionNcr()">
            {{'symptomssection.See list' | translate }}
          </mat-radio-button>
          <mat-radio-button class="example-radio-button ml-3" [value]="0" (change)="changeViewOptionNcr()">
          {{'symptomssection.See cards' | translate }}
          </mat-radio-button>
        </mat-radio-group>
      </div>
    </div>
    <div *ngIf="viewOptionNcr==0">
			<div class="mt-2 row col-lg-12 offset-xl-2 col-xl-8" *ngIf="actualTemporalSymptomsIndex < temporalSymptoms.length">

          <div class="w-100" *ngFor="let hpo of temporalSymptoms ; let i = index">
            <div class="card bg-grey bg-lighten-3 box border mb-3" *ngIf="actualTemporalSymptomsIndex ==i">
                <div class="card-header pb-0">
                  <strong class="font-medium-3">{{hpo.name}} <span *ngIf="hpo.synonyms==undefined" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></strong>
                  <span style="cursor: pointer;" class="float-right primary" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomNcr);" title="{{'generics.More information' | translate }}" >
                    {{'generics.More information' | translate }}
                  </span>
                </div>
                <div class="card-body">
                    <p class="mb-0">{{'symptomssection.Found in' | translate }}:</p>
                    <span *ngFor="let text of hpo.text ; let j = index">
                      <span *ngIf="(text.source && j== 0) && langToExtract==lang" class="mb-0">"{{text.source}}"</span>
                      <span *ngIf="!text.source && j== 0 || langToExtract!=lang" class="mb-0">"{{text.text | slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text | slice:(text.positions[0]):(text.positions[1])}}</b>  {{text.text | slice:(text.positions[1]+1):(text.positions[1]+40)}}"</span>
                    </span>
                </div>
                <div class="card-footer center-elements bt-n">
                  <span *ngIf="actualTemporalSymptomsIndex>0" style="cursor: pointer;" class="float-left primary mt-1" (click)="goPrevSymptom();" title="{{'generics.More information' | translate }}" >
                    <i style="font-size: 1.3em;" class="fas fa-undo primary"></i>
                  </span>
                  <button type="button" [ngClass]="(actualTemporalSymptomsIndex==0)?'btn-m-l-115':''" class="mr-1 mb-0 btn btn-secondary btn-raised" (click)="rejectSymptomTinder(actualTemporalSymptomsIndex)"><i class="fa fa-times"></i> {{'symptomssection.Does not have the symptom' | translate }}</button>
                  <button type="button" class="ml-1 mb-0 btn btn-primary btn-raised" (click)="addSymptomTinder(actualTemporalSymptomsIndex)"><i class="fa fa-check"></i> {{'symptomssection.Has the symptom' | translate }}</button>
                  <span class="float-right mt-1">{{i+1}}/{{temporalSymptoms.length}}</span>
                </div>
            </div>
          </div>
			</div>
      <div class="mt-2 row col-md-12" *ngIf="actualTemporalSymptomsIndex == temporalSymptoms.length">
        <div class="card box border">
            <div class="card-header pb-0">
              <strong class="w-75 d-inline-block">{{'diagnosis.Summary' | translate }}:</strong>
            </div>
            <div class="card-body pb-0 pt-1">
              <div *ngFor="let hpo of temporalSymptoms ; let i = index">
                <p>{{hpo.name}}
                  <i *ngIf="hpo.checked" class="fa fa-check ml-1 success"></i>
                  <i *ngIf="!hpo.checked" class="fa fa-times ml-1 danger"></i>
                </p>
              </div>
            </div>
            <div class="card-footer pt-0 bt-n">
              <a type="button" class="primary mr-1" (click)="startAgainTinder()">{{'phenotype.Check them again' | translate }}</a>
            </div>
        </div>

      </div>
    </div>
    <div *ngIf="viewOptionNcr==1">
      <div class="mt-2 row">
        <div class="tableFixHead col-md-12">
          <table class="col-md-12 table table-striped">
            <tbody>
              <tr *ngFor="let hpo of temporalSymptoms ; let i = index">
                <td>
                  <span>
                    <mat-checkbox color="primary" class="custom-check" [checked]="hpo.checked" (change)="changeStateSymptom(i, hpo.checked)">
                   </mat-checkbox>
                    <!--<button (click)="changeStateSymptom(i, hpo.checked)" [ngClass]="(hpo.checked==true)?'btn btn-success mr-1 mb-0 btn-fab':'btn btn-secondary mr-1 mb-0 btn-fab'" href="javascript:void(0)">
                      <span *ngIf="!hpo.checked"><i class="fa fa-times mr-1"></i> {{'phenotype.Click to check it' | translate }}</span><span *ngIf="hpo.checked"><i class="fa fa-check mr-1"></i> {{'phenotype.Click to uncheck it' | translate }}</span>
                    </button>-->
                    <span style="cursor: pointer;" class="float-right ml-1 mt-1" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomNcr);" title="{{'generics.More information' | translate }}">
                      <i style="font-size: 1.3em;" class="fa fa-info primary"></i>
                    </span>
                    <span class="font-medium-3 ml-2">
                      <strong class="align-middle">{{hpo.name}} <span *ngIf="hpo.synonyms==undefined" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></strong>
                      <span class="align-middle d-block">
                        <span class="mr-1 font-medium-1">{{'symptomssection.Found in' | translate }}: </span>
                        <span *ngFor="let text of hpo.text ; let j = index">
                          <span *ngIf="(text.source && j== 0) && langToExtract==lang" class="mb-0">"{{text.source}}"</span>
                          <span *ngIf="!text.source && j== 0 || langToExtract!=lang" class="mb-0">"{{text.text | slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text | slice:(text.positions[0]):(text.positions[1])}}</b>  {{text.text | slice:(text.positions[1]+1):(text.positions[1]+40)}}"</span>
                        </span>
                      </span>
                    </span>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
	</div>
  <div class="modal-footer" *ngIf="actualTemporalSymptomsIndex == temporalSymptoms.length || viewOptionNcr==1">
    <div class="form-actions center">
      <div class="center-elements mt-2">
        <button type="button" class="btn btn-secondary btn-raised" (click)="confirmCloseSymptomsNcr()">{{'generics.Cancel' | translate }}</button>
				<button *ngIf="temporalSymptoms.length>0" type="button" class="btn btn-primary btn-raised" (click)="saveSymptomsNcr();">{{'generics.Accept' | translate }}</button>
			</div>

    </div>
  </div>

</ng-template>

<ng-template #contentSuggestions let-c="close" let-d="dismiss" appendTo="body">
	<a id="initpos"></a>
		<div class="modal-header row" id="idHeader" *ngIf="!loadingSuggestions">
			<div class="col-md-12">
				<button type="button" class="close" aria-label="Close" (click)="c('Close click')">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="d-inline mt-1">{{'patdiagdashboard.Select your case symptoms' | translate }} <span class="font-medium-1 d-block mt-1">{{'patdiagdashboard.msgSuggestions' | translate }}</span></h4>
			</div>

		</div>
		<div class="modal-body">
			<div class="col-md-12 center-elements" *ngIf="loadingSuggestions">
				<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
			</div>
			<div class="col-md-12 row card border" *ngIf="!loadingSuggestions">
				<div class="text-right btn-group-toggle" ngbRadioGroup name="radioBasic" [(ngModel)]="modelRadio" (change)="changeSuggestedViewSuggestions()">
					<span class="mr-1 mt-1">{{'patdiagdashboard.Select view' | translate }}:</span>
						<label ngbButtonLabel [ngClass]="(modelRadio==1)?'btn-raised btn-secondary':'btn-raised btn-primary'" style="cursor: pointer;">
								<input ngbButton type="radio" [value]="0"> {{'patdiagdashboard.Default' | translate }}
						</label>
						<label ngbButtonLabel [ngClass]="(modelRadio==1)?'btn-raised btn-primary ml-1':'btn-raised btn-secondary ml-1'" style="cursor: pointer;">
								<input ngbButton type="radio" value="1"> {{'patdiagdashboard.Detailed' | translate }}
						</label>
				</div>
				<div *ngIf="viewSuggestion==0" class="mt-4">
					<div class="row mb-2 ml-2">
						<div class="col-lg-4 col-md-6 col-sm-12" style="min-height: 3em;" *ngFor="let hpo of listOfSymptoms ; let i = index">
							<div class="row col-md-12 pl-0">
								<div class="col-md-10 col-sm-10">
									<a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)" title="{{hpo.def}} {{hpo.comment}} ">{{hpo.name}}<i class="ft-external-link" title="{{'generics.More information' | translate }}"></i></a>
								</div>
								<div class="col-md-2 col-sm-2">
									<button (click)="changeStateTempSymptom(i)" style="min-width: 20px;min-height: 20px;float:left;" [ngClass]="(hpo.checked==true)?'p-0 btn btn-success btn-sm mr-1 mb-0 btn-fab':'p-0 btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)">
										<i *ngIf="hpo.checked" class="fa fa-check"></i>
									</button>
								</div>
							</div>
						</div>
						<div class="col-sm-12" *ngIf="listOfSymptoms.length==0">
							{{'patdiagdashboard.noSymptomstoshow' | translate }}
						</div>

					</div>
				</div>
				<div *ngIf="viewSuggestion==1" class="mt-4">
					<div class="row mb-2 ml-2">
						<div class="col-sm-12" *ngIf="listOfSymptoms.length>0">
							<div class="row col-md-12 pl-0 mb-2">
								<div class="col-md-3 col-sm-3">
									<span><b>{{'generics.Name' | translate }}</b></span>
								</div>
								<div class="col-md-7 col-sm-7">
									<span><b>{{'generics.Description' | translate }}</b></span>
								</div>
								<div class="col-md-2 col-sm-2">
									<span><b>{{'generics.Synonyms' | translate }}</b></span>
								</div>
								<!--<div class="col-md-1 col-sm-1">
									<span><b>Select/deselect</b></span>
								</div>-->
							</div>
						</div>
						<div class="col-sm-12" *ngIf="listOfSymptoms.length==0">
							{{'patdiagdashboard.noSymptomstoshow' | translate }}
						</div>
						<div class="col-sm-12" *ngFor="let hpo of listOfSymptoms ; let i = index">
							<hr *ngIf="i>0" class="mt-0 mb-0">
							<div (click)="changeStateTempSymptom(i)" class="pointer row col-md-12 pl-0 ml-0 pb-2 pt-2" [ngClass]="(hpo.checked==true)?'greenBackground':'emptyBackground'" title="{{(hpo.checked==true) ? ('diagnosis.click to delete it'|translate) : ('diagnosis.click to add it'|translate)}}">
								<div class="pl-0 col-md-3 col-sm-3">
									<a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)">{{hpo.name}} <i class="ft-external-link" title="{{'generics.More information' | translate }}"></i></a>
								</div>
								<div class="pl-0 col-md-7 col-sm-7">
									<span *ngIf="hpo.def!=null">{{hpo.def}}.</span>
									<span *ngIf="hpo.comment!=''">{{hpo.comment}}</span>
									<span *ngIf="hpo.def==null && hpo.comment==''">{{'symptomssection.No description' | translate }}</span>
								</div>
								<div class="pl-0 col-md-2 col-sm-2" >
									<span *ngIf="hpo.synonyms!=undefined" class="text-break">
										<span *ngFor="let synonym of hpo.synonyms ; let j = index">{{synonym.label}}<span *ngIf="j<(hpo.synonyms.length-1)">, </span></span>

									</span>
									<span *ngIf="hpo.synonyms==undefined || hpo.synonyms==''">{{'symptomssection.No synonyms' | translate }}</span>
								</div>
								<!--<div class="col-md-1 col-sm-1">
									<button (click)="changeStateTempSymptom(i)" style="min-width: 32px;min-height: 32px;float:left;" [ngClass]="(hpo.checked==true)?'btn btn-success btn-sm mr-1 mb-0 btn-fab':'btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)">
										<i *ngIf="hpo.checked" class="fa fa-check"></i>
									</button>
								</div>-->
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12 center-elements">
					<span>{{posactual+1}}/{{steps}}</span>
				</div>

			</div>
		</div>

		<div class="modal-footer" *ngIf="!loadingSuggestions">
			<div class="col-md-12 center-elements">
				<div class="form-actions center" *ngIf="!sending">
					<button *ngIf="posactual>0" type="button" class="float-left btn btn-primary btn-raised" (click)="previousDisease()">{{'generics.Previous' | translate }}</button>
					<button type="button" class="ml-4 btn btn-secondary btn-raised" (click)="recalculate()" [class.cursor-not-allowed]="hasChangesSuggestion==false" [disabled]="hasChangesSuggestion==false" [ngClass]="(hasChangesSuggestion==true)?'ml-2 btn btn-danger btn-raised':'ml-2 btn btn-secondary btn-raised'">{{'patdiagdashboard.Save / Update suggestions' | translate }}</button>
					<button *ngIf="posactual+1<steps" type="button" class="float-right btn btn-primary btn-raised" (click)="nextDisease()">{{'generics.Next' | translate }}</button>
					<!--<button type="button" class="btn btn-raised btn-primary" (click)="saveSymptomsOfDiseaseSuggested()">{{'generics.Save' | translate }}</button>-->
				</div>
			</div>
		</div>
</ng-template>

<ng-template #contentAddSymptomsManual let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4 class="modal-title text-muted">{{'diagnosis.Add symptoms' | translate }} <span class="font-medium-1 d-block mt-1"> {{'patdiagdashboard.onebyonemsg' | translate }} </span></h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
		<div class="modal-body row">
			<div class="mt-2 col-md-4 mb-3">
        <div class="card bg-grey bg-lighten-3 p-2 row">
          <h4 class="font-weight-bold text-muted">{{'patnodiagdashboard.step2-4.msg5' | translate }}</h4>
          <p class="row" *ngIf="phenotype.data.length>0">
            <span class="d-block col-md-12" *ngFor="let item2 of phenotype.data; let i = index">
              <span class="symptoms-item mb-2 row">
                <span class="col-10">{{item2.name}}</span>
                <span class="col-2 red" style="cursor: pointer;" (click)="confirmDeletePhenotype(i)" title="{{'generics.Delete' | translate }}"><i class="fa fa-trash"></i></span>
              </span>
            </span>
          </p>
          <p *ngIf="phenotype.data.length==0">
            No ha añadido ningún síntoma
          </p>
        </div>

      </div>
      <div class="mt-2 col-md-8">
  			<div class="row">
          <div class="form-group mb-3 col-md-12">
            <div>
              <span class="d-block">{{'patnodiagdashboard.step2-4.msg1' | translate }}</span>
            </div>
            <input type="text" id="modelTemp" class="form-control"  name="modelTemp" [(ngModel)]="modelTemp" (keyup)="onKeySymptoms($event)" placeholder="{{'patnodiagdashboard.step2-4.msg2' | translate }}">
          </div>

          <div *ngIf="listOfFilteredSymptoms.length > 0" class="col-md-12">
            <div class="mb-3" *ngFor="let hpo of listOfFilteredSymptoms ; let i = index">
              <!-- Card -->
                <div class="card chart-card border" style="background-color: #f2f2f2;">

                  <!-- Card content -->
                  <div class="p-2 row" [ngClass]="(i!= selectedInfoSymptomIndex)?'row':'row'">
                    <div class="col-12">
                      <button (click)="selected2(i)" class="btn-success-over btn btn-secondary mb-0 btn-fab mr-2" href="javascript:void(0)" title="Añadir síntoma">
                        <i class="fa fa-check"></i>
                      </button>
                      <!-- Title -->
                      <!--<h4 *ngIf="i!= selectedInfoSymptomIndex" class="card-title font-weight-bold d-inline" style="font-size:1rem;">{{ (hpo.name.length>40)? (hpo.name | slice:0:40)+'...':(hpo.name) }}</h4>-->
                      <h4 class="card-title font-weight-bold d-inline" style="font-size:1rem;">{{hpo.name}}</h4>
                      <!--<h4 *ngIf="i== selectedInfoSymptomIndex" class="card-title font-weight-bold d-inline" style="font-size:1rem;">{{hpo.name}}</h4>-->
                      <p *ngIf="i!= selectedInfoSymptomIndex" class="mb-1 mt-1">
                        <span *ngIf="hpo.desc!=''">
                          <span *ngIf="hpo.desc!='' && hpo.desc!=null">{{ (hpo.desc.length>140)? (hpo.desc | slice:0:140)+'...':(hpo.desc) }}</span>
                        </span>
                      </p>
                      <a *ngIf="i!= selectedInfoSymptomIndex" class="primary" style="cursor: pointer;" (click)="showMoreInfoSymptom(i);">
                        {{'generics.Read more' | translate }}
                      </a>
                      <p *ngIf="i== selectedInfoSymptomIndex" class="mt-1">
                        <span *ngIf="hpo.desc!=''">
                          {{hpo.desc}}
                        </span>
                      </p>
                      <span *ngIf="i== selectedInfoSymptomIndex">
                        <span class="mt-2">{{'generics.More Info' | translate }} <a  href="https://hpo.jax.org/app/browse/term/{{hpo.id}}" target="_blank" title=" {{hpo.name}} ({{hpo.id}}):"> <i class="ft-external-link"></i></a></span>
                      </span>
                    </div>
                  </div>
                  <div *ngIf="i== selectedInfoSymptomIndex && hpo.synonyms.length>0" class="p-2">
                    <h6>{{'generics.Synonyms' | translate }}</h6>
                    <span *ngIf="hpo.synonyms.length>0">
                      <p *ngFor="let synonym of hpo.synonyms ; let j = index">
                        <span>{{j+1}}. </span> <span >{{synonym}}</span>
                      </p>
                    </span>
                    <span *ngIf="hpo.synonyms.length==0">
                      {{'symptomssection.No synonyms' | translate }}
                    </span>
                  </div>
                  <a *ngIf="i== selectedInfoSymptomIndex" class="ml-2 primary" style="cursor: pointer;" (click)="showMoreInfoSymptom(i);">
                    {{'generics.Read less' | translate }}
                  </a>
                  <!-- Classic tabs -->

                </div>
                <!-- Card -->
            </div>
          </div>
        </div>
  		</div>
		</div>
</ng-template>

<ng-template #contentAddTextSymptoms let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{'phenotype.HPO phenotype extractor' | translate }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    <div class="content-wrapper p-2">
      <div class="row col-md-12">
        <button id="openModalSymptomsNcrButton" [hidden]="true" (click)="showPanelSymptomsNcr(contentSymptomsNcr, true)">.</button>
        <form class="form w-100" #f="ngForm">
          <div class="form-body">
            <div class="row">
              <div [ngClass]="(loadingHpoExtractor==true)?'d-none':'col-md-12'">
                <div class="form-group">
                  <textarea class="form-control" style="width:100%;max-height: 30vh;height:30vh;" [(ngModel)]="medicalText" name="medicalText" placeholder="{{'phenotype.HPO phenotype extractor placeholder' | translate }}"></textarea>
                  <!--<span *ngIf="parserObject.file" class="pull-right">{{'parser.msgOcrInline' | translate }}: <a (click)="parserObject.parserStrategy='OcrInline'; callParser()" href="javascript:void(0)">{{'parser.Advanced extraction' | translate }}</a></span>-->
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
  </div>
    <div class="modal-footer">
      <div class="form-actions center" *ngIf="!sending">
          <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Cancel' | translate }}</button>
          <button *ngIf="!loadingHpoExtractor" type="button" (click)="c('Close click');onSubmitToExtractor(contentExtractorSteps);" [disabled]="medicalText.trim().length <= 5" class="btn btn-primary btn-raised">{{'patnodiagdashboard.step2-0.btn2' | translate }}</button>
      </div>
      <div class="form-actions center" *ngIf="sending">
        <p class="col-md-12 centerSpinner" *ngIf="loadingHpoExtractor"><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p>
      </div>
    </div>
</ng-template>

<ng-template #contentInfoSymptom let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{phenotype.data[selectedInfoSymptomIndex].name }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    <div class="content-wrapper p-2">
      <div class="row col-md-12" class="p-2">
        <span *ngIf="phenotype.data[selectedInfoSymptomIndex].def!=null || phenotype.data[selectedInfoSymptomIndex].comment!=''">
          <h5><strong>{{'generics.Description' | translate }}</strong></h5>
          <span *ngIf="phenotype.data[selectedInfoSymptomIndex].def!=null">{{phenotype.data[selectedInfoSymptomIndex].def}} </span>
          <span *ngIf="phenotype.data[selectedInfoSymptomIndex].comment!=''">{{phenotype.data[selectedInfoSymptomIndex].comment}}</span>
        </span>
        <span *ngIf="phenotype.data[selectedInfoSymptomIndex].def==null && phenotype.data[selectedInfoSymptomIndex].comment==''">
          <h5><strong>{{'generics.Description' | translate }}</strong></h5>
          <span> {{'symptomssection.No description' | translate }} </span>
        </span>
      </div>

      <div *ngIf="phenotype.data[selectedInfoSymptomIndex].synonyms!=undefined" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="phenotype.data[selectedInfoSymptomIndex].synonyms.length>0">
          <p *ngFor="let synonym of phenotype.data[selectedInfoSymptomIndex].synonyms ; let j = index" [ngClass]="(j==phenotype.data[selectedInfoSymptomIndex].synonyms.length-1)?'mb-0':''">
            <span>{{j+1}}. </span> <span >{{synonym}}</span>
          </p>
        </span>
        <span *ngIf="phenotype.data[selectedInfoSymptomIndex].synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
      <div class="p-2">
        <span class="mt-2"><a  href="https://hpo.jax.org/app/browse/term/{{phenotype.data[selectedInfoSymptomIndex].id}}" target="_blank" title=" {{phenotype.data[selectedInfoSymptomIndex].name}} ({{phenotype.data[selectedInfoSymptomIndex].id}}):">{{'generics.More Info' | translate }} <i class="ft-external-link"></i></a></span>
      </div>

  </div>
</ng-template>

<ng-template #contentInfoSymptomOthers let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4 class="mb-0">{{fullListSymptoms[selectedInfoSymptomIndex].name }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    <div class="content-wrapper p-2">
      <div class="row col-md-12" class="p-2">
        <span *ngIf="fullListSymptoms[selectedInfoSymptomIndex].def!=null || fullListSymptoms[selectedInfoSymptomIndex].comment!=''">
          <h5><strong>{{'generics.Description' | translate }}</strong></h5>
          <span *ngIf="fullListSymptoms[selectedInfoSymptomIndex].def!=null">{{fullListSymptoms[selectedInfoSymptomIndex].def}} </span>
          <span *ngIf="fullListSymptoms[selectedInfoSymptomIndex].comment!=''">{{fullListSymptoms[selectedInfoSymptomIndex].comment}}</span>
        </span>
        <span *ngIf="fullListSymptoms[selectedInfoSymptomIndex].def==null && fullListSymptoms[selectedInfoSymptomIndex].comment==''">
          <h5><strong>{{'generics.Description' | translate }}</strong></h5>
          <span> {{'symptomssection.No description' | translate }} </span>
        </span>
      </div>
      <div *ngIf="fullListSymptoms[selectedInfoSymptomIndex].synonyms!=undefined" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="fullListSymptoms[selectedInfoSymptomIndex].synonyms.length>0">
          <p *ngFor="let synonym of fullListSymptoms[selectedInfoSymptomIndex].synonyms ; let j = index" [ngClass]="(j==fullListSymptoms[selectedInfoSymptomIndex].synonyms.length-1)?'mb-0':''">
            <span>{{j+1}}. </span> <span *ngIf="synonym.label">{{synonym.label}}</span><span *ngIf="!synonym.label">{{synonym}}</span>
          </p>
        </span>
        <span *ngIf="fullListSymptoms[selectedInfoSymptomIndex].synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
      <div class="p-2">
        <span class="mt-2"><a  href="https://hpo.jax.org/app/browse/term/{{fullListSymptoms[selectedInfoSymptomIndex].id}}" target="_blank" title=" {{fullListSymptoms[selectedInfoSymptomIndex].name}} ({{fullListSymptoms[selectedInfoSymptomIndex].id}}):">{{'generics.More Info' | translate }} <i class="ft-external-link"></i></a></span>
      </div>

  </div>
</ng-template>

<ng-template #contentInfoSymptomNcr let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{temporalSymptoms[selectedInfoSymptomIndex].name }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    <div class="content-wrapper p-2">
      <div class="row col-md-12" class="p-2">
        <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].def!=null || temporalSymptoms[selectedInfoSymptomIndex].comment!=''">
          <h5><strong>{{'generics.Description' | translate }}</strong></h5>
          <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].def!=null">{{temporalSymptoms[selectedInfoSymptomIndex].def}} </span>
          <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].comment!=''">{{temporalSymptoms[selectedInfoSymptomIndex].comment}}</span>
        </span>
        <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].def==null && temporalSymptoms[selectedInfoSymptomIndex].comment==''">
          <h5><strong>{{'generics.Description' | translate }}</strong></h5>
          <span> {{'symptomssection.No description' | translate }} </span>
        </span>
      </div>

      <div *ngIf="temporalSymptoms[selectedInfoSymptomIndex].synonyms!=undefined" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].synonyms.length>0">
          <p *ngFor="let synonym of temporalSymptoms[selectedInfoSymptomIndex].synonyms ; let j = index" [ngClass]="(j==temporalSymptoms[selectedInfoSymptomIndex].synonyms.length-1)?'mb-0':''">
            <span>{{j+1}}. </span> <span *ngIf="synonym.label">{{synonym.label}}</span> <span *ngIf="!synonym.label">{{synonym}}</span>
          </p>
        </span>
        <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
      <div class="p-2">
        <span class="mt-2">{{'generics.More Info' | translate }} <a  href="https://hpo.jax.org/app/browse/term/{{temporalSymptoms[selectedInfoSymptomIndex].id}}" target="_blank" title=" {{temporalSymptoms[selectedInfoSymptomIndex].name}} ({{temporalSymptoms[selectedInfoSymptomIndex].id}}):"> <i class="ft-external-link"></i></a></span>
      </div>

  </div>
</ng-template>

<ng-template #contentSeeSymptomsOfDisease let-c="close" let-d="dismiss" appendTo="body">
    <div id="idHeader">
    </div>

    <div class="content-wrapper mt-2">
      <div class="row col-md-12">
        <div class="row col-md-12 mb-4">
          <div class="col-md-12">
            <h4><a href="https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{actualProposedDisease.name.id}}" target="_blank" rel="tooltip" title="{{actualProposedDisease.name.id}}">{{actualProposedDisease.name.label | titlecase}}</a></h4>
          </div>
          <div class="col-md-12 mt-2">
            <h5>Genes:</h5>
          </div>
          <div class="col-md-12 mb-2">

            <span *ngIf="actualProposedDisease.genes === undefined">
              <span *ngIf="actualProposedDisease.name.infogene !== undefined">
                No information found in Monarch's MONDO disease database. Consulting genecards instead. The link may not work.
                <a href="{{actualProposedDisease.name.infogene}}" target="_blank" rel="tooltip" title="{{actualProposedDisease.name.infogene}}">More info</a>
              </span>
              <span *ngIf="actualProposedDisease.name.infogene === undefined">
                {{actualProposedDisease.name.label}}
              </span>

            </span>
            <span *ngIf="actualProposedDisease.genes !== undefined">
              <!--<span *ngFor="let gen of actualProposedDisease.genes ; let j = index">-->
              <span *ngFor="let gen of listOfGenes ; let j = index">
                <a *ngIf="gen.checked && gen.importance=='1'" style="color: #0CC27E;" class="font-medium-3" href="https://www.genecards.org/cgi-bin/carddisp.pl?gene={{gen.gen}}#diseases" target="_blank" rel="tooltip" title="The gene {{gen.gen}} appears in the Exomiser results. Click to see more information."> {{gen.gen}}</a>
                <a *ngIf="gen.checked && gen.importance!='1'" style="color: #acae63;" class="font-medium-1" href="https://www.genecards.org/cgi-bin/carddisp.pl?gene={{gen.gen}}#diseases" target="_blank" rel="tooltip" title="The gene {{gen.gen}} appears in the phen2genes results. Click to see more information."> {{gen.gen}}</a>
                <a *ngIf="!gen.checked" style="color: #f9423a;" class="font-small-3" href="https://www.genecards.org/cgi-bin/carddisp.pl?gene={{gen.gen}}#diseases" target="_blank" rel="tooltip" title=" Gene {{gen.gen}}. Click to see more information"> {{gen.gen}}</a>
                <span *ngIf="j<(actualProposedDisease.genes.length-1)">, </span>
              </span>
            </span>
          </div>
          <div class="col-md-12 mt-3 mb-2">
            <h5 class="d-inline">{{'diagnosis.Symptoms' | translate }}: {{listOfSymptoms.length}}</h5>
          </div>
          <div class="row col-md-12 mb-2 ml-2">
            <div class="row col-lg-4 col-md-6 col-sm-12" style="min-height: 5em;" *ngFor="let hpo of listOfSymptoms ; let i = index">
              <div class="row col-md-12">
                <div class="col-md-7 col-sm-6">
                  <a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)" title="{{hpo.def}} {{hpo.comment}} " >{{hpo.name}}</a>
                </div>
                <div class="col-md-5 col-sm-6">
                  <button (click)="changeStateDiseaseSymptom(i)" title="Has got the symptom" [ngClass]="(hpo.checked==true)?'btn btn-success btn-sm mr-1 mb-0 btn-fab':'btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" [disabled]=hpo.checked style="float:left;" href="javascript:void(0)">
                    <i class="fa fa-check"></i>
                  </button>
                  <button (click)="changeStateDiseaseSymptom(i)" title="Do not have the symptom" [ngClass]="(hpo.checked==false)?'btn btn-danger btn-sm mr-1 mb-0 btn-fab':'btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" [disabled]=!hpo.checked style="float:left;" href="javascript:void(0)">
                    <i class="fa fa-times"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
    <div class="modal-footer">
      <div class="form-actions center" *ngIf="!sending">
        <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
        <button type="button" class="btn btn-raised btn-primary" (click)="saveSymptomsOfDisease()">{{'generics.Save' | translate }}</button>
      </div>
    </div>
</ng-template>

<ng-template #contentSettingsExomiser let-d="dismiss" appendTo="body">
    <div class="modal-header" id="idHeader">
      <h4 class="modal-title text-muted">{{'diagnosis.Advanced Setting of Exomiser' | translate }}</h4>
      <button type="button" class="close" aria-label="Close" (click)="discardSettingsExomiser()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body" id="settingExomiser">
      <form class="form" #fExomiserSettings="ngForm">
        <div class="form-body">
          <div class="row col-md-12">
            <h4 class="form-section col-md-12">{{'diagnosis.Basic fields' | translate }} <i [ngClass]="(showBasicFields==true)?'ft-chevron-down info':'ft-chevron-up info'" (click)="showBasicFields=!showBasicFields"></i></h4>
            <div class="col-md-12 row" *ngIf="!showBasicFields">
              <div class="form-group col-md-12 row">
                <div *ngIf="filesVcf.length>0" class="col-md-9">
                  <table class="table text-center table-responsive">
                    <thead>
                      <tr>
                        <th>{{'diagnosis.VCF file' | translate }}</th>
                        <th>{{'generics.Options' | translate }}</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let onefile of filesVcf; let i = index">
                        <td *ngIf="onefile.name == filename" style="word-wrap: anywhere;">
                          <span *ngIf="filesVcf.length>1" class="badge bg-secondary text-white">{{'diagnosis.Selected' | translate }}</span> {{onefile.nameForShow}}
                        </td>
                        <td *ngIf="onefile.name != filename" style="word-wrap: anywhere;">
                          {{onefile.nameForShow}}
                        </td>
                        <td>
                          <a *ngIf="onefile.name != filename" class="btn btn-outline-primary" (click)="selectVcfAsDefault(onefile.name);" href="javascript:void(0)">Select</a>
                          <a class="btn btn-outline-danger" (click)="deleteVcfFile(onefile.name,i);" href="javascript:void(0)">Delete</a>
                          <!--<a class="danger" data-original-title="" title="" (click)="deleteVcfFile(onefile.name,i)">
                            <i class="ft-x"></i>
                          </a>-->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-3">
                  <ng-template #popContent>
                    <p>Variant call file containing mutations in the <a href="https://en.wikipedia.org/wiki/Variant_Call_Format" target="_blank">VCF</a> format.</p>
                    <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p1.close()">Close</button>
                  </ng-template>
                  <label for="VcfBlobName" style="display: block;">VCF file <i class="ft-help-circle danger"  style="cursor: pointer;" placement="down" #p1="ngbPopover" [ngbPopover]="popContent" popoverTitle="VCF file"></i></label>
                  <span *ngIf="filesVcf.length==0">
                    <p *ngIf="filename ==''">{{'generics.No data' | translate }}</p>
                    <p *ngIf="filename !=''">{{filename}}</p>
                  </span>
                  <label *ngIf="!uploadingGenotype && !isApp && !preparingFile" class="btn btn-raised btn-primary">
                    {{'genotype.Upload VCF' | translate }} <input type="file" (change)="onFileChangeVCF($event)" accept=".vcf, .vcf.gz" style="display: none;">
                  </label>
                  <label *ngIf="!uploadingGenotype && isApp && !preparingFile" class="btn btn-raised btn-primary">
                    {{'genotype.Upload VCF' | translate }} <input type="file" (change)="onFileChangeVCF($event)" style="display: none;">
                  </label>
                  <p *ngIf="preparingFile">
                    <small class="d-block">{{'generics.Preparing to upload' | translate }}</small>
                    <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                  </p>
                  <h4 *ngIf="uploadingGenotype">{{'generics.Upload Progress' | translate }}: {{uploadProgress | async}}%</h4>
                </div>
              </div>
            </div>
            <h4 class="form-section col-md-12">Inheritance and pedigrees <i [ngClass]="(showInheritanceAndPedigrees==true)?'ft-chevron-up info':'ft-chevron-down info'" (click)="showInheritanceAndPedigrees=!showInheritanceAndPedigrees"></i></h4>
            <div class="col-md-12 row" *ngIf="showInheritanceAndPedigrees">
              <div class="form-group col-md-6">
                <ng-template #popContent2>
                  <p>File containing pedigree information in Linkage pedigree format. Request it to your lab. </p>
                  <p>Colunms are: Family ID, Individual ID, Paternal ID</p>
                  <p>Maternal ID, Sex (1=male; 2=female; other=unknown), Phenotype (-9 or 0 missing, 1 unaffected, 2 affected). Requires a multisample VCF file with the same individual IDs and a Proband.</p>
                  <p>Further reading: <a href="https://gatkforums.broadinstitute.org/gatk/discussion/7696/pedigree-ped-files" target="_blank">GATK forum</a>, <a href="https://www.mv.helsinki.fi/home/tsjuntun/autogscan/pedigreefile.html" target="_blank">Autogscan</a>, <a href="http://zzz.bwh.harvard.edu/plink/data.shtml#ped" target="_blank">Purcell lab @ BWH</a>.</p>
                  <p class="mt-2">Example:</p>
                  <table style="width:75%" >
                  <tr>
                    <td>FAM1</td>
                    <td>ID1</td>
                    <td>0</td>
                    <td>0</td>
                    <td>1</td>
                    <td>1</td>
                  </tr>
                  <tr>
                    <td>FAM1</td>
                    <td>ID2</td>
                    <td>0</td>
                    <td>0</td>
                    <td>2</td>
                    <td>1</td>
                  </tr>
                  <tr>
                    <td>FAM1</td>
                    <td>ID3</td>
                    <td>ID1</td>
                    <td>ID2</td>
                    <td>1</td>
                    <td>1</td>
                  </tr>
                  <tr>
                    <td>FAM1</td>
                    <td>ID4</td>
                    <td>ID1</td>
                    <td>ID2</td>
                    <td>2</td>
                    <td>2</td>
                  </tr>
                </table>
                <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p2.close()">Close</button>
                </ng-template>
                <label for="PedBlobName">Ped File <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p2="ngbPopover" [ngbPopover]="popContent2" popoverTitle="Ped File"></i></label>
                <p *ngIf="settingExomizer.PedBlobName">{{pedNameForShow}}
                  <a *ngIf="settingExomizer.PedBlobName && !uploadingPed" class="btn btn-outline-danger mb-0" (click)="deleteDataAndFile();" href="javascript:void(0)">
                    <i class="fa fa-times"></i>
                  </a>
                </p>
                <p *ngIf="!uploadingPed && !settingExomizer.PedBlobName">
                  <label class="btn btn-outline-primary">
                    <i class="fa ft-upload-cloud"></i> <input type="file" (change)="onFileChange($event)" style="display: none;" accept=".ped">
                  </label>
                </p>
                          <h4 *ngIf="uploadingPed" class="center-elements">{{'generics.Upload Progress' | translate }}: {{uploadProgressPed | async}}%</h4>
              </div>
              <div class="form-group col-md-6" *ngIf="settingExomizer.PedBlobName">
                <ng-template #popContent3>
                  <p>ID of case to analyze in PED and VCF files. In the example of PED file provided in the PED description, the proband would be ID4 because she is the only affected individual (this is not necessarily the general case).</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p3.close()">Close</button></ng-template>
                <label for="Proband">Proband <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p3="ngbPopover" [ngbPopover]="popContent3" popoverTitle="Proband"></i></label>
                <input type="text" id="Proband" class="form-control" name="Proband" [(ngModel)]="settingExomizer.Proband" required #Proband="ngModel">
                <small class="form-text text-muted danger" *ngIf="!Proband.valid && (Proband.dirty || Proband.touched)">{{'generics.required' | translate }}</small>
              </div>
              <div class="col-md-12">
                <ng-template #popContent4><p>Functionality to filter variants for being compatible with a given pedigree and a mode of inheritance.</p>
                  <p>These filters work well for single individuals and the common case of two parents and a number of children. However, there are limitations when using them for larger pedigrees. For such larger families, the filters lose specificity but not sensitivity. That is, they can fail to filter out less than theoretically possible, but they should not lose any data.</p>
                  <p>Please, study <a href="https://jannovar.readthedocs.io/en/master/ped_filters.html" target="_blank">Jannovar documentation</a> prior to modification. Default:</p>
                  <table style="width:75%" class="mb-2">
                  <tr>
                    <td>AUTOSOMAL_DOMINANT</td>
                    <td>0.1</td>
                  </tr>
                  <tr>
                    <td>AUTOSOMAL_RECESSIVE_HOM_ALT</td>
                    <td>0.1</td>
                  </tr>
                  <tr>
                    <td>AUTOSOMAL_RECESSIVE_COMP_HET</td>
                    <td>2.0</td>
                  </tr>
                  <tr>
                    <td>X_DOMINANT</td>
                    <td>0.1</td>
                  </tr>
                  <tr>
                    <td>X_RECESSIVE_HOM_ALT</td>
                    <td>0.1</td>
                  </tr>
                  <tr>
                    <td>X_RECESSIVE_COMP_HET</td>
                    <td>2.0</td>
                  </tr>
                  <tr>
                    <td>MITOCHONDRIAL</td>
                    <td>0.2</td>
                  </tr>
                  </table>
                  <p>The values represent the maximum minor allele frequency in percent (%) permitted for an allele to be considered as a causative candidate under that mode of inheritance. If you just want to analyse a sample under a single inheritance mode, deselect the others.</p>
                  <p>For AUTOSOMAL_RECESSIVE or X_RECESSIVE ensure both relevant HOM_ALT and COMP_HET modes are present. In cases where you do not want any cut-offs applied, deselect all.</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p4.close()">Close</button>
                </ng-template>
                <label for="InheritanceModes">Inheritance Modes <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p4="ngbPopover" [ngbPopover]="popContent4" popoverTitle="Inheritance Modes"></i></label>
              </div>
              <div class="form-group col-md-12 row">
                <h6 class="col-md-12">Section: AUTOSOMAL</h6>
                <div class="form-group col-md-4 col-lg-3">
                  <label class="d-block" for="AUTOSOMAL_DOMINANT">DOMINANT</label>
                  <input  type="text" class="form-control smallInput" id="AUTOSOMAL_DOMINANT" name="AUTOSOMAL_DOMINANT" [(ngModel)]="settingExomizer.InheritanceModes.AUTOSOMAL_DOMINANT" required number #AUTOSOMAL_DOMINANT="ngModel">
                  <small class="form-text text-muted danger" *ngIf="AUTOSOMAL_DOMINANT.errors?.number">Error! only numbers Ex: 0.1</small>
                  <small class="form-text text-muted danger" *ngIf="!AUTOSOMAL_DOMINANT.errors?.number && !AUTOSOMAL_DOMINANT.valid && (AUTOSOMAL_DOMINANT.dirty || AUTOSOMAL_DOMINANT.touched)">{{'generics.required' | translate }}</small>
                </div>
                <div class="form-group col-md-4 col-lg-3">
                  <label class="d-block" for="AUTOSOMAL_RECESSIVE_HOM_ALT">RECESSIVE HOM ALT</label>
                  <input  type="text" class="form-control smallInput" id="AUTOSOMAL_RECESSIVE_HOM_ALT" name="AUTOSOMAL_RECESSIVE_HOM_ALT" [(ngModel)]="settingExomizer.InheritanceModes.AUTOSOMAL_RECESSIVE_HOM_ALT" required number #AUTOSOMAL_RECESSIVE_HOM_ALT="ngModel">
                  <small class="form-text text-muted danger" *ngIf="AUTOSOMAL_RECESSIVE_HOM_ALT.errors?.number">Error! only numbers Ex: 0.1</small>
                  <small class="form-text text-muted danger" *ngIf="!AUTOSOMAL_RECESSIVE_HOM_ALT.errors?.number && !AUTOSOMAL_RECESSIVE_HOM_ALT.valid && (AUTOSOMAL_RECESSIVE_HOM_ALT.dirty || AUTOSOMAL_RECESSIVE_HOM_ALT.touched)">{{'generics.required' | translate }}</small>
                </div>
                <div class="form-group col-md-4 col-lg-3">
                  <label class="d-block" for="AUTOSOMAL_RECESSIVE_COMP_HET">RECESSIVE COMP HET</label>
                  <input  type="text" class="form-control smallInput" id="AUTOSOMAL_RECESSIVE_COMP_HET" name="AUTOSOMAL_RECESSIVE_COMP_HET" [(ngModel)]="settingExomizer.InheritanceModes.AUTOSOMAL_RECESSIVE_COMP_HET" required number #AUTOSOMAL_RECESSIVE_COMP_HET="ngModel">
                  <small class="form-text text-muted danger" *ngIf="AUTOSOMAL_RECESSIVE_COMP_HET.errors?.number">Error! only numbers Ex: 2.0</small>
                  <small class="form-text text-muted danger" *ngIf="!AUTOSOMAL_RECESSIVE_COMP_HET.errors?.number && !AUTOSOMAL_RECESSIVE_COMP_HET.valid && (AUTOSOMAL_RECESSIVE_COMP_HET.dirty || AUTOSOMAL_RECESSIVE_COMP_HET.touched)">{{'generics.required' | translate }}</small>
                </div>
                <h6 class="col-md-12">Section: X</h6>
                <div class="form-group col-md-4 col-lg-3">
                  <label class="d-block" for="X_DOMINANT">DOMINANT</label>
                  <input  type="text" class="form-control smallInput" id="X_DOMINANT" name="X_DOMINANT" [(ngModel)]="settingExomizer.InheritanceModes.X_DOMINANT" required number #X_DOMINANT="ngModel">
                  <small class="form-text text-muted danger" *ngIf="X_DOMINANT.errors?.number">Error! only numbers Ex: 0.1</small>
                  <small class="form-text text-muted danger" *ngIf="!X_DOMINANT.errors?.number && !X_DOMINANT.valid && (X_DOMINANT.dirty || X_DOMINANT.touched)">{{'generics.required' | translate }}</small>
                </div>
                <div class="form-group col-md-4 col-lg-3">
                  <label class="d-block" for="X_RECESSIVE_HOM_ALT">RECESSIVE HOM ALT</label>
                  <input  type="text" class="form-control smallInput" id="X_RECESSIVE_HOM_ALT" name="X_RECESSIVE_HOM_ALT" [(ngModel)]="settingExomizer.InheritanceModes.X_RECESSIVE_HOM_ALT" required number #X_RECESSIVE_HOM_ALT="ngModel">
                  <small class="form-text text-muted danger" *ngIf="X_RECESSIVE_HOM_ALT.errors?.number">Error! only numbers Ex: 0.1</small>
                  <small class="form-text text-muted danger" *ngIf="!X_RECESSIVE_HOM_ALT.errors?.number && !X_RECESSIVE_HOM_ALT.valid && (X_RECESSIVE_HOM_ALT.dirty || X_RECESSIVE_HOM_ALT.touched)">{{'generics.required' | translate }}</small>
                </div>
                <div class="form-group col-md-4 col-lg-3">
                  <label class="d-block" for="X_RECESSIVE_COMP_HET">RECESSIVE COMP HET</label>
                  <input  type="text" class="form-control smallInput" id="X_RECESSIVE_COMP_HET" name="X_RECESSIVE_COMP_HET" [(ngModel)]="settingExomizer.InheritanceModes.X_RECESSIVE_COMP_HET" required number #X_RECESSIVE_COMP_HET="ngModel">
                  <small class="form-text text-muted danger" *ngIf="X_RECESSIVE_COMP_HET.errors?.number">Error! only numbers Ex: 2.0</small>
                  <small class="form-text text-muted danger" *ngIf="!X_RECESSIVE_COMP_HET.errors?.number && !X_RECESSIVE_COMP_HET.valid && (X_RECESSIVE_COMP_HET.dirty || X_RECESSIVE_COMP_HET.touched)">{{'generics.required' | translate }}</small>
                </div>
                <h6 class="col-md-12">Section: MITOCHONDRIAL</h6>
                <div class="form-group col-md-3">
                  <input  type="text" class="form-control smallInput" id="MITOCHONDRIAL" name="MITOCHONDRIAL" [(ngModel)]="settingExomizer.InheritanceModes.MITOCHONDRIAL" required number #MITOCHONDRIAL="ngModel">
                  <small class="form-text text-muted danger" *ngIf="MITOCHONDRIAL.errors?.number">Error! only numbers Ex: 0.2</small>
                  <small class="form-text text-muted danger" *ngIf="!MITOCHONDRIAL.errors?.number && !MITOCHONDRIAL.valid && (MITOCHONDRIAL.dirty || MITOCHONDRIAL.touched)">{{'generics.required' | translate }}</small>
                </div>
              </div>
            </div>
            <h4 class="form-section col-md-12">Filters <i [ngClass]="(showFilters==true)?'ft-chevron-up info':'ft-chevron-down info'" (click)="showFilters=!showFilters"></i></h4>
            <div class="col-md-12 row" *ngIf="showFilters">
              <div class="form-group col-md-6">
                <ng-template #popContent6><p>Sources to score variant pathogenicity from.</p>
                  <p><a href="https://charite.github.io/software-remm-score.html" target="_blank">REMM</a> is trained on non-coding regulatory regions. <a href="https://cadd.gs.washington.edu/" target="_blank">CADD</a> has been deactivated to alleviate the computation resources. If your case may benefit from using this source, get in touch with us at <a href="mailto:support@foundation29.org">support@foundation29.org</a> and we will reconsider our position. </p>
                  <p>Options: <a href="https://genome.cshlp.org/content/12/3/436" target="_blank">POLYPHEN</a>, <a href="https://www.nature.com/articles/nmeth0810-575" target="_blank">MUTATION_TASTER</a>, <a href="https://www.nature.com/articles/nmeth0410-248" target="_blank">SIFT</a>, <a href="https://charite.github.io/software-remm-score.html" target="_blank">REMM</a>.</p>
                  <p>Default: POLYPHEN, MUTATION_TASTER, SIFT. </p>
                  <p>If you are wondering how to improve this, note that we are too: <a href="https://github.com/exomiser/Exomiser/issues/311" target="_blank">have a look</a></p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p6.close()">Close</button></ng-template>
                <label for="PathogenicitySources">Pathogenicity Sources <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p6="ngbPopover" [ngbPopover]="popContent6" popoverTitle="Pathogenicity Sources"></i></label>
                <mat-select class="form-control" id="PathogenicitySources" name="PathogenicitySources"  [(ngModel)]="settingExomizer.PathogenicitySources" required #PathogenicitySources="ngModel" multiple>
                  <mat-option value="POLYPHEN">POLYPHEN</mat-option>
                  <mat-option value="MUTATION_TASTER">MUTATION_TASTER</mat-option>
                  <mat-option value="SIFT">SIFT</mat-option>
                </mat-select>
                <small class="form-text text-muted danger" *ngIf="!PathogenicitySources.valid && (PathogenicitySources.dirty || PathogenicitySources.touched)">{{'generics.required' | translate }}</small>
              </div>
              <div class="form-group col-md-3">
                <ng-template #popContent7>
                  <p>If set to true, then all variants wil be kept. Setting this to false will set the filter to fail non-missense variants with pathogenicity scores lower than a score cutoff of 0.5. This filter is meant to be quite permissive.</p>
                  <p>Default: false</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p7.close()">Close</button></ng-template>
                <label for="KeepNonPathogenic">Keep Non Pathogenic <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p7="ngbPopover" [ngbPopover]="popContent7" popoverTitle="Keep Non Pathogenic"></i></label>
                <ui-switch class="d-block" id="KeepNonPathogenic" name="KeepNonPathogenic" [(ngModel)]="settingExomizer.KeepNonPathogenic"></ui-switch>
              </div>
              <div class="form-group col-md-12">
                <ng-template #popContent8>
                  <p>Frequency databases you want to use. We recommend the default: all databases</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p8.close()">Close</button></ng-template>
                <label for="FrequencySources">Frequency Sources <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p8="ngbPopover" [ngbPopover]="popContent8" popoverTitle="Frequency Sources"></i></label>
                <mat-select class="form-control" id="FrequencySources" name="FrequencySources"  [(ngModel)]="settingExomizer.FrequencySources" required #FrequencySources="ngModel" multiple>
                  <mat-option value="THOUSAND_GENOMES">THOUSAND_GENOMES</mat-option>
                  <mat-option value="TOPMED">TOPMED</mat-option>
                  <mat-option value="UK10K">UK10K</mat-option>
                  <mat-option value="ESP_AFRICAN_AMERICAN">ESP_AFRICAN_AMERICAN</mat-option>
                  <mat-option value="ESP_EUROPEAN_AMERICAN">ESP_EUROPEAN_AMERICAN</mat-option>
                  <mat-option value="ESP_ALL">ESP_ALL</mat-option>
                  <mat-option value="EXAC_AFRICAN_INC_AFRICAN_AMERICAN">EXAC_AFRICAN_INC_AFRICAN_AMERICAN</mat-option>
                  <mat-option value="EXAC_AMERICAN">EXAC_AMERICAN</mat-option>
                  <mat-option value="EXAC_SOUTH_ASIAN">EXAC_SOUTH_ASIAN</mat-option>
                  <mat-option value="EXAC_EAST_ASIAN">EXAC_EAST_ASIAN</mat-option>
                  <mat-option value="EXAC_FINNISH">EXAC_FINNISH</mat-option>
                  <mat-option value="EXAC_NON_FINNISH_EUROPEAN">EXAC_NON_FINNISH_EUROPEAN</mat-option>
                  <mat-option value="EXAC_OTHER">EXAC_OTHER</mat-option>
                  <mat-option value="GNOMAD_E_AFR">GNOMAD_E_AFR</mat-option>
                  <mat-option value="GNOMAD_E_AMR">GNOMAD_E_AMR</mat-option>
                  <mat-option value="GNOMAD_E_EAS">GNOMAD_E_EAS</mat-option>
                  <mat-option value="GNOMAD_E_FIN">GNOMAD_E_FIN</mat-option>
                  <mat-option value="GNOMAD_E_NFE">GNOMAD_E_NFE</mat-option>
                  <mat-option value="GNOMAD_E_OTH">GNOMAD_E_OTH</mat-option>
                  <mat-option value="GNOMAD_E_SAS">GNOMAD_E_SAS</mat-option>
                  <mat-option value="GNOMAD_G_AFR">GNOMAD_G_AFR</mat-option>
                  <mat-option value="GNOMAD_G_AMR">GNOMAD_G_AMR</mat-option>
                  <mat-option value="GNOMAD_G_EAS">GNOMAD_G_EAS</mat-option>
                  <mat-option value="GNOMAD_G_FIN">GNOMAD_G_FIN</mat-option>
                  <mat-option value="GNOMAD_G_NFE">GNOMAD_G_NFE</mat-option>
                  <mat-option value="GNOMAD_G_OTH">GNOMAD_G_OTH</mat-option>
                  <mat-option value="GNOMAD_G_SAS">GNOMAD_G_SAS</mat-option>
                </mat-select>
                <small class="form-text text-muted danger" *ngIf="!FrequencySources.valid && (FrequencySources.dirty || FrequencySources.touched)">{{'generics.required' | translate }}</small>
                <button *ngIf="settingExomizer.FrequencySources.length>0" type="button" class="btn btn-flat btn-danger" (click)="clearValuesFrequencySources()">Clear</button>
              </div>
              <div class="form-group col-md-2">
                <ng-template #popContent9>
                  <p>Frequency cutoff of a variant in percentage.</p>
                  <p>Frequencies are derived from the databases defined in the FrequencySources section. We recommend a value below 5.0%, depending on the disease. Variants will be removed/failed if they have a frequency higher than the stated percentage in any database defined in the frequencySources section. Not defining this filter will result in all variants having no frequency data, even if the frequencySources contains values.</p>
                  <p>Default: 1% </p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p9.close()">Close</button></ng-template>
                <label for="Frequency" style="display: block;">Frequency <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p9="ngbPopover" [ngbPopover]="popContent9" popoverTitle="Frequency"></i></label>
                <input  type="text" class="form-control smallInput" id="Frequency" name="Frequency" [(ngModel)]="settingExomizer.Frequency" required number #Frequency="ngModel"><span style="display: inline-block;margin-left: 0.5em;">%</span>
                <small class="form-text text-muted danger" *ngIf="Frequency.errors?.number">Error! only numbers Ex: 2.0</small>
                <small class="form-text text-muted danger" *ngIf="!Frequency.errors?.number && !Frequency.valid && (Frequency.dirty || Frequency.touched)">{{'generics.required' | translate }}</small>
              </div>
              <div class="form-group col-md-3">
                <ng-template #popContent10>
                <p>If true it removes all non-regulatory, non-coding variants over 20Kb from a known gene. Intergenic and upstream variants in known enhancer regions over 20kb from a known gene are associated with genes in their TAD and not effected by this filter. This is an important filter to include when analysing whole-genome data.</p>
                <p>Default: true</p>
                <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p10.close()">Close</button></ng-template>
                <label for="RegulatoryFeatureFilter">Regulatory Feature Filter <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p10="ngbPopover" [ngbPopover]="popContent10" popoverTitle="Regulatory Feature Filter"></i></label>
                <ui-switch class="d-block" id="RegulatoryFeatureFilter" name="RegulatoryFeatureFilter" [(ngModel)]="settingExomizer.RegulatoryFeatureFilter"></ui-switch>
              </div>
              <div class="form-group col-md-12">
                <ng-template #popContent11>
                  <p>Define a set of classes you want to remove from the output if you are interested only in specific functional classes of variants.</p>
                  <p>Variant effects are generated by <a href="http://charite.github.io/jannovar/" target="_blank">Jannovar</a>. Jannovar uses <a href="http://www.sequenceontology.org/" target="_blank">Sequence Ontology (SO)</a> terms and are listed in their <a href="https://doc-openbio.readthedocs.io/projects/jannovar/en/master/filter.html?highlight=variant%20filter" target="_blank">manual</a>. </p>
                  <p>Default: UPSTREAM_GENE_VARIANT, INTERGENIC_VARIANT, REGULATORY_REGION_VARIANT, CODING_TRANSCRIPT_INTRON_VARIANT, NON_CODING_TRANSCRIPT_INTRON_VARIANT, SYNONYMOUS_VARIANT, DOWNSTREAM_GENE_VARIANT, SPLICE_REGION_VARIANT.</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p11.close()">Close</button>
                </ng-template>
                <label for="VariantEffectFilters">VariantEffectFilters <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p11="ngbPopover" [ngbPopover]="popContent11" popoverTitle="VariantEffectFilters"></i></label>
                <mat-select class="form-control" id="VariantEffectFilters" name="VariantEffectFilters"  [(ngModel)]="settingExomizer.VariantEffectFilters.remove" required="{{variantEffectsFilterRequired}}" #VariantEffectFilters="ngModel"  multiple (selectionChange)="variantEffectFiltersChanged()">
                  <mat-option value="UPSTREAM_GENE_VARIANT">UPSTREAM_GENE_VARIANT</mat-option>
                  <mat-option value="INTERGENIC_VARIANT">INTERGENIC_VARIANT</mat-option>
                  <mat-option value="REGULATORY_REGION_VARIANT">REGULATORY_REGION_VARIANT</mat-option>
                  <mat-option value="CODING_TRANSCRIPT_INTRON_VARIANT">CODING_TRANSCRIPT_INTRON_VARIANT</mat-option>
                  <mat-option value="NON_CODING_TRANSCRIPT_INTRON_VARIANT">NON_CODING_TRANSCRIPT_INTRON_VARIANT</mat-option>
                  <mat-option value="SYNONYMOUS_VARIANT">SYNONYMOUS_VARIANT</mat-option>
                  <mat-option value="DOWNSTREAM_GENE_VARIANT">DOWNSTREAM_GENE_VARIANT</mat-option>
                  <mat-option value="SPLICE_REGION_VARIANT">SPLICE_REGION_VARIANT</mat-option>
                </mat-select>
                <small class="form-text text-muted danger" *ngIf="!VariantEffectFilters.valid && (VariantEffectFilters.dirty || VariantEffectFilters.touched)">{{'generics.required' | translate }}</small>
                <button *ngIf="settingExomizer.VariantEffectFilters.remove.length>0" type="button" class="btn btn-flat btn-danger" (click)="clearValuesVariantEffectFilters()">Clear</button>
              </div>
              <div class="form-group col-md-3">
                <ng-template #popContent12>
                  <p>Minimum QUAL score of the variant call in VCF file.</p>
                  <p>Default: 50.0</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p12.close()">Close</button></ng-template>
                <label class="d-block" for="MinQuality">Min Call Quality <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p12="ngbPopover" [ngbPopover]="popContent12" popoverTitle="Min Call Quality"></i></label>
                <input  type="text" class="form-control smallInput" id="MinQuality" name="MinQuality" [(ngModel)]="settingExomizer.MinQuality" number #MinQuality="ngModel">
                <small class="form-text text-muted danger" *ngIf="MinQuality.errors?.number">Error! only numbers Ex: 2.0</small>
              </div>
            </div>
            <h4 class="form-section col-md-12">Prioritizers <i [ngClass]="(showPrioritizers==true)?'ft-chevron-up info':'ft-chevron-down info'" (click)="showPrioritizers=!showPrioritizers"></i></h4>
            <!--<div class="form-group col-md-11">
              <label for="Prioritizers">Prioritizers</label>
              <mat-select class="form-control" id="Prioritizers" name="Prioritizers"  [(ngModel)]="settingExomizer.Prioritizers" multiple>
                <mat-option value="hiphive">hiPHIVE (compare phenotypes against all species)</mat-option>
                <mat-option value="phive">PHIVE (compare phenotypes against mouse only)</mat-option>
                <mat-option value="phenix">PhenIX (compare phenotypes against human only)</mat-option>
                <mat-option value="none">None - filter only</mat-option>
              </mat-select>
            </div>-->
            <div class="col-md-12 row" *ngIf="showPrioritizers">
              <div class="form-group col-md-11">
                <ng-template #popContent13>
                  <p>Scores genes using phenotype comparisons to human, mouse and fish involving disruption of the gene or nearby genes in the interactome using a Random walk. Deselecting all is the same selecting all.</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p13.close()">Close</button>
                </ng-template>
                <label for="HiPhivePrioritisers">HiPhive Prioritisers <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p13="ngbPopover" [ngbPopover]="popContent13" popoverTitle="HiPhive Prioritisers"></i></label>
                <mat-select class="form-control" id="HiPhivePrioritisers" name="HiPhivePrioritisers"  [(ngModel)]="settingExomizer.HiPhivePrioritisers" required multiple #HiPhivePrioritisers="ngModel">
                  <mat-option value="human">human</mat-option>
                  <mat-option value="mouse">mouse</mat-option>
                  <mat-option value="fish">fish</mat-option>
                  <mat-option value="ppi">ppi</mat-option>
                </mat-select>
                <small class="form-text text-muted danger" *ngIf="!HiPhivePrioritisers.valid && (HiPhivePrioritisers.dirty || HiPhivePrioritisers.touched)">{{'generics.required' | translate }}</small>
              </div>
            </div>
            <h4 class="form-section col-md-12">Input control <i [ngClass]="(showInputControl==true)?'ft-chevron-up info':'ft-chevron-down info'" (click)="showInputControl=!showInputControl"></i></h4>
            <div class="col-md-12 row" *ngIf="showInputControl">
              <div class="row col-md-12 modal-body">
                <ng-template #popContent15>
                  <p>List of HPO terms to prime the variant prioritization.</p>
                  <p>Example: HP:0001156, HP:0001363, HP:0011304, HP:0010055.</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p15.close()">Close</button>
                </ng-template>
                <label class="d-block col-md-12" for="ActualSymtoms">Set of Symptoms <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p15="ngbPopover" [ngbPopover]="popContent15" popoverTitle="Set of Symptoms"></i></label>
                <div class="row col-md-12">
                  <span class="col-md-3" *ngFor="let hpo of phenotype.data ; let i = index">
                    <span>{{i+1}}. {{hpo.name}} - {{hpo.id}}</span><a class="danger" data-original-title="" title="" (click)="confirmDeletePhenotype(i)">
                      <i class="ft-x"></i>
                    </a>
                  </span>
                </div>
                <label class="col-md-12 d-block mt-4" for="AddNewSymtoms">Add New Symptoms</label>
                <ng-template #rt let-r="result" let-t="term">
                  {{ r.name}} - {{ r.id}}
                </ng-template>
                <div class="col-md-12 form-group">
                  <input #input class="input" type="text" class="form-control mb-3" [(ngModel)]="modelTemp" [ngbTypeahead]="searchSymptom" name="addSymptomsOption2" [resultTemplate]="rt" [inputFormatter]="formatter1" placeholder="Search by sympton name or HPO code" (selectItem)="selected2($event)"/>
                </div>
                <span class="btn btn-primary btn-sm selected" style="margin-right: 0.5em;" *ngFor="let item of selectedItems">
                  <span style="color: black !important;">
                    {{item.name}} - {{ item.id}}
                    <span class="close-selected" (click)="deleteItem(item)">&nbsp;x</span>
                  </span>
                </span>
                <div class="col-md-12 center-elements">
                  <button *ngIf="!loadingHpoExtractor" type="button" (click)="addSymptomsOption2()" [disabled]="selectedItems.length == 0" class="btn btn-raised btn-primary">{{'diagnosis.Add symptoms' | translate }}</button>
                </div>
              </div>
            </div>
            <h4 class="form-section col-md-12">Output control <i [ngClass]="(showOutputControl==true)?'ft-chevron-up info':'ft-chevron-down info'" (click)="showOutputControl=!showOutputControl"></i></h4>
            <div class="col-md-12 row" *ngIf="showOutputControl">
              <div class="form-group col-md-4">
                <ng-template #popContent14>
                  <p>Number of genes to output. Setting it to 0 means to output all. Specify a limit if desired. Default is 50 for the first 50 results</p>
                  <button class="pull-right mt-2" style="margin-top: 1em;margin-bottom: 1em;" (click)="p14.close()">Close</button>
                </ng-template>
                <label for="NumGenes">Num Genes <i class="ft-help-circle danger" style="cursor: pointer;" placement="down" #p14="ngbPopover" [ngbPopover]="popContent14" popoverTitle="Num Genes"></i></label>
                <input  type="text" class="form-control" id="NumGenes" name="NumGenes" [(ngModel)]="settingExomizer.NumGenes" required digits #NumGenes="ngModel">
                <small class="form-text text-muted danger" *ngIf="NumGenes.errors?.digits">{{'generics.Only integers are allowed' | translate }}</small>
                <small class="form-text text-muted danger" *ngIf="!NumGenes.errors?.digits && !NumGenes.valid && (NumGenes.dirty || NumGenes.touched)">{{'generics.required' | translate }}</small>
              </div>
              <div class="form-group col-md-4">
                <label for="OutputPassVariantsOnly">Output Pass Variants Only</label>
                <ui-switch class="d-block" id="OutputPassVariantsOnly" name="OutputPassVariantsOnly" [(ngModel)]="settingExomizer.OutputPassVariantsOnly"></ui-switch>
              </div>
              <div class="form-group col-md-4">
                <label for="OutputFormats">OutputFormats</label>
                <mat-select class="form-control" id="OutputFormats" name="OutputFormats"  [(ngModel)]="settingExomizer.OutputFormats" multiple>
                  <mat-option [disabled]=true value="HTML">HTML</mat-option>
                  <mat-option [disabled]=true value="JSON">JSON</mat-option>
                  <mat-option value="TSV_GENE">TSV_GENE</mat-option>
                  <mat-option value="TSV_VARIANT">TSV_VARIANT</mat-option>
                  <mat-option value="VCF">VCF</mat-option>
                </mat-select>
              </div>
            </div>
            <!--
              <div class="form-group col-md-3">
                <label for="AnalysisMode">AnalysisMode</label>
                <mat-select class="form-control" id="AnalysisMode" name="AnalysisMode"  [(ngModel)]="settingExomizer.AnalysisMode">
                  <mat-option value="PASS_ONLY">PASS_ONLY</mat-option>
                  <mat-option value="FULL">FULL</mat-option>
                </mat-select>
              </div>
            -->
            <!--<div class="form-group col-md-6">
              <label for="ResultsPrefix">Results Prefix</label>
              <p>{{settingExomizer.ResultsPrefix}}</p>
            </div>-->

            <div class="col-md-12 center-elements">
              <!--<button *ngIf="settingExomizer.PedBlobName" type="button" class="btn btn-raised btn-primary" (click)="saveSettingsExomiser()" disabled="!Proband.valid && (Proband.dirty || Proband.touched)">{{'generics.Save' | translate }}</button>
              <button *ngIf="!settingExomizer.PedBlobName" type="button" class="btn btn-raised btn-primary" (click)="saveSettingsExomiser()">{{'generics.Save' | translate }}</button>-->
              <button type="button" class="btn btn-raised btn-primary" (click)="saveSettingsExomiser()" *ngIf="fExomiserSettings.valid && phenotype.data.length>0">{{'generics.Save' | translate }}</button>
              <button type="button" class="btn btn-raised btn-primary" (click)="saveSettingsExomiser()" disabled="true" *ngIf="!fExomiserSettings.valid || phenotype.data.length==0">{{'generics.Save' | translate }}</button>
            </div>
          </div>

        </div>
      </form>
    </div>
    <!--<div class="modal-footer">
      <div class="form-actions center" *ngIf="!sending">
          <button type="button" class="btn btn-secondary btn-raised" (click)="cancelSettingsExomiser()">{{'generics.Cancel' | translate }}</button>
          <button type="button" class="btn btn-primary btn-raised" (click)="saveSettingsExomiser()">{{'generics.Save' | translate }}</button>
      </div>
    </div>-->
</ng-template>

<ng-template #contentPanelGenes let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header d-block" id="idHeader">
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
    <div class="content-header text-left">
				<h4 class="modal-title" >{{'geneTable.title' | translate }}</h4>
        <span class="content-sub-header text-muted">{{'geneTable.subtitle' | translate }}</span>
    </div>
  </div>
  <div class="responsive_table" *ngIf="infoGenesAndConditionsExomizer.length>0 && urlFileHtmlExomiserBlob!='' && !loadingTable">
    <table mat-table
    [dataSource]="infoGenesAndConditionsExomizer" multiTemplateDataRows
    class="table table-responsive mat-elevation-z8 mb-0">
    <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay;let j=index">
      <th mat-header-cell *matHeaderCellDef style="font-size: large;" > {{column}} </th>
      <td mat-cell *matCellDef="let element">
        <div class="row" style="align-items: center;">
          <div class="col-xl-12" style="display:contents;">
            <div class="col-2">
              <span style="font-size: large;">{{element[columns[j]]}}</span>
            </div>
            <div class="col-10">
              <div class="row" style="display:flex;">
                <div class="col-xl-12" style="text-align: right;">
                  <span *ngIf="element.summary.whiteListed.value==true" id="remarkedSummary" style="color:white; background-color: #f55252;" >{{element.summary.whiteListed.name}}</span>
                  <span  class="ml-2" *ngIf="element.summary.clinVarDataTotal!=null" id="remarked1Summary" style="background-color: #dee2e6;" [ngStyle]="{'background-color': element.summary.clinVarDataTotal.colorPrimary[0], 'color':element.summary.clinVarDataTotal.colorPrimary[1]}">ClinVar</span>
                  <span *ngIf="element.summary.clinVarDataTotal!=null" id="remarkedOpacity2Summary" style="background-color: #dee2e6;" [ngStyle]="{'background-color': element.summary.clinVarDataTotal.colorPrimary[0], 'color':element.summary.clinVarDataTotal.colorPrimary[1]}">{{element.summary.clinVarDataTotal.name}}</span>
                  <span  class="ml-2" id="remarked1Summary" [ngStyle]="{'background-color': element.summary.colorScoredx29[0],'color':element.summary.colorScoredx29[1]}">Score</span>
                  <span id="remarkedOpacity2Summary" [ngStyle]="{'background-color': element.summary.colorScoredx29[0],'color':element.summary.colorScoredx29[1]}">{{element.summary.scoreSummary}}</span>
                  <i *ngIf="element.info[0].length==0" class=" ml-3 ft-chevron-down" style="color:transparent;"></i>
                  <i *ngIf="!(element == expandedElement)&&element.info[0].length>0" class=" ml-3 ft-chevron-down"></i>
                  <i *ngIf="(element == expandedElement)&&element.info[0].length>0" class="ml-3 ft-chevron-up"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </td>
    </ng-container>

    <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element;let j=index" [attr.colspan]="columnsToDisplay.length">
        <div class="example-element-detail" *ngIf="element.info!=undefined"
        [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
          <div *ngFor="let elementInfoList of element.info">
            <div class="row mt-2 mb-2" *ngFor="let elementInfo of elementInfoList" style="margin-right: 0px !important; margin-left: 0px !important; border:1px solid #929695; background-color:transparent;">
              <div class="col-md-12 mt-2" style="display: flex;">
                <div class="col-md-4 mt-2" style="display: inline-table">
                  <div *ngIf="elementInfo.whiteListed.value==true">
                    <span style="color:white; background-color: #f55252;" id="remarked">{{elementInfo.whiteListed.name}}</span>
                    </div>
                  <div class="mt-2" *ngIf="elementInfo.whiteListed.value==true && elementInfo.clinVarData.data.alleleId!=''">
                    <span id="remarked1" [ngStyle]="{'background-color': elementInfo.clinVarData.colorPrimary[0],'color':elementInfo.clinVarData.colorPrimary[1]}">Clinvar</span>
                    <span id="remarkedOpacity2" [ngStyle]="{'background-color': elementInfo.clinVarData.colorPrimary[0],'color':elementInfo.clinVarData.colorPrimary[1]}">{{elementInfo.clinVarData.name}}</span>
                  </div>
                  <div *ngIf="(elementInfo.whiteListed.value==false ||elementInfo.whiteListed.value==undefined) && elementInfo.clinVarData.data.alleleId!=''">
                    <span id="remarked1" [ngStyle]="{'background-color': elementInfo.clinVarData.colorPrimary[0],'color':elementInfo.clinVarData.colorPrimary[1]}">Clinvar</span>
                    <span id="remarkedOpacity2" [ngStyle]="{'background-color': elementInfo.clinVarData.colorPrimary[0],'color':elementInfo.clinVarData.colorPrimary[1]}">{{elementInfo.clinVarData.name}}</span>
                  </div>
                  <div class="mt-2" *ngIf="elementInfo.whiteListed.value==true || elementInfo.clinVarData.data.alleleId!=''">
                    <span id="remarked1" [ngStyle]="{'background-color': elementInfo.scores.combinedScore.color[0],'color':elementInfo.scores.combinedScore.color[1]}">{{'geneTable.Exomiser Score' | translate }}</span>
                    <span id="remarkedOpacity2" [ngStyle]="{'background-color': elementInfo.scores.combinedScore.color[0],'color':elementInfo.scores.combinedScore.color[1]}">{{elementInfo.scores.combinedScore.value}}</span>
                  </div>
                  <div *ngIf="(elementInfo.whiteListed.value==false ||elementInfo.whiteListed.value==undefined) && elementInfo.clinVarData.data.alleleId==''">
                    <span id="remarked1" [ngStyle]="{'background-color': elementInfo.scores.combinedScore.color[0],'color':elementInfo.scores.combinedScore.color[1]}">{{'geneTable.Exomiser Score' | translate }}</span>
                    <span id="remarkedOpacity2" [ngStyle]="{'background-color': elementInfo.scores.combinedScore.color[0],'color':elementInfo.scores.combinedScore.color[1]}">{{elementInfo.scores.combinedScore.value}}</span>
                  </div>
                </div>
                <div class="col-md-4 mt-2">
                    <h6 *ngIf="elementInfo.modeOfInheritance=='Autosomal dominant'">{{'geneTable.Autosomal dominant' | translate }}</h6>
                    <h6 *ngIf="elementInfo.modeOfInheritance=='Autosomal recessive'">{{'geneTable.Autosomal recessive' | translate }}</h6>
                  <span>
                    <span style="word-wrap: anywhere;cursor: pointer;" title="{{elementInfo.mutation.ref}}">{{ (elementInfo.mutation.ref.length>9)? (elementInfo.mutation.ref | slice:0:9)+'...('+(elementInfo.mutation.ref.length)+')':(elementInfo.mutation.ref) }}</span>
                    <span> > </span>
                    <span style="word-wrap: anywhere;cursor: pointer;" title="{{elementInfo.mutation.alt}}">{{ (elementInfo.mutation.alt.length>9)? (elementInfo.mutation.alt | slice:0:9)+'...('+(elementInfo.mutation.alt.length)+')':(elementInfo.mutation.alt) }}</span>
                  </span>
                  <div class="mt-2">
                    <span style="word-wrap: anywhere;cursor: pointer;">{{elementInfo.chromosomeInfo.chromosome}}:{{elementInfo.chromosomeInfo.position}} ({{elementInfo.chromosomeInfo.assembly}})</span>
                  </div>
                  <div class="mt-2 mb-2">
                    <span id="remarked" [ngStyle]="{'background-color': elementInfo.variantEffect.color[0],'color':elementInfo.variantEffect.color[1]}">
                      <span *ngIf="elementInfo.variantEffect.value == 'Missense variant'">{{'geneTable.missense variant' | translate }}</span>
                      <span *ngIf="elementInfo.variantEffect.value ==  exostring">{{'geneTable.utr intron variant' | translate }}</span>
                      <span *ngIf="elementInfo.variantEffect.value!= 'Missense variant' && elementInfo.variantEffect.value!= exostring" class="text-lowercase">{{elementInfo.variantEffect.value }}</span>
                    </span>
                  </div>
                </div>
                <div class="col-md-4 mt-2">
                  <div class="col-md-12 ml-2">
                    <span style="font-weight: bold;"> {{'geneTable.Score' | translate }} </span>
                    <table style="font-size: 0.8rem; width: 70%;">
                      <tbody>
                        <tr>
                          <th colspan="2" style="padding:0.1rem; font-weight: normal;"> Exomiser </th>
                          <th style="padding:0.1rem; font-weight: normal; ">{{elementInfo.scores.combinedScore.value}}</th>
                        </tr>
                        <tr>
                          <th style="padding:0.1rem; font-weight: normal;">&nbsp;</th>
                          <th style="padding:0.1rem; font-weight: normal;"> Phenotype </th>
                          <th style="padding:0.1rem; font-weight: normal;">{{elementInfo.scores.priorityScore.value}}</th>
                        </tr>
                        <tr>
                          <th style="padding:0.1rem; font-weight: normal;">&nbsp;</th>
                          <th style="padding:0.1rem; font-weight: normal;"> Variant </th>
                          <th style="padding:0.1rem;font-weight: normal;">{{elementInfo.scores.variantScore.value}}</th>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-2" style="display: flex;" *ngIf="(elementInfo.mutation.mutationInfomasterMind.length>0||elementInfo.frequencyData.length>0 || elementInfo.predictedPathogenicityScores.length>0)">
                <div>
                  <a class="primary" (click)="showMoreInfo(elementInfo)"> {{'geneTable.Literatureinformation' | translate }}
                  <i *ngIf="!elementInfo.moreInfoSelected" class="ml-1 ft-chevron-down"></i>
                  <i *ngIf="elementInfo.moreInfoSelected" class="ml-1 ft-chevron-up"></i>
                  </a>
                </div>
              </div>
              <div *ngIf="elementInfo.moreInfoSelected" class="col-md-12 mt-1 mb-2" style="display: flex;">
                <div class="col-md-6" style="display: flex;"  id="moreinfoLinks">
                  <div class="col-md-6" *ngIf="elementInfo.mutation.mutationInfomasterMind.length>0" style="display: inline-table;">
                    <span style="font-weight: bold;"> {{'geneTable.Literature' | translate }} </span>
                    <div *ngIf="elementInfo.mutation.mutationInfomasterMind.length>0">
                      <a href="https://mastermind.genomenon.com/detail?gene={{element.name}}&gene={{element.name}}&disease=all%20diseases" target="_blank" class="mt-1 ml-1" style="display: flex;"><i class="ft-external-link mr-1"></i>Gene: {{element.name}}</a>
                      <div *ngFor="let mutationInfomasterMind of elementInfo.mutation.mutationInfomasterMind">
                        <a href="https://mastermind.genomenon.com/detail?gene={{element.name}}&gene={{element.name}}&mutation={{element.name}}:{{mutationInfomasterMind}}&disease=all%20diseases" target="_blank" class="mt-1 ml-1" style="display: flex;"><i class="ft-external-link mr-1"></i>Gene: {{element.name}}, Variant: {{mutationInfomasterMind}}</a>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 ml-4" style="display: inline-table;" id="moreinfoLinks2ndcol">
                    <span *ngIf="elementInfo.clinVarData.data.alleleId!='' || elementInfo.mutation.url1!='rs0' || elementInfo.frequencyLinks.length>0" style="font-weight: bold;"> {{'geneTable.Links of interest' | translate }} </span>
                    <div *ngIf="elementInfo.clinVarData.data.alleleId!=''">
                      <a href="https://www.ncbi.nlm.nih.gov/clinvar/?term={{elementInfo.clinVarData.data.alleleId}}[alleleId]" target="_blank" *ngIf="elementInfo.clinVarData.data.reviewStatus!=''" class="mt-1 ml-1" style="display: flex;"><i class="ft-external-link mr-1 "></i>ClinVar status: {{elementInfo.clinVarData.data.reviewStatus}}</a>
                      <a href="https://www.ncbi.nlm.nih.gov/clinvar/?term={{elementInfo.clinVarData.data.alleleId}}[alleleId]" target="_blank" *ngIf="elementInfo.clinVarData.data.reviewStatus==''" class="mt-1 ml-1" style="display: flex;"><i class="ft-external-linkmr-1"></i>ClinVar status</a>
                    </div>
                    <div *ngIf="elementInfo.mutation.url1!='rs0'">
                      <a class="primary" href="https://www.ncbi.nlm.nih.gov/snp/{{elementInfo.mutation.url1}}" target="_blank" class="mt-1 ml-1" style="display: flex;"><i class="ft-external-link mr-1"></i>dbSNP - {{elementInfo.mutation.url1}}</a>
                    </div>
                    <div class="mt-2" *ngIf="elementInfo.frequencyLinks.length>0">
                      <span style="font-weight: bold;"> {{'geneTable.Frequency sources' | translate }} </span>
                    </div>
                    <div *ngIf="elementInfo.frequencyLinks.length>0">
                      <div *ngFor="let freqLink of elementInfo.frequencyLinks">
                        <a style="display: flex;" href="{{freqLink.link}}" target="_blank" class="mt-1 ml-1"><i class="ft-external-link mr-1"></i>{{freqLink.name}}</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 ml-3">
                  <div class="col-md-12">
                    <span *ngIf="elementInfo.frequencyData.length>0" style="text-align: left; font-weight: bold;"> {{'geneTable.Frequency data' | translate }} </span>
                    <table class="mt-1" *ngIf="elementInfo.frequencyData.length>0" style="font-size: 0.7rem; width: 90%; text-align: left;">
                      <tbody>
                        <tr *ngFor="let freqData of elementInfo.frequencyData">
                          <th style="padding:0.1rem; font-weight: normal">{{freqData.source}}</th>
                          <th style="padding:0.1rem; font-weight: normal">{{freqData.frequency}} %</th>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-md-12 mt-2" *ngIf="elementInfo.predictedPathogenicityScores.length>0">
                    <span style="font-weight: bold;"> {{'geneTable.In-silico metrics' | translate }} </span>
                    <table style="font-size: 0.7rem; width: 90%;">
                      <tbody>
                        <tr *ngFor="let pathogenicityScore of elementInfo.predictedPathogenicityScores">
                          <th style="padding:0.1rem; font-weight: normal">{{pathogenicityScore.source.toLowerCase()}}</th>
                          <th style="padding:0.1rem; font-weight: normal">{{pathogenicityScore.score | number : '1.2-2'}}</th>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
    </table>
  </div>
  <div class="responsive_table" *ngIf="infoGenesAndConditionsExomizer.length==0 && infoGenesAndConditionsPhen2Genes.length>0 && !loadingTable">
    <table mat-table
    [dataSource]="infoGenesAndConditionsPhen2Genes" multiTemplateDataRows
    class="table table-responsive mat-elevation-z8 mb-0">
    <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay;let j=index">
      <th mat-header-cell *matHeaderCellDef style="font-size: large;" > {{column}} </th>
      <td mat-cell *matCellDef="let element">
        <div class="row" style="align-items: center;">
          <div class="col-xl-12" style="display:contents;">
            <div class="col-2">
              <span style="font-size: large;">{{element[columns[j]]}}</span>
            </div>
            <div class="col-10">
              <div class="row" style="display:flex;">
                <div class="col-xl-12" style="text-align: right;">
                  <span  class="ml-2" id="remarked1Summary" [ngStyle]="{'background-color': element.colorScoredx29[0],'color':element.colorScoredx29[1]}">{{'geneTable.Score' | translate }}</span>
                  <span id="remarkedOpacity2Summary" [ngStyle]="{'background-color': element.colorScoredx29[0],'color':element.colorScoredx29[1]}">{{element.score}}</span>
                  <i *ngIf="!(element == expandedElement)" class=" ml-3 ft-chevron-down"></i>
                  <i *ngIf="(element == expandedElement)" class="ml-3 ft-chevron-up"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </td>
    </ng-container>

    <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let element;let j=index" [attr.colspan]="columnsToDisplay.length">
        <div class="example-element-detail"
        [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
          <div class="pt-2 pb-2">
            <span style="font-weight: bold;"> {{'geneTable.Literature' | translate }} </span>
            <a href="https://mastermind.genomenon.com/detail?gene={{element.name}}&gene={{element.name}}&disease=all%20diseases" target="_blank" class="mt-1 ml-1" style="display: flex;"><i class="ft-external-link mr-1"></i>Gene: {{element.name}}</a>
          </div>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="expandedElement = expandedElement === element ? null : element">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
    </table>
  </div>
</ng-template>

<ng-template #contentGeneticProgram let-c="close" let-d="dismiss" appendTo="body">
  <form #programRequestform="ngForm" name="form" (ngSubmit)="programRequest(programRequestform.form)" class="form form-register" validate>
    <div class="modal-header" id="idHeader">
      <div class="content-header text-left">
      <h4>{{'GeneticProgram.Title' | translate }}</h4>
        <div class="content-wrapper">
          <div class="card-header pb-0">
            <p class="content-sub-header">{{'GeneticProgram.SubTitle' | translate }} </p>
            <div>
              <p class="content-sub-header">{{'GeneticProgram.contentClinicianmsg1' | translate }} </p>
              <ul>
                <li>{{'GeneticProgram.contentClinicianmsg1a' | translate }}</li>
                <li>{{'GeneticProgram.contentClinicianmsg1b' | translate }}</li>
              </ul>
            </div>
            <p class="content-sub-header">{{'GeneticProgram.contentClinicianmsg2' | translate }} </p>
            <p class="content-sub-header">{{'GeneticProgram.contentClinicianmsg3a' | translate }} <a href="assets/documents/moreinfo_{{lang}}.PDF" target="_blank">{{'GeneticProgram.contentClinicianmsg3b' | translate }}</a></p>
          </div>
        </div>
      </div>
    </div>
    <div class="content-wrapper" *ngIf="actualProgram.result">
      <div class="card-body row col-md-12">
        <p *ngIf="!actualProgram.data[1].result" class="danger"> ** {{'GeneticProgram.requirements1' | translate }}</p>
        <p>
          <span *ngIf="isSharedCase">{{'GeneticProgram.ClinicinMsg0' | translate }} </span>
          <span>{{'GeneticProgram.ClinicinMsg1' | translate }}</span>
        </p>
        <p *ngIf="isSharedCase">{{'GeneticProgram.ClinicinMsg2' | translate }}<p>
      </div>
    </div>
    <div class="content-wrapper" *ngIf="!actualProgram.result">
      <div class="card-body" *ngIf="actualProgram.data[0].result">
        <div class="row">
          <div class="col-md-12">
            <span class="font-medium-2">{{'GeneticProgram.DataTitle' | translate }}</span>
          </div>
        </div>
        <div class="row" *ngIf="!actualProgram.data[1].result">
          <div class="col-md-12 mt-1">
            <p class="danger"> ** {{'GeneticProgram.requirements1' | translate }}.</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
            <label>{{'personalinfo.Birth Date' | translate }}</label>
            <div>
              <input type="date" id="birthDate" name="birthDate" ngModel required #birthDate="ngModel" name="birthDate">
                    <small class="form-text text-muted danger" *ngIf="!birthDate.valid && (birthDate.dirty || birthDate.touched)">{{'generics.required' | translate }}</small>
            </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
                  <label id="gender">{{'personalinfo.Gender' | translate }}</label>
                  <mat-radio-group class="example-radio-group d-block" ngModel required #gender="ngModel" name="gender" id="gender">
                    <mat-radio-button class="example-radio-button" value="male">
                    {{'personalinfo.Male' | translate }}
                    </mat-radio-button>
                    <mat-radio-button class="example-radio-button ml-1" value="female">
                      {{'personalinfo.Female' | translate }}
                    </mat-radio-button>
                  </mat-radio-group>
            </div>
          </div>
          <div class="col-md-12">
            <div class="form-group">
            <label for="email">{{'GeneticProgram.dataField1' | translate }}</label>
                  <input type="email" class="form-control" name="email" id="email" placeholder="{{'generics.Email' | translate }}" ngModel required email #email="ngModel" autocomplete="email">
                  <small class="form-text text-muted danger" *ngIf="!email.valid && (email.dirty || email.touched)">{{'generics.entervalidemail' | translate }}</small>
            </div>
          </div>
          <div class="col-md-12">
            <div class="form-group">
            <label for="consent">{{'GeneticProgram.dataField2' | translate }}</label>
            <mat-checkbox class="example-margin ml-1" name="terms2" ngModel required #terms2="ngModel" id="terms2"></mat-checkbox>
                  <small class="form-text text-muted danger" *ngIf="!terms2.valid && (terms2.dirty || terms2.touched)">{{'generics.required' | translate }}</small>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="modal-footer d-block">
      <div class="form-actions" *ngIf="!sending">
        <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
        <span *ngIf="actualProgram.data[0].result">
          <!--<button class="btn btn-primary btn-raised float-right" type="submit">{{'GeneticProgram.bannerbtn1' | translate }}</button>-->
          <div *ngIf="programRequestform.valid;then formValid else formError"></div>
          <ng-template #formValid><button class="btn btn-primary btn-raised float-right" type="submit">{{'GeneticProgram.bannerbtn1' | translate }}</button></ng-template>
          <ng-template #formError><button class="btn btn-primary btn-raised float-right" type="button" [disabled]="true" (click)="submitInvalidForm()">{{'GeneticProgram.bannerbtn1' | translate }}<span class="d-block font-small-2">{{'GeneticProgram.requirementsFields' | translate }}</span></button></ng-template>
        </span>
      </div>
      <span *ngIf="sending">
        <i class="fa fa-spinner fa-spin fa-3x fa-fw white"></i>
      </span>
    </div>
  </form>
</ng-template>

<ng-template #contentOptionsSymptoms let-c="close" let-d="dismiss" appendTo="body">
    <div class="modal-header text-muted d-block" id="idHeader">
			<button type="button" class="close" aria-label="Close" (click)="c('Close click');">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4 class="modal-title">Añadir más síntomas</h4>
        <p class="content-sub-header"><span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span></p>
			</div>
		</div>
		<div class="modal-body">
      <div class="col-md-12 col-lg-12" matchHeight ="card">
        <div class="row center-elements" matchHeight ="card">
        <div class="col-lg-4 pb-2 col-md-12">
            <div class="card box border">
                <div class="card-header text-center pb-0">
                    <span class="font-medium-2 grey darken-1 text-bold-400">{{'generics.Option' | translate }} 1: {{'patdiagdashboard.titleoption1' | translate }}</span>
                </div>
                <div class="card-body">
                    <div id="donut-chart1" class="center-elements">
                        <i class="fas fa-notes-medical fa-4x primary"></i>
                    </div>
                    <div class="card-block text-center mt-2">
                        <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption1' | translate }}</span>
                    </div>
                </div>
                <div class="card-footer bt-n">
                  <label class="btn btn-outline-primary" style="text-transform: none;letter-spacing: 0px;cursor: pointer;">
                      {{'patdiagdashboard.buttonoption1' | translate }} <input type="file" (change)="onFileChangePDF($event, contentExtractorSteps);c('Close click')" style="display: none;">
                  </label>
                </div>
            </div>
        </div>
        <div class="col-lg-4 pb-2 col-md-12">
            <div class="card box border">
                <div class="card-header text-center pb-0">
                    <span class="font-medium-2 grey darken-1 text-bold-400">
                      {{'generics.Option' | translate }}
                      <span>2:</span> {{'patdiagdashboard.titleoption3' | translate }}
                    </span>
                </div>
                <div class="card-body">
                    <div id="donut-chart1" class="center-elements">
                        <i class="fas fa-keyboard fa-4x primary"></i>
                    </div>
                    <div class="card-block text-center mt-2">
                        <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption3' | translate }}</span>
                    </div>
                </div>
                <div class="card-footer bt-n">
          <button type="button" class="btn btn-outline-primary" (click)="addSymptomsManual(contentAddSymptomsManual);c('Close click')">{{'patdiagdashboard.buttonoption3' | translate }}​​</button>
                </div>
            </div>
        </div>
        <div class="col-lg-4  pb-2 col-md-12">
            <div class="card box border">
                <div class="card-header text-center pb-0">
                    <span class="font-medium-2 grey darken-1 text-bold-400">{{'generics.Option' | translate }}
                      <span>3:</span> {{'patdiagdashboard.titleoption4' | translate }}
                    </span>
                </div>
                <div class="card-body">
                  <div id="donut-chart1" class="center-elements">
                      <i class="fas fa-align-left fa-4x primary"></i>
                  </div>
                    <div class="card-block text-center mt-2">
                        <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption4.1' | translate }} <span *ngIf="isMobileOrTablet">{{'patdiagdashboard.msgoption4.2' | translate }}</span></span>
                    </div>
                </div>
                <div class="card-footer bt-n">
                  <button type="button" class="btn btn-outline-primary" (click)="showPanelAddTextSymptoms(contentAddTextSymptoms);c('Close click')">{{'patdiagdashboard.buttonoption4' | translate }}​​​​</button>
                </div>
            </div>
        </div>
        </div>
      </div>
		</div>
		<div class="modal-footer">
			<div class="form-actions center">
					<button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
			</div>
		</div>
</ng-template>

<ng-template #contentGeneralNotes let-c="close" let-d="dismiss" appendTo="body">
    <div class="modal-header d-block" id="idHeader">
			<button type="button" class="close" aria-label="Close" (click)="c('Close click');">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4 class="modal-title text-muted">{{'diagnosis.Notes and Conclusion' | translate }}</h4>
			</div>
		</div>
		<div class="modal-body">
      <form class="form" #fWeight="ngForm">
        <div class="form-body">
          <div class="row">
            <!--
            <div class="col-md-12">
              <div class="form-group">
                <label for="hasDiagnosis">{{'diagnosis.Has Diagnosis' | translate }}</label>
                <p>
                  <ui-switch id="hasDiagnosis" name="hasDiagnosis" [(ngModel)]="diagnosisInfo.hasDiagnosis"></ui-switch>
                </p>
              </div>
            </div>
            <div class="col-md-12" *ngIf="diagnosisInfo.hasDiagnosis">
              <div class="form-group">
                <label for="previousDiagnosis">{{'diagnosis.Previous Diagnosis' | translate }}</label>
                <input type="text" id="previousDiagnosis" class="form-control"  name="previousDiagnosis" [(ngModel)]="diagnosisInfo.previousDiagnosis">
              </div>
            </div>
            <div class="col-md-12" *ngIf="diagnosisInfo.hasDiagnosis">
              <div class="form-group">
                <label for="identifiedGene">{{'diagnosis.Identified Gene' | translate }}</label>
                <input type="text" id="identifiedGene" class="form-control"  name="identifiedGene" [(ngModel)]="diagnosisInfo.identifiedGene">
              </div>
            </div>-->
            <div class="col-md-12">
              <div class="form-group">
                <textarea name="notes" class="form-control" style="width:100%;height:30vh;max-height: 30vh;" [(ngModel)]="diagnosisInfo.notes" name="notes"></textarea>
              </div>
            </div>
          </div>
        </div>

      </form>
		</div>
		<div class="modal-footer">
			<div class="form-actions center">
					<button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Cancel' | translate }}</button>
          <button type="button" class="btn btn-outline-primary" (click)="saveNotes(true)">{{'diagnosis.Save notes' | translate }}</button>
			</div>
		</div>
</ng-template>
<ng-template #contentFilterDiseases let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
      <h4 class="modal-title">{{'diagnosis.Filter diseases' | translate }}</h4>
      <!--<button type="button" class="close" aria-label="Close" (click)="c('Close click')">
        <span aria-hidden="true">&times;</span>
      </button>-->
  </div>
  <div class="content-wrapper mt-3 pr-0">
    <div class="row col-md-12 mb-4 pr-0">

      <mat-accordion class="col-md-4 mt-3 pl-0 pr-0">
        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{'diagnosis.List of case symptoms' | translate }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="row col-md-12 pr-0">
            <span class="row col-md-12 mb-2 pr-0" *ngFor="let symptom of phenotype.data ; let k = index" >
              <span class="col-md-6 pr-0">
                <a (click)="openLinkMonarch(symptom.id, $event)" href="javascript:void(0)" title="{{symptom.def}} {{symptom.comment}} " >{{symptom.name}}</a>
              </span>
              <span class="col-md-6 pr-0 mt-03">
                <button (click)="addToo(k, false)" class="ml-1 btn btn-danger btn-sm btn-fab" title="Add to 'Exclude diseases with these symptoms'" style="margin-bottom: 0; float: right;">
                  <i class="fa fa-minus"></i>
                </button>
                <button (click)="addToo(k, true)" class="btn btn-success btn-sm btn-fab" title="Add to 'Include diseases with these symptoms'" style="margin-bottom: 0; float: right;">
                  <i class="fa fa-plus"></i>
                </button>
              </span>
            </span>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{'diagnosis.More symptoms' | translate }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="col-md-12">
            <ng-template #rt let-r="result" let-t="term">
              {{ r.name}}
            </ng-template>
            <div class="form-group">
              <input #input class="input" type="text" class="form-control mb-3" [(ngModel)]="modelTemp" [ngbTypeahead]="searchSymptom" name="addSymptomsOption1" [resultTemplate]="rt" [inputFormatter]="formatter1" placeholder="{{'diagnosis.Search for symptoms' | translate }}" (selectItem)="selected3($event)"/>
            </div>
          </div>
            <!--<span class="mr-1 mt-1">Selected:</span>
            <span *ngIf="modelRadio2 == '1'">Include diseases with these symptoms</span>
            <span *ngIf="modelRadio2 == '2'">Exclude diseases with these symptoms</span>-->
          <div class="row col-md-12">
            <span class="col-md-8">
              <span>
                {{tempSymptom.name}} <span *ngIf="tempSymptom.name" class="close-selected" (click)="deleteTempSymptom()"><i class="fa fa-trash"></i></span>
              </span>
            </span>
            <span class="col-md-4">
              <div class="btn-group btn-group-toggle" *ngIf="tempSymptom.name" ngbRadioGroup name="radioBasic" [(ngModel)]="modelRadio2" (change)="addSymptomToList()">
                <label ngbButtonLabel class="btn-raised btn-success " style="cursor: pointer;" title="Add to 'Include diseases with these symptoms'">
                  <input ngbButton type="radio" [value]="1"><i class="fa fa-plus"></i>

                </label>
                <label ngbButtonLabel class="btn-raised btn-danger ml-1" style="cursor: pointer;" title="Add to 'Exclude diseases with these symptoms'">
                    <input ngbButton type="radio" [value]="2"><i class="fa fa-minus"></i>
                </label>
              </div>
            </span>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
      <div class="col-md-4 mt-3 pr-0">
        <h5><b><i class="fa fa-plus" style="color: #0CC27E !important"></i> Include diseases with these symptoms</b></h5>
        <p *ngIf="selectedItemsFilter.length == 0">{{'diagnosis.No symptoms' | translate }}</p>
        <div class="row col-md-12 pl-0 pr-0" *ngFor="let item of selectedItemsFilter ; let i = index">
          <div *ngIf="item.checked" class="row col-md-12 mt-2 pr-0">
            <span class="col-md-10">
              {{item.name}}
            </span>
            <span class="col-md-2 mt-03">
              <span style="color: black !important;cursor: pointer;">
                <span class="close-selected" (click)="deleteFilter(item)"><i class="fa fa-trash"></i></span>
              </span>
            </span>
            <!--<span class="col-md-2 pr-0 mt-03">
              <span style="float: right;">
              <button (click)="changeStateFilterSymptom(i)" [ngClass]="(item.checked==false)?'btn btn-secondary btn-sm mr-1 mb-0 btn-fab':'btn btn-danger btn-sm mr-1 mb-0 btn-fab'" [disabled]=!item.checked href="javascript:void(0)" title="Move to 'exclude diseases with these symptoms'">
                <i class="fa fa-minus"></i>
              </button>
              </span>
            </span>-->
          </div>
        </div>
      </div>
      <div class="col-md-4 mt-3 pr-0">
        <h5><b><i class="fa fa-minus" style="color: #f9423a !important"></i> Exclude diseases with these symptoms</b></h5>
        <p *ngIf="selectedItemsFilter.length == 0">{{'diagnosis.No symptoms' | translate }}</p>
        <div class="row col-md-12 pl-0 pr-0" *ngFor="let item of selectedItemsFilter ; let i = index">
          <div *ngIf="!item.checked" class="row col-md-12 mt-2 pr-0">
            <!--<span class="col-md-2 mt-03">
              <span style="float: left;">
              <button (click)="changeStateFilterSymptom(i)" [ngClass]="(item.checked==true)?'btn btn-secondary btn-sm mr-1 mb-0 btn-fab':'btn btn-success btn-sm mr-1 mb-0 btn-fab'" [disabled]=item.checked href="javascript:void(0)" title="Move to 'include diseases with these symptoms'">
                <i class="fa fa-plus"></i>
              </button>
              </span>
            </span>-->
            <span class="col-md-10 pr-0">
              {{item.name}}
            </span>
            <span class="col-md-2 mt-03">
              <span style="color: black !important;cursor: pointer;">
                <span class="close-selected" (click)="deleteFilter(item)"><i class="fa fa-trash"></i></span>
              </span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="form-actions center" *ngIf="!sending">
      <button *ngIf="selectedItemsFilter.length>0" type="button" class="btn btn-secondary btn-raised" (click)="removeFilters()">{{'diagnosis.Remove filters' | translate }}</button>
      <button type="button" class="btn btn-raised btn-primary" (click)="applyFilters()">{{'diagnosis.Apply filters' | translate }}</button>
    </div>
  </div>
</ng-template>
<ng-template #contentIntro let-c="close" let-d="dismiss" appendTo="body">
    <div class="modal-header d-block" id="idHeader">
			<button type="button" class="close" aria-label="Close" (click)="c('Close click');goToStep('1.0', true);">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4 class="modal-title text-muted">{{'wizard.title' | translate }}</h4>
        <p class="content-sub-header"><span>{{'wizard.subtitle' | translate }}</span></p>
			</div>
		</div>
		<div class="modal-body">
      <section>
          <div class="row text-left card border">
            <div class="card-body col-md-12 mt-1">

              <div class="row center-elements">
                <div class="col-sm-4 p-2">
                  <i class="fas fa-notes-medical fa-4x primary"></i>
                  <span class="d-block font-medium-3 d-inline mt-3">01. {{'wizard.s1t' | translate }}</span>
                  <span class="d-inline-block pl-2 pr-2">{{'wizard.s1c' | translate }} </span>
                </div>
                <div class="col-sm-4 p-2">
                  <i class="fas fa-dna fa-4x primary"></i>
                  <span class="d-block font-medium-3 d-inline mt-3">02. {{'wizard.s2t' | translate }}</span>
                  <span class="d-inline">{{'wizard.s2c' | translate }}</span>
                </div>
                <div class="col-sm-4 p-2">
                  <i class="fas fa-align-left fa-4x primary"></i>
                  <span class="d-block font-medium-3 d-inline mt-3">03. {{'wizard.s3t' | translate }}</span>
                  <span class="d-inline">{{'wizard.s3c' | translate }}</span>
                </div>
              </div>
            </div>
            <div class="col-md-12 mt-1 center-elements">
              <mat-checkbox
                  class="example-margin" name="terms2" ngModel required #terms2="ngModel" id="terms2" (change)="showOptions($event)">
                <label style="margin-top: 0.4em;white-space: normal;text-transform: none;letter-spacing: 0px;"  >
                  <span>{{'wizard.check' | translate }}</span>
                </label>
              </mat-checkbox>
            </div>
          </div>
      </section>
		</div>
		<div class="modal-footer">
			<div class="form-actions center">
					<button type="button" class="btn btn-raised btn-primary" (click)="c('Close click');goToStep('1.0', true)">{{'wizard.btn' | translate }}</button>
			</div>
		</div>
</ng-template>
<ng-template #contentIntro2 let-c="close" let-d="dismiss" appendTo="body">
    <div class="modal-header d-block" id="idHeader">
			<button type="button" class="close" aria-label="Close" (click)="c('Close click');setShowSwal(false);">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4 class="modal-title text-muted">{{'wizard2.title' | translate }}</h4>
        <p class="mb-1 content-sub-header"><span>{{'wizard2.subtitle' | translate }}</span></p>
			</div>
		</div>
		<div class="modal-body">
      <section>
          <div class="row text-left card border">
            <div class="card-body col-md-12 mt-1">

              <div class="row center-elements">
                <div class="col-sm-4 p-2">
                  <i class="fas fa-notes-medical fa-4x primary"></i>
                  <span class="d-block font-medium-3 d-inline mt-3">01. {{'wizard2.s1t' | translate }}</span>
                  <span class="d-inline-block pl-2 pr-2">{{'wizard2.s1c' | translate }} </span>
                </div>
                <div class="col-sm-4 p-2">
                  <i class="fas fa-dna fa-4x primary"></i>
                  <span class="d-block font-medium-3 d-inline mt-3">02. {{'wizard2.s2t' | translate }}</span>
                  <span class="d-inline">{{'wizard2.s2c' | translate }}</span>
                </div>
                <div class="col-sm-4 p-2">
                  <i class="fas fa-align-left fa-4x primary"></i>
                  <span class="d-block font-medium-3 d-inline mt-3">03. {{'wizard2.s3t' | translate }}</span>
                  <span class="d-inline">{{'wizard2.s3c' | translate }}</span>
                </div>
              </div>
            </div>
          </div>
      </section>
		</div>
		<div class="modal-footer">
			<div class="form-actions center">
        <label>{{'wizard2.question' | translate }}</label>
				<button type="button" class="ml-2 btn btn-raised btn-secondary" (click)="c('Close click');setShowSwal(false);">{{'generics.Cancel' | translate }}</button>
        <button type="button" class="btn btn-raised btn-primary" (click)="c('Close click');setShowSwal(true);">{{'generics.Accept' | translate }}</button>
			</div>
		</div>
</ng-template>

<ng-template #contentInfoVcf let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
				<h4 class="modal-title" >{{'geneticsection.subtitle2' | translate }}</h4>
        <span class="content-sub-header text-muted">{{'geneticsection.pantelInfoVcfSubtitle' | translate }}</span>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    <div class="content-wrapper p-2">
      <p>{{'geneticsection.panelInfoVcfp1' | translate }}</p>
      <p [innerHTML]="'geneticsection.panelInfoVcfp2' | translate"></p>

  </div>
  <div class="modal-footer">
    <div class="col-md-12 center-elements">
      <div class="form-actions center">
          <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click');">{{'generics.Accept' | translate }}</button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentInfoAlgorithmSymptoms let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
				<h4 class="modal-title">{{'analysissection.Selectsymptomstitle' | translate }}</h4>
        <span class="content-sub-header text-muted">{{'analysissection.Selectsymptomssubtitle' | translate }}</span>
    </div>
  </div>
    <div class="content-wrapper p-2" *ngIf="symptomsExomiser.length > 0">
      <div class="row ml-2" *ngFor="let group of listOfSymptomGroups ; let j = index">
        <h6 class="col-md-12" [ngClass]="(j > '0' )?'mt-3':''"><span class="text-bold-400">{{group.nameGroup}}:</span></h6>
        <span class="col-md-12">
          <span *ngFor="let hpo of group.symptoms ; let i = index">
            <div *ngFor="let hpo2 of symptomsExomiser ; let j = index">
              <span *ngIf="hpo2.id == hpo.id">
                <mat-checkbox color="primary" [checked]="hpo2.checked" (change)="changeExomiserStateSymptom(j)">
                    {{ hpo2.name }} <span *ngIf="hpo2.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span>
               </mat-checkbox>
              </span>

            </div>
          </span>
        </span>
      </div>
      <p class="ml-3 mt-3">{{'symptomssection.There might be repeated symptoms' | translate }}</p>
  </div>
  <div class="content-wrapper p-2" *ngIf="symptomsExomiser.length == 0">
    <p>
      <span>{{'analysissection.nosymptoms' | translate }}</span>
      <span>{{'symptomssection.needsymtoms' |translate }} </span>
      <span class="mt-1 d-block"><a class="btn btn-outline-primary" href="javascript:void(0)" (click)="goToStep('1.0', false);c('Close click');">Symptoms</a></span>
    </p>
  </div>
  <div class="modal-footer">
    <div class="col-md-12 center-elements">
      <div class="form-actions center">
        <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click');getNumberOfSymptomsExo();">{{'generics.Close' | translate }}</button>
      </div>
    </div>
  </div>

</ng-template>

<ng-template #contentInfoAlgorithmGenetic let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
				<h4 class="modal-title" >{{'analysissection.Selectsymptomstitle' | translate }}</h4>
        <span class="content-sub-header text-muted">{{'analysissection.Selectsymptomssubtitle' | translate }}</span>
    </div>
  </div>
    <div class="content-wrapper p-2" *ngIf="symptomsExomiser.length > 0">
      <div class="row" *ngFor="let group of listOfSymptomGroups ; let j = index">
        <h6 class="col-md-12" [ngClass]="(j > '0' )?'mt-3':''"><span class="text-bold-400">{{group.nameGroup}}:</span></h6>
        <span class="col-md-12">
          <span *ngFor="let hpo of group.symptoms ; let i = index">
            <div *ngFor="let hpo2 of symptomsExomiser ; let j = index">
              <span *ngIf="hpo2.id == hpo.id">
                <mat-checkbox color="primary" [checked]="hpo2.checked" (change)="changeExomiserStateSymptom(j)">
                    {{ hpo2.name }} <span *ngIf="hpo2.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span>
               </mat-checkbox>
              </span>

            </div>
          </span>
        </span>
      </div>
      <p class="ml-3 mt-3">{{'symptomssection.There might be repeated symptoms' | translate }}</p>
  </div>
  <div class="content-wrapper p-2" *ngIf="symptomsExomiser.length == 0">
    <p>
      <span>{{'analysissection.nosymptoms' | translate }}</span>
      <span>{{'symptomssection.needsymtoms' |translate }} </span>
      <span class="mt-1 d-block"><a class="btn btn-outline-primary" href="javascript:void(0)" (click)="goToStep('1.0', false);c('Close click');">Symptoms</a></span>
    </p>
  </div>
  <div class="modal-footer">
    <div class="col-md-12 center-elements">
      <div class="form-actions center">
          <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click');getNumberOfSymptomsExo();">{{'generics.Close' | translate }}</button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentModalPhen2genes let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header d-block" id="idHeader">
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
    <div>
      <h4>{{'analysissection.analyzingdata' | translate }}</h4>
    </div>
  </div>
    <div class="content-wrapper">
      <div class="row col-md-12">
        <div class="col-md-12 offset-lg-1 col-lg-10">
          <section>
            <div class="mt-2">
              <p>{{'analysissection.may10minutesphen2geneslong' | translate }}</p>
              <div>
                <div class="mb-3 center-elements">
                  <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
  </div>
  <!--<div class="modal-footer">
    <div class="col-md-12 center-elements">
      <div class="form-actions center">
        <button *ngIf="maxStep>='5.0'" type="button" class="mt-2 mr-3 btn secondary btn-outline-secondary" (click)="cancelAnalysis()"><span style="margin-right: 10px;"></span> {{'generics.Cancel' | translate }}</button>
        <button *ngIf="maxStep<'5.0'" type="button" class="mt-2 mr-3 btn secondary btn-outline-secondary" (click)="goPrevStep()"><span style="margin-right: 10px;"></span> {{'generics.Cancel' | translate }}</button>
      </div>
    </div>
  </div>-->
</ng-template>

<ng-template #contentModalExomiser let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header d-block" id="idHeader">
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
    <div>
      <h4>{{'analysissection.analyzingdata' | translate }}</h4>
    </div>
  </div>
    <div class="content-wrapper">
      <div class="row col-md-12">
        <div class="col-md-12 offset-lg-1 col-lg-10">
          <section>
            <div class="mt-2">
              <p>{{'analysissection.may10minutesexolong' | translate }}</p>
              <div>
                <div class="mb-3 center-elements">
                  <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
  </div>
  <!--<div class="modal-footer">
    <div class="col-md-12 center-elements">
      <div class="form-actions center">
        <button *ngIf="maxStep>='5.0'" type="button" class="mt-2 mr-3 btn secondary btn-outline-secondary" (click)="cancelAnalysis()"><span style="margin-right: 10px;"></span> {{'generics.Cancel' | translate }}</button>
        <button *ngIf="maxStep<'5.0'" type="button" class="mt-2 mr-3 btn secondary btn-outline-secondary" (click)="goPrevStep()"><span style="margin-right: 10px;"></span> {{'generics.Cancel' | translate }}</button>
      </div>
    </div>
  </div>-->

</ng-template>

<ng-template #contentCalculationsDetails let-c="close" let-d="dismiss" appendTo="body">
    <div class="modal-header d-block" id="idHeader">
			<button type="button" class="close" aria-label="Close" (click)="c('Close click');">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4 class="modal-title text-muted">{{'diagnosesSection.Calculations details' | translate }}</h4>
			</div>
		</div>
		<div class="modal-body">
        <div class="form-body">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <p class="mb-1" for="hasDiagnosis">{{'diagnosesSection.Files included in the calculation' | translate }}:</p>
                <p *ngIf="tempVcfBlobName!=''">
                  {{tempVcfBlobName}}
                </p>
                <p *ngIf="tempVcfBlobName==''">
                  {{'diagnosesSection.No genetic information has been included' | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
		</div>
		<div class="modal-footer">
			<div class="form-actions center">
					<button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
			</div>
		</div>
</ng-template>

<button id="openModalSymptomsNcrButton2" [hidden]="true" (click)="showPanelSymptomsNcr(contentSymptomsNcr, true)">.</button>
<button id="openModalIntro" [hidden]="true" (click)="showPanelIntro(contentIntro)">.</button>
<button id="openModalIntro2" [hidden]="true" (click)="showPanelIntro(contentIntro2)">.</button>
<button id="openModalShowPanelSymptomsNcr2" [hidden]="true" (click)="showPanelSymptomsNcr(contentSymptomsNcr, false)">.</button>
<button id="openModalPhen2genes" [hidden]="true" (click)="showPanelIntro(contentModalPhen2genes)">.</button>
<button id="openModalExomiser" [hidden]="true" (click)="showPanelIntro(contentModalExomiser)">.</button>
