<span class="background-img"></span>
<section *ngIf="currentStep.stepIndex == 1">
  <div class="mt-2 row m-0">
    <div class="col-12 none-laterals-m">
          <div class="card-body">
            <ngb-alert type="warning" class="mb-2" [dismissible]="false" *ngIf="lang=='es'">
              <div class="center-elements">
                <span [innerHTML]="'InfoSystem.Spanishtranslations2' | translate"></span>
              </div>
            </ngb-alert>
            <div class="row m-0">
              <div class="mt-2 col-lg-12 justify-content-center align-items-center text-center">
                <span class="d-block text-left">
                  <a (click)="selectRole();" class="black font-small-3"><i class="fa fa-angle-left" aria-hidden="true"></i> <ins class="ml-1">{{'generics.Back' | translate }}</ins></a>
                </span>
                <h1 class="card-title mb-0 text-bold-500">
                  <span>{{'dashboardpatient.titleSearchCondition' | translate }}</span>
                  <hr class="hr-custom">
                </h1>
                
                <p [innerHTML]="'dashboardpatient.subtitleSearchCondition' | translate"></p>
              </div>
              <div class="col-md-12 align-items-center text-center">
                <div class="align-items-end justify-content-center">
                  <div class="offset-lg-3 col-lg-6 no-padding">
                    <div class="position-relative">
                      <i class="fas fa-search info fa-1_7x align-middle" (click)="onKey($event)"></i>
                      <input type="text" #inputDisease id="searchDiseaseField" class="ml-1 form-control data-hj-allow fielddisease" name="searchDiseaseField" style="width: 84% !important;display: inline !important;border-radius: 25px;height: 45px;"
                        [(ngModel)]="searchDiseaseField" (keyup)="onKey($event)" (paste)="onKey($event)"
                        placeholder="{{'dashboardpatient.Search condition' | translate }}" (focusout)="focusOutFunctionDiseases()">
                        <span *ngIf="searchDiseaseField.length>0" (click)="clearsearchDiseaseField();" style="position: relative;left: -44px;"><i class="fa fa-times ml-1" style="color: #70757a;"></i></span>
                    </div>
                    <div>
                      <div class="center-elements" *ngIf="callListOfDiseases">
                        <em class="mt-2 fa fa-spinner fa-spin fa-3x fa-fw secondary"></em>
                      </div>
                      <div class="form-group mt-2" *ngIf="!callListOfDiseases">
                        <span *ngIf="listOfFilteredDiseases.length>0">
                          <div class="table-cont">
                            <table class="table mb-0 border" aria-labelledby="rare disease" style="background-color: #ffffff !important;">
                              <tbody class="tableList">
                                <tr *ngFor="let disease of listOfFilteredDiseases ; let i = index" class="d-flex">
                                  <td class="col-md-12 dropdown-item" id="{{disease.id}}"
                                    (click)="showMoreInfoDiagnosePopup(i);" style="cursor: pointer;"
                                    title="{{'generics.More information' | translate }} ({{disease.id}})">
                                    <span *ngIf="disease.source!='synonyms'">{{disease.name}}</span>
                                    <span *ngIf="disease.source=='synonyms'"> {{disease.itemCompared}} ({{'generics.Synonyms' | translate}}: {{disease.name}})</span>
                                    <!--<span>{{disease.name}}</span>-->
                                    <!--<span class="custom-bold ml-1"><strong>{{disease.name}}</strong></span>
                                    <span *ngIf="disease.synonyms.length>0">
                                      <span class="d-block">Synonyms:</span>
                                      <span *ngFor="let synonym of disease.synonyms ; let j = index" class="d-block">
                                        {{synonym}}
                                      </span>
                                    </span>-->
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </span>
                        <span *ngIf="nothingFoundDisease">
                          <span *ngIf="(searchDiseaseField).trim().length>3">
                            <span class="d-block">{{'dashboardpatient.Nothing found. Try again.' | translate }}</span>
                          </span>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </div>
  </div>
</section>
<section *ngIf="currentStep.stepIndex == 2" class="step-section mt-2">
  <div *ngIf="loadingOneDisease" class="col-md-12">
    <div class="form-actions center-elements mt-2">
      <span><i class="fa fa-spinner fa-spin fa-3x fa-fw secondary"></i></span>
    </div>
  </div>
  <div class="col-12 none-laterals-m" *ngIf="!loadingOneDisease">
    <div class="card-body">
      <ngb-alert type="warning" class="mb-2" [dismissible]="false" *ngIf="lang=='es'">
        <div class="center-elements">
          <span [innerHTML]="'InfoSystem.Spanishtranslations2' | translate"></span>
        </div>
      </ngb-alert>
      <div class="row m-0">
        <div class="mt-2 col-lg-12 justify-content-center align-items-center text-center">
          <span class="d-block text-left">
            <a (click)="selectRole();" class="black font-small-3"><i class="fa fa-angle-left" aria-hidden="true"></i> <ins class="ml-1">{{'generics.Back' | translate }}</ins></a>
          </span>
          <h1 class="card-title mb-0 text-bold-500 d-block">
            <span>{{actualInfoOneDisease.name}}</span>
            <hr class="hr-custom">
          </h1>
          <span class="content-sub-header text-muted" *ngIf="infoOneDisease.xrefs==undefined">{{ infoOneDisease.id }}</span>
            <span class="d-block">
              <span class="content-sub-header text-muted" *ngIf="infoOneDisease.xrefs!=undefined">
                <span *ngIf="infoOneDisease.xrefs.length>0">{{ infoOneDisease.xrefs[0].name}}:{{
                  infoOneDisease.xrefs[0].id}}</span>
                <span *ngIf="infoOneDisease.xrefs.length==0">{{ infoOneDisease.id }}</span>
              </span>
              <span *ngIf="infoOneDisease.xrefs!=undefined" class="ml-1">
                <span *ngFor="let xref of infoOneDisease.xrefs ; let i = index">
                  <a *ngIf="xref.name=='Orphanet'" class="info"
                    href="https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{xref.id}}&lng={{lang}}" target="_blank"
                    title="{{'generics.More Info' | translate }}"><i class="ft-external-link"></i></a>
                  <a *ngIf="xref.name=='OMIM'" class="info" href="https://omim.org/entry/{{xref.id}}" target="_blank"
                    title="{{'generics.More Info' | translate }}"><i class="ft-external-link"></i></a>
                  <span *ngIf="i<(infoOneDisease.xrefs.length-1)"> </span>
                </span>
              </span>
            </span>
            <a id="inittabs" class="akey"></a>
            <div class="offset-sm-1 col-sm-10 offset-md-2 col-md-8 offset-lg-3 col-lg-6 pb-3">
              <p>{{infoOneDisease.desc}}</p>
            </div>
            <div class="bg-white mt-4">
              <mat-accordion class="d-block d-xl-none text-left">
                <mat-expansion-panel *ngIf="infoOneDisease.symptoms!=undefined" [expanded]="step === 1" (opened)="setStep(1)">
                  <mat-expansion-panel-header>
                    <mat-panel-title (click)="lauchEvent('Diagnosed - Symptoms');">
                      {{'land.diagnosed.general.Symptoms' | translate }}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="p-3 m-3 border rounded text-center" style="background-color: #A1CBEA !important;">
                    <p class="ml-2 mr-2">{{'land.diagnosed.symptoms.These are the symptoms of your disease' | translate }}</p>
                    <p class="ml-2 mr-2">{{'land.diagnosed.symptoms.goToChrono' | translate }}
                    <div class="col-md-12 center-elements">
                      <button type="button" class="btn btn-info round mt-2 mr-2" (click)="setStep(2);">{{'land.diagnosed.symptoms.I want to create the chronology' | translate }}</button>
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="mb-1">
                      <table class="table mb-0 text-center d-block d-sm-none">
                        <tbody style="overflow-x: hidden;">
                          <tr *ngFor="let symptom of infoOneDisease.symptoms ; let i = index" class="text-left">
                            <td class="row pb-0" style="padding: 0.4rem;">
                              <div class="col-md-12">
                                <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                                    class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                    title="{{'generics.More information' | translate }} ({{symptom.id}})">
                                    <em class="fa fa-info w-13"></em>
                                  </button>
                                <strong>
                                  <span *ngIf="symptom.name" style="cursor: pointer;" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{symptom.name}}</span>
                                  <span *ngIf="!symptom.name">
                                    {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                      href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                      title="{{symptom.id}}">
                                      <i class="ft-external-link"></i></a></span>
                                </strong>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <span class="d-none d-sm-block d-md-none">
                        <span *ngFor="let symptom of infoOneDisease.symptoms ; let i = index">
                          <span *ngIf="i % 2 == 0" class="row mb-2">
                            <span class="col-sm-6 pl-0">
                              <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                                class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                title="{{'generics.More information' | translate }} ({{symptom.id}})">
                                <em class="fa fa-info w-13"></em>
                              </button>
                              <span *ngIf="symptom.name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{symptom.name}}</span>
                              <span *ngIf="!symptom.name">
                                {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                  title="{{symptom.id}}">
                                  <i class="ft-external-link"></i></a>
                              </span>
                            </span>
                            <span *ngIf="i + 1 < infoOneDisease.symptoms.length" class="col-sm-6 pl-0">
                              <button (click)="showMoreInfoSymptomPopup(i+1, contentInfoSymptomOneDisease);"
                                class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})">
                                <em class="fa fa-info w-13"></em>
                              </button>
                              <span *ngIf="infoOneDisease.symptoms[i + 1].name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})" (click)="showMoreInfoSymptomPopup(i+1, contentInfoSymptomOneDisease);">{{infoOneDisease.symptoms[i + 1].name}}</span>
                              <span *ngIf="!infoOneDisease.symptoms[i + 1].name">
                                {{infoOneDisease.symptoms[i + 1].id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[i + 1].id}}" target="_blank"
                                  title="{{infoOneDisease.symptoms[i + 1].id}}">
                                  <i class="ft-external-link"></i></a>
                              </span>
                            </span>
                          </span>
                          </span>
                      </span>
                      <span class="d-none d-md-block">
                        <span *ngFor="let symptom of infoOneDisease.symptoms ; let i = index">
                          <span *ngIf="i % 3 == 0" class="row mb-2">
                            <span class="col-md-4 pl-0">
                              <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                                class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                title="{{'generics.More information' | translate }} ({{symptom.id}})">
                                <em class="fa fa-info w-13"></em>
                              </button>
                              <span *ngIf="symptom.name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{symptom.name}}</span>
                              <span *ngIf="!symptom.name">
                                {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                  title="{{symptom.id}}">
                                  <i class="ft-external-link"></i></a>
                              </span>
                            </span>
                            <span *ngIf="i + 1 < infoOneDisease.symptoms.length" class="col-md-4 pl-0">
                              <button (click)="showMoreInfoSymptomPopup(i+1, contentInfoSymptomOneDisease);"
                                class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})">
                                <em class="fa fa-info w-13"></em>
                              </button>
                              <span *ngIf="infoOneDisease.symptoms[i + 1].name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})" (click)="showMoreInfoSymptomPopup(i+1, contentInfoSymptomOneDisease);">{{infoOneDisease.symptoms[i + 1].name}}</span>
                              <span *ngIf="!infoOneDisease.symptoms[i + 1].name">
                                {{infoOneDisease.symptoms[i + 1].id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[i + 1].id}}" target="_blank"
                                  title="{{infoOneDisease.symptoms[i + 1].id}}">
                                  <i class="ft-external-link"></i></a>
                              </span>
                            </span>
                            <span *ngIf="i + 2 < infoOneDisease.symptoms.length" class="col-md-4 pl-0">
                              <button (click)="showMoreInfoSymptomPopup(i+2, contentInfoSymptomOneDisease);"
                                class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 2].id}})">
                                <em class="fa fa-info w-13"></em>
                              </button>
                              <span *ngIf="infoOneDisease.symptoms[i + 2].name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 2].id}})" (click)="showMoreInfoSymptomPopup(i+2, contentInfoSymptomOneDisease);">{{infoOneDisease.symptoms[i + 2].name}}</span>
                              <span *ngIf="!infoOneDisease.symptoms[i + 2].name">
                                {{infoOneDisease.symptoms[i + 2].id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[i + 2].id}}" target="_blank"
                                  title="{{infoOneDisease.symptoms[i + 2].id}}">
                                  <i class="ft-external-link"></i></a>
                              </span>
                            </span>
                          </span>
                        </span>
                      </span>
                    </div>
                  </div>
                  <div class="center-elements mt-2">
                    <h4>{{'land.diagnosed.symptoms.Do you identify with them?' | translate }}</h4>
                    <div class="col-md-12 center-elements">
                      <button type="button" class="btn btn-info round mt-2 mr-2"  [ngClass]="(identifyValue=='no')?'btn-active-info':''" (click)="sendIdentifySymptoms('no');">{{'generics.No' | translate }}</button>
                      <button type="button" class="btn btn-info round mt-2 ml-2" [ngClass]="(identifyValue=='yes')?'btn-active-info':''" (click)="sendIdentifySymptoms('yes');">{{'generics.Yes' | translate }}</button>
                    </div>
                  </div>
                </mat-expansion-panel>
                <mat-expansion-panel *ngIf="infoOneDisease.symptoms!=undefined" [expanded]="step === 2" (opened)="setStep(2)">
                  <mat-expansion-panel-header>
                    <mat-panel-title (click)="lauchEvent('Diagnosed - Chronology');">
                      {{'land.Chronology' | translate }}<span class="ml-1 badge badge-pill badge-success mb-1 mr-2">{{'generics.New' | translate }}</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <a id="initsteps"></a>
                  <div class="card-body">
                    <div>
                      <div class="col-md-12">
                        <p class="text-center">{{'land.diagnosed.timeline.title' | translate}}</p>
                      </div>
                      <div class="row">
                        <div class="col-md-12 align-items-center text-center">
                          <div class="form-steps-container">
                            <span *ngFor="let step of stepsTimeLine; let i = index;" class="forstep" (click)="navigate(step)" [ngClass]="{ 'pointer': (step.stepIndex != currentStepTimeLine.stepIndex )}">
                                <div [ngClass]="{ 'step-complete': step.isComplete, 'step-incomplete': !step.isComplete, 'step-current': ((currentStepTimeLine)?.stepIndex >= step.stepIndex && i < (stepsTimeLine)?.length - 1), 'step-final': ((currentStepTimeLine)?.stepIndex >= step.stepIndex && i == (stepsTimeLine)?.length - 1),  'step-bubble-prev': (currentStepTimeLine)?.stepIndex >= step.stepIndex,  'step-bubble-next': ((currentStepTimeLine)?.stepIndex < step.stepIndex && i <= (stepsTimeLine)?.length - 1), 'margin-bubble-final': (step.stepIndex == 3)}"
                                    class="step-bubble">
                                    <span *ngIf="i < (stepsTimeLine)?.length - 1" class="white">{{ step.stepIndex }}</span>
                                    <span *ngIf="i == (stepsTimeLine)?.length - 1" class="white"><em class="fa fa-check"></em></span>
                                  </div>
                                <div *ngIf="i < (stepsTimeLine)?.length - 1" class="step-divider" [ngClass]="((i < (stepsTimeLine)?.length - 1) && step.stepIndex>=currentStepTimeLine.stepIndex)?'step-divider-prev':'step-divider-next'"></div>
                                <span class="step-title" [ngClass]="{ 'mt-2': (step.stepIndex != 3), 'margin-step-title mt-025': (step.stepIndex == 3), 'step-title-next': ((currentStepTimeLine)?.stepIndex < step.stepIndex), 'step-title-prev': ((currentStepTimeLine)?.stepIndex >= step.stepIndex), 'success': ((currentStepTimeLine)?.stepIndex >= step.stepIndex && i == (stepsTimeLine)?.length - 1)}">{{step.title}} </span>
                            </span>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="currentStepTimeLine.stepIndex == 1" class="step-section offset-sm-1 col-sm-10 offset-md-2 col-md-8">
                        <div *ngIf="substepExtract=='0' || substepExtract=='4'"
                          class="mb-2 shadow rounded-lg light-background border box-panels">
                          <div class="row">
                            <div class="col-md-12">
                              <ngb-tabset justify="justified">
                                <ngb-tab>
                                  <ng-template ngbTabTitle>
                                    <span>
                                      <i class="fas fa-search" aria-hidden="true"></i>
                                      <span class="d-none d-sm-inline ml-1">{{'land.Quick search' | translate }}</span>
                                      <span class="d-block d-sm-none no-line-height">{{'land.Quick search' | translate }}</span>
                                    </span>
                                  </ng-template>
                                  <ng-template ngbTabContent>
                                    <div>
                                      <ng-template #rt let-r="result" let-t="term">
                                        <strong title="{{r.name}}">{{ r.name}}</strong>
                                        <span *ngIf="r.desc!=null" class="d-block" title="{{r.desc}}">{{ (r.desc.length>140)? (r.desc |
                                          slice:0:140)+'...':(r.desc) }}</span>
                                      </ng-template>
                                      <div class="mt-2" style="padding-bottom: 1rem !important;">
                                        <span class="d-none d-lg-inline ml-2 mr-2"><i class="fas fa-search"></i></span>
                                        <input #input type="text"
                                          #inputManualSymptoms class="form-control ml-1 inputSearch2 d-inline data-hj-allow" [(ngModel)]="modelTemp"
                                          [ngbTypeahead]="searchSymptoms" [resultTemplate]="rt" [inputFormatter]="formatter1" (paste)="searchSymptoms"
                                          placeholder="{{'symptomssection.manualinput' | translate }}"
                                          (selectItem)="selected($event)" (focusout)="focusOutFunctionSymptom()"/>
                                          <em *ngIf="callListOfSymptoms" class="fa fa-spinner fa-spin fa-2x fa-fw secondary spinner-absolute"></em>
                                          <span *ngIf="nothingFoundSymptoms">
                                            <span *ngIf="(modelTemp).trim().length>3">
                                              <span class="d-block">{{'dashboardpatient.Nothing found. Try again.' | translate }}</span>
                                            </span>
                                          </span>
                                      </div>
                                    </div>
                                    <div *ngIf="infoOneDisease.symptoms.length>0">
                                      <thead class="pr-1 pl-1 mt-2">
                                        <tr>
                                          <th id="headerTable" style="border-top-style: none;padding-bottom: 4px;">
                                            <span class="icons-title-symptoms ml-1" style="font-weight: normal;">{{'land.SelectSymptoms' | translate }}</span>
                                            <span class="float-right icons-opt-symptoms">
                                            <em class="mt-1 fa fa-refresh grey ml-2 mr-2" title="{{'land.Start over' | translate }}"
                                              (click)="restartInitVars()" style="cursor: pointer;"></em>
                                              <em class="mt-1 fas fa-copy grey mr-2" title="{{'land.Copy symptoms' | translate }}"
                                              (click)="copySymptoms()" style="cursor: pointer;"></em>
                                              <em class="mt-1 fa fa-download grey mr-2"
                                              title="{{'land.Download symptoms' | translate }}" (click)="downloadSymptoms()"
                                              style="cursor: pointer;"></em>
                                            </span>
                                          </th>
                                        </tr>
                                      </thead>
                                      <div class="table-cont">
                                        <table class="table mb-0 table-wrapper-scroll-y my-custom-scrollbar bg-white"
                                          aria-labelledby="HPO">
                                          <tbody>
                                            <tr *ngFor="let hpo of infoOneDisease.symptoms ; let i = index">
                                              <td>
                                                <span>
                                                  <span class="float-right ml-1">
                                                    <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                                                      class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                                      title="{{'generics.More information' | translate }} ({{hpo.id}})">
                                                      <em class="fa fa-info w-13"></em>
                                                    </button>
                                                    <button (click)="deleteSymptom(hpo, i)"
                                                      class="btn btn-sm mr-1 mb-0 btn-fab round btn-outline-danger"
                                                      href="javascript:void(0)"
                                                      title="{{'generics.Delete' | translate }}">
                                                      <em class="fa fa-trash w-13"></em>
                                                    </button>
                                                  </span>
                                                  <span>
                                                    <button (click)="changeStateSymptom(i)"
                                                      class="btn btn-sm mr-1 mb-0 btn-fab round white"
                                                      [ngClass]="(hpo.checked==true)?'btn-info-nohover':'btn-secondary'"
                                                      href="javascript:void(0)" title="{{'phenotype.Click to check it' | translate }}">
                                                      <em class="fa fa-check w-13"></em>
                                                    </button>
                                                    <span class="ml-1 custom-bold pointer" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{hpo.name}}</span>
                                                  </span>
                                                </span>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                    <div *ngIf="infoOneDisease.symptoms.length==0" class="white-space">
                                      <tbody></tbody>
                                    </div>
                                    <div class="col-md-12 p-1 border-top footer-symtoms">
                                      <button type="button" class="btn round float-right mt-2 mr-2 bt-nav" [ngClass]="(numberOfSymtomsChecked < minSymptoms)?'btn-secondary':'btn-info'" (click)="directCalculate();">{{'generics.Next' | translate }}</button>
                                    </div>

                                  </ng-template>
                                </ngb-tab>
                                <ngb-tab>
                                  <ng-template ngbTabTitle>
                                    <span>
                                      <i class="fa fa-language" aria-hidden="true"></i>
                                      <span class="d-none d-sm-inline ml-1">{{'land.Text' | translate }}</span>
                                      <span class="d-block d-sm-none no-line-height">{{'land.Text' | translate }}</span>
                                    </span>
                                  </ng-template>
                                  <ng-template ngbTabContent>
                                    <div class="p-2">
                                      <textarea #inputTextArea class="form-control data-hj-allow" style="height: 320px;" [(ngModel)]="medicalText"
                                        name="medicalText" placeholder="{{'land.placeholder' | translate }}"></textarea>
                                    </div>
                                    <div class="text-center mt-2">
                                      <button type="button" class="btn btn-lg round btn-info"
                                        [attr.title]="(medicalText.length<5) ? getLiteral('land.placeholderError') : getLiteral('land.Extract')"
                                        (click)="startExtractor();">{{'land.Look for symptoms' | translate }}</button>
                                    </div>
                                  </ng-template>
                                </ngb-tab>
                                <ngb-tab>
                                  <ng-template ngbTabTitle>
                                    <span>
                                      <i class="fas fa-file"></i> 
                                      <span class="d-none d-sm-inline ml-1">{{'land.Documents' | translate}}</span>
                                      <span class="d-block d-sm-none no-line-height">{{'land.Documents' | translate}}</span>
                                    </span>
                                    </ng-template>
                                  <ng-template ngbTabContent>
                                    <div class="container-custom m-2" appDnd (fileDropped)="onFileDropped($event)">
                                      <input type="file" #fileDropRef id="fileDropRef" multiple (change)="onFileChangePDF($event);"
                                        accept=".pdf, .docx, .jpg, .png, .gif, .tiff, .tif, .bmp, .dib, .bpg, .psd, .jpeg, .jpe, .jfif" />
                                      <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="arrow-alt-from-bottom"
                                        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                                        class="secondary svg-inline--fa fa-arrow-alt-from-bottom fa-w-12 fa-fw fa-2x">
                                        <path fill="currentColor"
                                          d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"
                                          class=""></path>
                                      </svg>
                                      <h3 class="mt-2">{{'land.Drag and drop file here' | translate }}</h3>
                                      <h3>{{'land.or' | translate }}</h3>
                                      <label class="btn btn-info round"
                                        style="text-transform: none;letter-spacing: 0px;cursor: pointer;"
                                        for="fileDropRef">{{'land.Browse for file' | translate }}</label>
                                      <h3 class="mt-2 d-block">{{'land.Accepted files' | translate }}</h3>
                                      <span class="mt-2 ml-2 font-small-3 text-muted">{{'land.descripReports' | translate }}</span>
                                    </div>
                                  </ng-template>
                                </ngb-tab>
                              </ngb-tabset>
                            </div>
                          </div>
                        </div>
                        <div *ngIf="substepExtract!='0' && substepExtract!='4'" class="mb-2 shadow rounded-lg light-background border d-flex">
                          <div class="mr-2 section w-100  mb-2 align-self-center">
                            <span class="d-block pt-2 center-elements font-medium-3">{{'land.The symptoms found will be shown here' |
                              translate }}</span>
                            <span class="d-block pt-2 center-elements">
                              <em class="fa fa-spinner fa-spin fa-3x fa-fw secondary"></em>
                              <span class="d-block overlay-text col-md-12 font-medium-3 mt-2">{{'land.Calculating' | translate
                                }}...</span>
                              <span class="d-block font-medium-3 mt-1 pb-2">{{'land.pleaseWait' | translate }}</span>
                            </span>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="currentStepTimeLine.stepIndex == 2" class="step-section offset-sm-1 col-sm-10 offset-md-2 col-md-8">
                        <span class="card mt-0 mb-0 shadow rounded-lg border p-2" style="min-height: 38vh;">
                          <table class="col-md-12 table mb-0 bg-white" aria-labelledby="get diagnosis">
                            <thead>
                              <tr>
                                <th id="headerTable" style="border-top-style: none;padding: 0rem;">
                                  <span>{{'land.diagnosed.timeline.titlet0' | translate}}</span>
                                  <span class="text-muted d-block" style="font-weight: initial;">
                                    <span>{{'land.diagnosed.timeline.t0' | translate}}</span>
                                  </span>
                                </th>
                              </tr>
                            </thead>
                          </table>
                          <timeline *ngIf="startTimeline" [disease]="actualInfoOneDisease" [listSymptoms]="listSymptomsCheckedTimeline" (backEvent)="endTimeLineFunction()" (exportParamsEvent)="getParamsTimeLine($event)" (addSymptomsEvent)="addSymptomsEvent($event)" (finishEvent)="checkDonnorState(contentInfoAttention);" (openModalSymptomInfo)="showMoreInfoAndNotesSymptomPopup($event, contentInfoAndNotesSymptom)" (openModalSaveTimeLine)="openSaveTimeLine(contentSaveTimeline)"></timeline>
                        </span>
                        <span class="col-md-12 p-1 footer-symtoms shadow rounded-lg border">
                          <button type="button" class="mt-2 ml-2 btn round float-left bt-nav" (click)="goPrevious()" [class.cursor-not-allowed]="currentStepTimeLine.stepIndex==1" [disabled]="currentStepTimeLine.stepIndex==1" [ngClass]="(currentStepTimeLine.stepIndex!=1)?'btn-info':'btn-secondary'">{{'generics.Previous' | translate }}</button>
                          <button type="button" class="mt-2 mr-2 btn round float-right bt-nav" (click)="goNext()" [class.cursor-not-allowed]="currentStepTimeLine.stepIndex==3" [disabled]="currentStepTimeLine.stepIndex==3" [ngClass]="(currentStepTimeLine.stepIndex<3)?'btn-info':'btn-secondary'">{{'generics.Next' | translate }}</button>
                        </span>
                      </div>
                      <div *ngIf="currentStepTimeLine.stepIndex == 3" class="step-section offset-sm-1 col-sm-10 offset-md-2 col-md-8">
                        <div class="mt-3 mt-0 mb-0 shadow rounded-lg border">
                          <div class="p-2 col-md-12 center-elements">
                            <div class="mt-4">
                              <h3><strong>{{'land.Completed0' | translate }}</strong></h3>
                              <p class="offset-sm-1 col-sm-10">{{'land.Completed2' | translate }}</p>
                            </div>
                            <hr class="mt-4 hr-custom-secondary">
                            <div class="mt-4">
                              <h3><strong>{{'land.What now' | translate }}</strong></h3>
                              <p class="offset-sm-1 col-sm-10" [innerHTML]="'land.msgwhat1' | translate"></p>
                              <div class="p-2">
                                <button type="button" class="btn btn-primary bt-custom-md round mr-1" (click)="openSaveTimeLine(contentSaveTimeline)">
                                  <em class="mr-1 ft-save white"
                                    title="{{'land.diagnosed.timeline.SaveTimeline' | translate }}" (click)="openSaveTimeLine(contentSaveTimeline)"
                                    style="cursor: pointer;"></em>
                                    <span>{{'land.diagnosed.timeline.SaveTimeline' | translate }}</span>
                                </button>
                              <button type="button" class="btn btn-primary bt-custom-md round ml-1 mr-1" (click)="exportTimeline()">
                                <em class="mr-1 fa fa-download white" title="{{'land.diagnosed.timeline.Download' | translate }}"
                                  (click)="exportTimeline()" style="cursor: pointer;"></em>
                                <span>{{'land.diagnosed.timeline.Download' | translate }}</span>
                              </button>
                              <button type="button" class="btn btn-primary bt-custom-md round ml-1" (click)="sendEmail()">
                                <em class="mr-1 far fa-envelope" title="{{'land.Send results' | translate }}"
                                  (click)="sendEmail()" style="cursor: pointer;"></em>
                                <span>{{'land.Send results' | translate }}</span>
                              </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <span class="col-md-12 p-1 footer-symtoms shadow rounded-lg border">
                          <button type="button" class="mt-2 ml-2 btn round float-left bt-nav" (click)="goPrevious()" [class.cursor-not-allowed]="currentStepTimeLine.stepIndex==1" [disabled]="currentStepTimeLine.stepIndex==1" [ngClass]="(currentStepTimeLine.stepIndex!=1)?'btn-info':'btn-secondary'">{{'generics.Previous' | translate }}</button>
                        </span>
                      </div>
                    </div>
                  </div>
                </mat-expansion-panel>
                <mat-expansion-panel *ngIf="infoWiki.length>0 || infoWikiGeneral.length>0" [expanded]="step === 3" (opened)="setStep(3)">
                  <mat-expansion-panel-header>
                    <mat-panel-title (click)="lauchEvent('Diagnosed - General');">
                      {{'land.diagnosed.general.title' | translate }}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="card-body">
                    <div *ngIf="!loadingArticle">
                      <div class="col-md-12" *ngIf="viewArticle">
                        <button type="button" class="pull-right btn btn-info round" (click)="backToList()">{{'generics.Back' | translate }}</button>
                        <h1>{{actualArticle.title}}</h1>
                        <!--<a (click)="backToList();">Return to the list of information found.</a>-->
                      </div>
                      <div class="col-md-12" *ngIf="infoWikiGeneral.length>0 && !viewArticle">
                        <span class="text-muted">{{'land.diagnosed.general.We have found' | translate }} {{infoWikiGeneral.length}} {{'land.diagnosed.general.results for' | translate }} {{infoOneDisease.name}} ({{secondToResponse}} {{'land.diagnosed.general.Seconds' | translate }})</span>
                        <p *ngFor="let part of infoWikiGeneral ; let k = index" class="mb-1">
                          <span>
                            <h5 class="mt-2 mb-0"><a (click)="goToArticle(part);" class="articleTitle">{{part.title}}</a></h5>
                            <span class="" [innerHTML]="infoWikiGeneral[k].snippet"></span>
                          </span>
                        </p>
                      </div>
                      <div class="col-md-12" *ngIf="(infoWiki.length>0 && infoWikiGeneral.length>0 && viewArticle) || (infoWiki.length>0 && infoWikiGeneral.length==0)">
                        <p *ngFor="let part of infoWiki ; let j = index" class="mb-1">
                          <span>
                            <h4 class="mt-2"><strong>{{part.title}}</strong></h4>
                            <span class="" *ngIf="part.title!='Enlaces externos' && part.title!='External links'" style="margin-bottom: 2rem;white-space:pre-line;">
                              <span *ngIf="part.content.length>0">
                                {{part.content}}
                              </span>
                              <span *ngIf="part.items">
                                <span *ngFor="let item of part.items ; let listItem = index" class="mb-1">
                                  <h5 class="mt-2"><strong>{{item.title}}</strong></h5>
                                  <span *ngIf="item.content.length>0" style="margin-bottom: 2rem;white-space:pre-line;">
                                    {{item.content}}
                                  </span>
                                </span>
                              </span>
                            </span>
                            <span class="" *ngIf="part.title=='Enlaces externos' || part.title=='External links'">
                              <span *ngFor="let url of part.urls ; let j = index">
                                <a href="{{url}}" target="_blank" class="d-block">{{url}}</a>
                              </span>
                            </span>
                          </span>
                        </p>
                      </div>
                    </div>
                    <div *ngIf="loadingArticle" class="center-elements">
                        <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                    </div>
                  </div>
                </mat-expansion-panel>
                <mat-expansion-panel *ngIf="clinicalTrials.length>0" [expanded]="step === 4" (opened)="setStep(4)">
                  <mat-expansion-panel-header>
                    <mat-panel-title (click)="lauchEvent('Diagnosed - Clinical Trials');">
                      {{'land.diagnosed.general.Clinical trials' | translate }}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="card-body">
                    <div *ngIf="clinicalTrials.length>0" class="col-md-12">
                      <div *ngFor="let studie of clinicalTrials ; let i = index">
                        <span class="d-block"><strong>Id</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}
                          <a class="ml-1"
                            href="https://clinicaltrials.gov/ct2/show/{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}"
                            target="_blank"
                            title="{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}">
                            <i class="ft-external-link"></i></a>
                        </p>
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.OrgFullName' | translate }}</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.Organization.OrgFullName}}</p>
          
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.BriefTitle' | translate }}</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.BriefTitle}}</p>
          
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.StudyFirstSubmitDate' | translate }}</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.StatusModule.StudyFirstSubmitDate}}</p>
                        <span *ngIf="studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName">
                          <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.ResponsiblePartyInvestigatorFullName' | translate }}</strong></span>
                          <p class="d-block mb-0">{{studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName}}</p>
                        </span>
                        
                        <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned!=undefined">
                          <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.LocationCountry' | translate }}</strong></span>
                          <p class="d-block mb-0" *ngFor="let location of studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned ; let j = index">{{location.LocationCountry}}</p>
                        </span>
                        <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList!=undefined">
                          <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact.length>0">
                            <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.Contact' | translate }}</strong></span>
                            <p class="d-block mb-0" *ngFor="let contact of studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact ; let k = index">{{contact.CentralContactName}} <<a href='mailto:{{contact.CentralContactEMail}}'>{{contact.CentralContactEMail}}</a>></p>
                          </span>
                        </span>
                        
                        <hr *ngIf="i<clinicalTrials.length-1" width="100%" size="20" color="#b0b6bb">
                      </div>
                      
                    </div>
                    <div *ngIf="clinicalTrials.length==0" class="col-md-12">
                      <p>{{'land.diagnosed.clinicalTrials.msgNoTrials' | translate }} {{infoOneDisease.name}}</p>
                    </div>
                  </div>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
                  <mat-expansion-panel-header>
                    <mat-panel-title (click)="lauchEvent('Diagnosed - Patient Groups');">
                      {{'land.diagnosed.general.Patient groups' | translate }}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="card-body">
                    <div class="col-md-12">
                      <div *ngIf="loadingPatientGroups" class="center-elements">
                        <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                      </div>
                      <span *ngIf="!loadingPatientGroups">
                        <span *ngIf="patientGroups.length==0">
                          <p>{{'land.diagnosed.PatientGroups.title1' | translate }}</p>
                          <p>{{'land.diagnosed.PatientGroups.title2' | translate }}</p>
                        </span>
                        <span *ngIf="patientGroups.length>0">
                          <div *ngFor="let patientGroup of patientGroups ; let i = index">
                            <span class="d-block"><strong>{{'generics.Name' | translate }}</strong></span>
                            <p class="d-block mb-0">{{patientGroup.Name}}</p>
                            
                            <span class="d-block mt-1"><strong>{{'personalinfo.Country' | translate }}</strong></span>
                            <p class="d-block mb-0">{{patientGroup.Country.Name.__text}}</p>
    
                            <span class="d-block mt-1"><strong>{{'generics.Lang' | translate }}</strong></span>
                            <p class="d-block mb-0">{{patientGroup.LanguageOfName}}</p>
    
                            <span class="d-block mt-1"><strong>{{'land.diagnosed.PatientGroups.Website' | translate }}</strong></span>
                            <p class="d-block mb-0">
                              <a
                                href="{{patientGroup.Url}}"
                                target="_blank"
                                title="{{patientGroup.Name}}">{{patientGroup.Url}} 
                                <i class="ft-external-link"></i></a>
                            </p>
    
                            <hr *ngIf="i<patientGroups.length-1" width="100%" size="20" color="#b0b6bb">
                          </div>
                        </span>
                      </span>
                    </div>
                  </div>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="step === 6" (opened)="setStep(6)">
                  <mat-expansion-panel-header>
                    <mat-panel-title (click)="lauchEvent('Diagnosed - Donate your data');">
                      {{'land.diagnosed.general.Donate your data' | translate }}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="card-body">
                    <div class="col-md-12">
                      <form class="form" #f="ngForm">
                        <div class="form-body row">
                          <div class="col-md-12">
                            <label for="Answers">{{'land.diagnosed.DonorData.question' | translate }}</label>
                            <mat-select class="form-control" id="Answers" name="Answers" multiple [(ngModel)]="formOpen.Answers">
                              <mat-option value="Know more">{{'land.diagnosed.DonorData.op1' | translate }}</mat-option>
                              <mat-option value="Find patients">{{'land.diagnosed.DonorData.op2' | translate }}</mat-option>
                              <mat-option value="Help other patients">{{'land.diagnosed.DonorData.op3' | translate }}</mat-option>
                            </mat-select>
                          </div>
                          <div class="col-md-12 mt-3">
                            <label for="Free">{{'land.diagnosed.DonorData.free' | translate }}</label>
                            <textarea name="Free" class="form-control" [(ngModel)]="formOpen.Free" name="Free"></textarea>
                          </div>
                          
                          <div class="col-md-12 mt-3">
                            <div class="form-group">
                            <label>{{'generics.Email' | translate }}*</label>
                            <div>
                              <input class="col-md-12 form-control" type="email" id="Email" name="Email" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="formOpen.Email">
                              <small class="form-text text-muted danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
                            </div>
                            </div>
                          </div>
                        </div>
                        <div class="mt-1">
                          <p>{{'know-me.Consent' | translate }}</p>
                        </div>
                        <div>
                          <mat-checkbox
                              class="example-margin" style="position: absolute; margin-top: 2px;" name="terms2" required ngModel #terms2="ngModel" id="terms2" [(ngModel)]="formOpen.terms2">
                          </mat-checkbox>
                          <span class="ml-3" (click)="checkConsent()" style="cursor: pointer;">
                            {{'know-me.CheckConsent' | translate }}
                          </span>
                            <small class="form-text text-muted danger" *ngIf="!terms2.valid && showErrorForm">{{'gtp.mandatoryConsent' | translate }}</small>
                        </div>
                        <div *ngIf="!sending" class="center-elements mt-3">
                          <div *ngIf="f.valid;then formValid else formError"></div>
                          <ng-template #formValid><button class="btn btn-primary round" (click)="onSubmitDonorData();lauchEvent('Diagnosed - Submit Donate your data');"> {{'support.Send' | translate }}</button></ng-template>
                          <ng-template #formError><button class="btn btn-primary round" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
                        </div>
                        <div class="form-actions center-elements" *ngIf="sending">
                            <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                        </div>
                      </form>
                    </div>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
              <ngb-tabset type="pills" id="tabspills" #tabRef="ngbTabset" class="d-none offset-xl-1 col-xl-10 d-xl-block text-left">
                <ngb-tab *ngIf="infoOneDisease.symptoms!=undefined" id="tab0">
                  <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Symptoms');">{{'land.diagnosed.general.Symptoms' | translate }}</strong></ng-template>
                  <ng-template ngbTabContent>
                    <div class="p-3 m-3 border rounded text-center" style="background-color: #A1CBEA !important;">
                      <p class="ml-2 mr-2">{{'land.diagnosed.symptoms.These are the symptoms of your disease' | translate }}</p>
                      <p class="ml-2 mr-2">{{'land.diagnosed.symptoms.goToChrono' | translate }}
                      <div class="col-md-12 center-elements">
                        <button type="button" class="btn btn-info round mt-2 mr-2" (click)="switchNgBTab('tab1');">{{'land.diagnosed.symptoms.I want to create the chronology' | translate }}</button>
                      </div>
                    </div>
                    <div class="col-md-12 pb-2">
                      <div class="row">
                        <div class="col-md-12 mt-1">
                          <div class="col-md-12">
                            <span *ngFor="let symptom of infoOneDisease.symptoms ; let i = index">
                              <span *ngIf="i % 3 == 0" class="row mb-2">
                                <span class="col-md-4 pl-0">
                                  <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                                    class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                    title="{{'generics.More information' | translate }} ({{symptom.id}})">
                                    <em class="fa fa-info w-13"></em>
                                  </button>
                                  <span *ngIf="symptom.name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{symptom.name}}</span>
                                  <span *ngIf="!symptom.name">
                                    {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                      href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                      title="{{symptom.id}}">
                                      <i class="ft-external-link"></i></a>
                                  </span>
                                </span>
                                <span *ngIf="i + 1 < infoOneDisease.symptoms.length" class="col-md-4 pl-0">
                                  <button (click)="showMoreInfoSymptomPopup(i+1, contentInfoSymptomOneDisease);"
                                    class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                    title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})">
                                    <em class="fa fa-info w-13"></em>
                                  </button>
                                  <span *ngIf="infoOneDisease.symptoms[i + 1].name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})" (click)="showMoreInfoSymptomPopup(i+1, contentInfoSymptomOneDisease);">{{infoOneDisease.symptoms[i + 1].name}}</span>
                                  <span *ngIf="!infoOneDisease.symptoms[i + 1].name">
                                    {{infoOneDisease.symptoms[i + 1].id}} ({{'phenotype.Deprecated' | translate}}) <a
                                      href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[i + 1].id}}" target="_blank"
                                      title="{{infoOneDisease.symptoms[i + 1].id}}">
                                      <i class="ft-external-link"></i></a>
                                  </span>
                                </span>
                                <span *ngIf="i + 2 < infoOneDisease.symptoms.length" class="col-md-4 pl-0">
                                  <button (click)="showMoreInfoSymptomPopup(i+2, contentInfoSymptomOneDisease);"
                                    class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                    title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 1].id}})">
                                    <em class="fa fa-info w-13"></em>
                                  </button>
                                  <span *ngIf="infoOneDisease.symptoms[i + 2].name" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{infoOneDisease.symptoms[i + 2].id}})" (click)="showMoreInfoSymptomPopup(i+2, contentInfoSymptomOneDisease);">{{infoOneDisease.symptoms[i + 2].name}}</span>
                                  <span *ngIf="!infoOneDisease.symptoms[i + 2].name">
                                    {{infoOneDisease.symptoms[i + 2].id}} ({{'phenotype.Deprecated' | translate}}) <a
                                      href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[i + 2].id}}" target="_blank"
                                      title="{{infoOneDisease.symptoms[i + 2].id}}">
                                      <i class="ft-external-link"></i></a>
                                  </span>
                                </span>
                              </span>
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="center-elements mb-2 mt-4">
                        <h4>{{'land.diagnosed.symptoms.Do you identify with them?' | translate }}</h4>
                        <div class="col-md-12 center-elements">
                          <button type="button" class="btn btn-info round mt-2 mr-2"  [ngClass]="(identifyValue=='no')?'btn-active-info':''" (click)="sendIdentifySymptoms('no');">{{'generics.No' | translate }}</button>
                          <button type="button" class="btn btn-info round mt-2 ml-2" [ngClass]="(identifyValue=='yes')?'btn-active-info':''" (click)="sendIdentifySymptoms('yes');">{{'generics.Yes' | translate }}</button>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
                <ngb-tab *ngIf="infoOneDisease.symptoms!=undefined" id="tab1">
                  <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Chronology');">{{'land.Chronology' | translate }}</strong></ng-template>
                  <ng-template ngbTabContent>
                    <a id="initsteps"></a>
                    <div class="col-md-12 mb-3 pb-2">
                      <div class="row">
                        <div class="col-md-12 mt-2">
                          <div>
                            <p class="text-center">{{'land.diagnosed.timeline.title' | translate}}</p>
                            <div class="row">
                              <div class="col-md-12 align-items-center text-center">
                                <div class="form-steps-container">
                                  <span *ngFor="let step of stepsTimeLine; let i = index;" class="forstep" (click)="navigate(step)" [ngClass]="{ 'pointer': (step.stepIndex != currentStepTimeLine.stepIndex )}">
                                    <div [ngClass]="{ 'step-complete': step.isComplete, 'step-incomplete': !step.isComplete, 'step-current': ((currentStepTimeLine)?.stepIndex >= step.stepIndex && i < (stepsTimeLine)?.length - 1), 'step-final': ((currentStepTimeLine)?.stepIndex >= step.stepIndex && i == (stepsTimeLine)?.length - 1),  'step-bubble-prev': (currentStepTimeLine)?.stepIndex >= step.stepIndex,  'step-bubble-next': ((currentStepTimeLine)?.stepIndex < step.stepIndex && i <= (stepsTimeLine)?.length - 1), 'margin-bubble-final': (step.stepIndex == 3)}"
                                          class="step-bubble">
                                          <span *ngIf="i < (stepsTimeLine)?.length - 1" class="white">{{ step.stepIndex }}</span>
                                          <span *ngIf="i == (stepsTimeLine)?.length - 1" class="white"><em class="fa fa-check"></em></span>
                                        </div>
                                      <div *ngIf="i < (stepsTimeLine)?.length - 1" class="step-divider" [ngClass]="((i < (stepsTimeLine)?.length - 1) && step.stepIndex>=currentStepTimeLine.stepIndex)?'step-divider-prev':'step-divider-next'"></div>
                                      <span class="step-title" [ngClass]="{ 'mt-2': (step.stepIndex != 3), 'margin-step-title mt-025': (step.stepIndex == 3), 'step-title-next': ((currentStepTimeLine)?.stepIndex < step.stepIndex), 'step-title-prev': ((currentStepTimeLine)?.stepIndex >= step.stepIndex), 'success': ((currentStepTimeLine)?.stepIndex >= step.stepIndex && i == (stepsTimeLine)?.length - 1)}">{{step.title}} </span>
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div *ngIf="currentStepTimeLine.stepIndex == 1" class="step-section col-sm-12 offset-lg-2 col-lg-8">
                              <div *ngIf="substepExtract=='0' || substepExtract=='4'"
                                class="mb-2 shadow rounded-lg light-background border box-panels">
                                <div class="row">
                                  <div class="col-md-12">
                                    <ngb-tabset justify="justified">
                                      <ngb-tab>
                                        <ng-template ngbTabTitle>
                                          <span>
                                            <i class="fas fa-search" aria-hidden="true"></i>
                                            <span class="d-none d-sm-inline ml-1">{{'land.Quick search' | translate }}</span>
                                            <span class="d-block d-sm-none no-line-height">{{'land.Quick search' | translate }}</span>
                                          </span>
                                        </ng-template>
                                        <ng-template ngbTabContent>
                                          <div>
                                            <ng-template #rt let-r="result" let-t="term">
                                              <strong title="{{r.name}}">{{ r.name}}</strong>
                                              <span *ngIf="r.desc!=null" class="d-block" title="{{r.desc}}">{{ (r.desc.length>140)? (r.desc |
                                                slice:0:140)+'...':(r.desc) }}</span>
                                            </ng-template>
                                            <div class="mt-2" style="padding-bottom: 1rem !important;">
                                              <span class="d-none d-sm-inline ml-2 mr-2"><i class="fas fa-search"></i></span>
                                              <input #input type="text"
                                                #inputManualSymptoms class="form-control ml-1 inputSearch2 d-inline data-hj-allow" [(ngModel)]="modelTemp"
                                                [ngbTypeahead]="searchSymptoms" [resultTemplate]="rt" [inputFormatter]="formatter1" (paste)="searchSymptoms"
                                                placeholder="{{'symptomssection.manualinput' | translate }}"
                                                (selectItem)="selected($event)" (focusout)="focusOutFunctionSymptom()"/>
                                                <em *ngIf="callListOfSymptoms" class="fa fa-spinner fa-spin fa-2x fa-fw secondary spinner-absolute"></em>
                                                <span *ngIf="nothingFoundSymptoms">
                                                  <span *ngIf="(modelTemp).trim().length>3">
                                                    <span class="d-block">{{'dashboardpatient.Nothing found. Try again.' | translate }}</span>
                                                  </span>
                                                </span>
                                            </div>
                                          </div>
                                          <div *ngIf="infoOneDisease.symptoms.length>0">
                                            <thead class="pr-1 pl-1 mt-2">
                                              <tr>
                                                <th id="headerTable" style="border-top-style: none;padding-bottom: 4px;">
                                                  <span class="icons-title-symptoms ml-1" style="font-weight: normal;">{{'land.SelectSymptoms' | translate }}</span>
                                                  <span class="float-right icons-opt-symptoms">
                                                  <em class="mt-1 fa fa-refresh grey ml-2 mr-2" title="{{'land.Start over' | translate }}"
                                                    (click)="restartInitVars()" style="cursor: pointer;"></em>
                                                    <em class="mt-1 fas fa-copy grey mr-2" title="{{'land.Copy symptoms' | translate }}"
                                                    (click)="copySymptoms()" style="cursor: pointer;"></em>
                                                    <em class="mt-1 fa fa-download grey mr-2"
                                                    title="{{'land.Download symptoms' | translate }}" (click)="downloadSymptoms()"
                                                    style="cursor: pointer;"></em>
                                                  </span>
                                                </th>
                                              </tr>
                                            </thead>
                                            <div class="table-cont">
                                              <table class="table mb-0 table-wrapper-scroll-y my-custom-scrollbar bg-white"
                                                aria-labelledby="HPO">
                                                <tbody>
                                                  <tr *ngFor="let hpo of infoOneDisease.symptoms ; let i = index">
                                                    <td>
                                                      <span>
                                                        <span class="float-right ml-1">
                                                          <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                                                            class="btn-outline-secondary btn btn-sm mr-1 mb-0 btn-fab round"
                                                            title="{{'generics.More information' | translate }} ({{hpo.id}})">
                                                            <em class="fa fa-info w-13"></em>
                                                          </button>
                                                          <button (click)="deleteSymptom(hpo, i)"
                                                            class="btn btn-sm mr-1 mb-0 btn-fab round btn-outline-danger"
                                                            href="javascript:void(0)"
                                                            title="{{'generics.Delete' | translate }}">
                                                            <em class="fa fa-trash w-13"></em>
                                                          </button>
                                                        </span>
                                                        <span>
                                                          <button (click)="changeStateSymptom(i)"
                                                            class="btn btn-sm mr-1 mb-0 btn-fab round white"
                                                            [ngClass]="(hpo.checked==true)?'btn-info-nohover':'btn-secondary'"
                                                            href="javascript:void(0)" title="{{'phenotype.Click to check it' | translate }}">
                                                            <em class="fa fa-check w-13"></em>
                                                          </button>
                                                          <span class="ml-1 custom-bold pointer" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{hpo.name}}</span>
                                                        </span>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                            </div>
                                          </div>
                                          <div *ngIf="infoOneDisease.symptoms.length==0" class="white-space">
                                            <tbody></tbody>
                                          </div>
                                          <div class="col-md-12 p-1 border-top footer-symtoms">
                                            <button type="button" class="btn round float-right mt-2 mr-2 bt-nav" [ngClass]="(numberOfSymtomsChecked < minSymptoms)?'btn-secondary':'btn-info'" (click)="directCalculate();">{{'generics.Next' | translate }}</button>
                                          </div>

                                        </ng-template>
                                      </ngb-tab>
                                      <ngb-tab>
                                        <ng-template ngbTabTitle>
                                          <span>
                                            <i class="fa fa-language" aria-hidden="true"></i>
                                            <span class="d-none d-sm-inline ml-1">{{'land.Text' | translate }}</span>
                                            <span class="d-block d-sm-none no-line-height">{{'land.Text' | translate }}</span>
                                          </span>
                                        </ng-template>
                                        <ng-template ngbTabContent>
                                          <div class="p-2">
                                            <textarea #inputTextArea class="form-control data-hj-allow" style="height: 320px;" [(ngModel)]="medicalText"
                                              name="medicalText" placeholder="{{'land.placeholder' | translate }}"></textarea>
                                          </div>
                                          <div class="text-center mt-2">
                                            <button type="button" class="btn btn-lg round btn-info"
                                              [attr.title]="(medicalText.length<5) ? getLiteral('land.placeholderError') : getLiteral('land.Extract')"
                                              (click)="startExtractor();">{{'land.Look for symptoms' | translate }}</button>
                                          </div>
                                        </ng-template>
                                      </ngb-tab>
                                      <ngb-tab>
                                        <ng-template ngbTabTitle>
                                          <span>
                                            <i class="fas fa-file"></i> 
                                            <span class="d-none d-sm-inline ml-1">{{'land.Documents' | translate}}</span>
                                            <span class="d-block d-sm-none no-line-height">{{'land.Documents' | translate}}</span>
                                          </span>
                                          </ng-template>
                                        <ng-template ngbTabContent>
                                          <div class="container-custom m-2" appDnd (fileDropped)="onFileDropped($event)">
                                            <input type="file" #fileDropRef id="fileDropRef" multiple (change)="onFileChangePDF($event);"
                                              accept=".pdf, .docx, .jpg, .png, .gif, .tiff, .tif, .bmp, .dib, .bpg, .psd, .jpeg, .jpe, .jfif" />
                                            <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="arrow-alt-from-bottom"
                                              role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                                              class="secondary svg-inline--fa fa-arrow-alt-from-bottom fa-w-12 fa-fw fa-2x">
                                              <path fill="currentColor"
                                                d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"
                                                class=""></path>
                                            </svg>
                                            <h3 class="mt-2">{{'land.Drag and drop file here' | translate }}</h3>
                                            <h3>{{'land.or' | translate }}</h3>
                                            <label class="btn btn-info round"
                                              style="text-transform: none;letter-spacing: 0px;cursor: pointer;"
                                              for="fileDropRef">{{'land.Browse for file' | translate }}</label>
                                            <h3 class="mt-2 d-block">{{'land.Accepted files' | translate }}</h3>
                                            <span class="mt-2 ml-2 font-small-3 text-muted">{{'land.descripReports' | translate }}</span>
                                          </div>
                                        </ng-template>
                                      </ngb-tab>
                                    </ngb-tabset>
                                  </div>
                                </div>
                              </div>
                              <div *ngIf="substepExtract!='0' && substepExtract!='4'" class="mb-2 shadow rounded-lg light-background border d-flex">
                                <div class="mr-2 section w-100  mb-2 align-self-center">
                                  <span class="d-block pt-2 center-elements font-medium-3">{{'land.The symptoms found will be shown here' |
                                    translate }}</span>
                                  <span class="d-block pt-2 center-elements">
                                    <em class="fa fa-spinner fa-spin fa-3x fa-fw secondary"></em>
                                    <span class="d-block overlay-text col-md-12 font-medium-3 mt-2">{{'land.Calculating' | translate
                                      }}...</span>
                                    <span class="d-block font-medium-3 mt-1 pb-2">{{'land.pleaseWait' | translate }}</span>
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div *ngIf="currentStepTimeLine.stepIndex == 2" class="step-section col-sm-12 offset-lg-2 col-lg-8">
                              <span class="card mt-0 mb-0 shadow rounded-lg border p-2" style="min-height: 38vh;">
                                <table class="col-md-12 table mb-0 bg-white" aria-labelledby="get diagnosis">
                                  <thead>
                                    <tr>
                                      <th id="headerTable" style="border-top-style: none;padding: 0rem;">
                                        <span>{{'land.diagnosed.timeline.titlet0' | translate}}</span>
                                        <span class="text-muted d-block" style="font-weight: initial;">
                                          <span>{{'land.diagnosed.timeline.t0' | translate}}</span>
                                        </span>
                                      </th>
                                    </tr>
                                  </thead>
                                </table>
                                <timeline *ngIf="startTimeline" [disease]="actualInfoOneDisease" [listSymptoms]="listSymptomsCheckedTimeline" (backEvent)="endTimeLineFunction()" (exportParamsEvent)="getParamsTimeLine($event)" (addSymptomsEvent)="addSymptomsEvent($event)" (finishEvent)="checkDonnorState(contentInfoAttention);" (openModalSymptomInfo)="showMoreInfoAndNotesSymptomPopup($event, contentInfoAndNotesSymptom)" (openModalSaveTimeLine)="openSaveTimeLine(contentSaveTimeline)"></timeline>
                              </span>
                              <span class="col-md-12 p-1 footer-symtoms shadow rounded-lg border">
                                <button type="button" class="mt-2 ml-2 btn round float-left bt-nav" (click)="goPrevious()" [class.cursor-not-allowed]="currentStepTimeLine.stepIndex==1" [disabled]="currentStepTimeLine.stepIndex==1" [ngClass]="(currentStepTimeLine.stepIndex!=1)?'btn-info':'btn-secondary'">{{'generics.Previous' | translate }}</button>
                                <button type="button" class="mt-2 mr-2 btn round float-right bt-nav" (click)="goNext()" [class.cursor-not-allowed]="currentStepTimeLine.stepIndex==3" [disabled]="currentStepTimeLine.stepIndex==3" [ngClass]="(currentStepTimeLine.stepIndex<3)?'btn-info':'btn-secondary'">{{'generics.Next' | translate }}</button>
                              </span>
                            </div>
                            <div *ngIf="currentStepTimeLine.stepIndex == 3" class="step-section col-sm-12 offset-lg-2 col-lg-8">
                              <div class="mt-3 mt-0 mb-0 shadow rounded-lg border">
                                <div class="p-2 col-md-12 center-elements">
                                  <div class="mt-4">
                                    <h3><strong>{{'land.Completed0' | translate }}</strong></h3>
                                    <p class="offset-lg-2 col-lg-8">{{'land.Completed2' | translate }}</p>
                                  </div>
                                  <hr class="mt-4 hr-custom-secondary">
                                  <div class="mt-4">
                                    <h3><strong>{{'land.What now' | translate }}</strong></h3>
                                    <p class="offset-sm-1 col-sm-10" [innerHTML]="'land.msgwhat1' | translate"></p>
                                    <div class="p-2">
                                      <button type="button" class="btn btn-primary bt-custom-md round mr-1" (click)="openSaveTimeLine(contentSaveTimeline)">
                                        <em class="mr-1 ft-save white"
                                          title="{{'land.diagnosed.timeline.SaveTimeline' | translate }}" (click)="openSaveTimeLine(contentSaveTimeline)"
                                          style="cursor: pointer;"></em>
                                          <span>{{'land.diagnosed.timeline.SaveTimeline' | translate }}</span>
                                      </button>
                                    <button type="button" class="btn btn-primary bt-custom-md round ml-1 mr-1" (click)="exportTimeline()">
                                      <em class="mr-1 fa fa-download white" title="{{'land.diagnosed.timeline.Download' | translate }}"
                                        (click)="exportTimeline()" style="cursor: pointer;"></em>
                                      <span>{{'land.diagnosed.timeline.Download' | translate }}</span>
                                    </button>
                                    <button type="button" class="btn btn-primary bt-custom-md round ml-1" (click)="sendEmail()">
                                      <em class="mr-1 far fa-envelope" title="{{'land.Send results' | translate }}"
                                        (click)="sendEmail()" style="cursor: pointer;"></em>
                                      <span>{{'land.Send results' | translate }}</span>
                                    </button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <span class="col-md-12 p-1 footer-symtoms shadow rounded-lg border">
                                <button type="button" class="mt-2 ml-2 btn round float-left" (click)="goPrevious()" [class.cursor-not-allowed]="currentStepTimeLine.stepIndex==1" [disabled]="currentStepTimeLine.stepIndex==1" [ngClass]="(currentStepTimeLine.stepIndex!=1)?'btn-info':'btn-secondary'">{{'generics.Previous' | translate }}</button>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ngb-tab>
                <ngb-tab *ngIf="infoWiki.length>0 || infoWikiGeneral.length>0" id="tab2">
                  <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - General');backToList();">
                    {{'land.diagnosed.general.title' | translate }}</strong></ng-template>
                  <ng-template ngbTabContent>
                    <div *ngIf="!loadingArticle" class="pb-2">
                      <div class="col-md-12" *ngIf="viewArticle">
                        <button type="button" class="pull-right btn btn-info round" (click)="backToList()">{{'generics.Back' | translate }}</button>
                        <h1>{{actualArticle.title}}</h1>
                        <!--<a (click)="backToList();">Return to the list of information found.</a>-->
                      </div>
                      <div class="col-md-12" *ngIf="infoWikiGeneral.length>0 && !viewArticle">
                        <span class="text-muted">{{'land.diagnosed.general.We have found' | translate }} {{infoWikiGeneral.length}} {{'land.diagnosed.general.results for' | translate }} {{infoOneDisease.name}} ({{secondToResponse}} {{'land.diagnosed.general.Seconds' | translate }})</span>
                        <p *ngFor="let part of infoWikiGeneral ; let k = index" class="mb-1">
                          <span>
                            <h5 class="mt-2 mb-0"><a (click)="goToArticle(part);" class="articleTitle">{{part.title}}</a></h5>
                            <span class="" [innerHTML]="infoWikiGeneral[k].snippet"></span>
                          </span>
                        </p>
                      </div>
                      <div class="col-md-12" *ngIf="(infoWiki.length>0 && infoWikiGeneral.length>0 && viewArticle) || (infoWiki.length>0 && infoWikiGeneral.length==0)">
                        <p *ngFor="let part of infoWiki ; let j = index" class="mb-1">
                          <span>
                            <h4 class="mt-2"><strong>{{part.title}}</strong></h4>
                            <span class="" *ngIf="part.title!='Enlaces externos' && part.title!='External links'" style="margin-bottom: 2rem;white-space:pre-line;">
                              <span *ngIf="part.content.length>0">
                                {{part.content}}
                              </span>
                              <span *ngIf="part.items">
                                <span *ngFor="let item of part.items ; let listItem = index" class="mb-1">
                                  <h5 class="mt-2"><strong>{{item.title}}</strong></h5>
                                  <span *ngIf="item.content.length>0" style="margin-bottom: 2rem;white-space:pre-line;">
                                    {{item.content}}
                                  </span>
                                </span>
                              </span>
                            </span>
                            <span class="" *ngIf="part.title=='Enlaces externos' || part.title=='External links'">
                              <span *ngFor="let url of part.urls ; let j = index">
                                <a href="{{url}}" target="_blank" class="d-block">{{url}}</a>
                              </span>
                            </span>
                          </span>
                        </p>
                      </div>
                    </div>
                    <div *ngIf="loadingArticle" class="center-elements pb-2">
                        <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                    </div>
                  </ng-template>
                </ngb-tab>
                <ngb-tab *ngIf="clinicalTrials.length>0" id="tab3">
                  <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Clinical Trials');">{{'land.diagnosed.general.Clinical trials' | translate }}</strong></ng-template>
                  <ng-template ngbTabContent>
                    <div *ngIf="clinicalTrials.length>0" class="col-md-12 pb-2">
                      <div *ngFor="let studie of clinicalTrials ; let i = index">
                        <span class="d-block"><strong>Id</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}
                          <a class="ml-1"
                            href="https://clinicaltrials.gov/ct2/show/{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}"
                            target="_blank"
                            title="{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}">
                            <i class="ft-external-link"></i></a>
                        </p>
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.OrgFullName' | translate }}</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.Organization.OrgFullName}}</p>
          
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.BriefTitle' | translate }}</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.BriefTitle}}</p>
          
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.StudyFirstSubmitDate' | translate }}</strong></span>
                        <p class="d-block mb-0">{{studie.Study.ProtocolSection.StatusModule.StudyFirstSubmitDate}}</p>
                        <span *ngIf="studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName">
                          <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.ResponsiblePartyInvestigatorFullName' | translate }}</strong></span>
                          <p class="d-block mb-0">{{studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName}}</p>
                        </span>
                        
                        <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned!=undefined">
                          <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.LocationCountry' | translate }}</strong></span>
                          <p class="d-block mb-0" *ngFor="let location of studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned ; let j = index">{{location.LocationCountry}}</p>
                        </span>
                        <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList!=undefined">
                          <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact.length>0">
                            <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.Contact' | translate }}</strong></span>
                            <p class="d-block mb-0" *ngFor="let contact of studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact ; let k = index">{{contact.CentralContactName}} <<a href='mailto:{{contact.CentralContactEMail}}'>{{contact.CentralContactEMail}}</a>></p>
                          </span>
                        </span>
                        
                        <hr *ngIf="i<clinicalTrials.length-1" width="100%" size="20" color="#b0b6bb">
                      </div>
                      
                    </div>
                    <div *ngIf="clinicalTrials.length==0" class="col-md-12 pb-2">
                      <p>{{'land.diagnosed.clinicalTrials.msgNoTrials' | translate }} {{infoOneDisease.name}}</p>
                    </div>
          
                  </ng-template>
                </ngb-tab>
                <ngb-tab id="tab4">
                  <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Patient Groups');">{{'land.diagnosed.general.Patient groups' | translate }}</strong></ng-template>
                  <ng-template ngbTabContent>
                    <div class="col-md-12 pb-2">
                      <div *ngIf="loadingPatientGroups" class="center-elements">
                        <i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
                      </div>
                      <span *ngIf="!loadingPatientGroups">
                        <span *ngIf="patientGroups.length==0">
                          <p>{{'land.diagnosed.PatientGroups.title1' | translate }}</p>
                          <p>{{'land.diagnosed.PatientGroups.title2' | translate }}</p>
                        </span>
                        <span *ngIf="patientGroups.length>0">
                          <div *ngFor="let patientGroup of patientGroups ; let i = index">
                            <span class="d-block"><strong>{{'generics.Name' | translate }}</strong></span>
                            <p class="d-block mb-0">{{patientGroup.Name}}</p>
                            
                            <span class="d-block mt-1"><strong>{{'personalinfo.Country' | translate }}</strong></span>
                            <p class="d-block mb-0">{{patientGroup.Country.Name.__text}}</p>
    
                            <span class="d-block mt-1"><strong>{{'generics.Lang' | translate }}</strong></span>
                            <p class="d-block mb-0">{{patientGroup.LanguageOfName}}</p>
    
                            <span class="d-block mt-1"><strong>{{'land.diagnosed.PatientGroups.Website' | translate }}</strong></span>
                            <p class="d-block mb-0">
                              <a
                                href="{{patientGroup.Url}}"
                                target="_blank"
                                title="{{patientGroup.Name}}">{{patientGroup.Url}} 
                                <i class="ft-external-link"></i></a>
                            </p>
    
                            <hr *ngIf="i<patientGroups.length-1" width="100%" size="20" color="#b0b6bb">
                          </div>
                        </span>
                      </span>
                    </div>
                  </ng-template>
                </ngb-tab>
                <ngb-tab id="tab5">
                  <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Donate your data');">{{'land.diagnosed.general.Donate your data-xl' | translate }}</strong></ng-template>
                  <ng-template ngbTabContent>
                    <div class="col-md-12 pb-2">
                      <form class="form" #f="ngForm">
                        <div class="form-body row">
                          <div class="col-md-12">
                            <label for="Answers">{{'land.diagnosed.DonorData.question' | translate }}</label>
                            <mat-select class="form-control" id="Answers" name="Answers" multiple [(ngModel)]="formOpen.Answers">
                              <mat-option value="Know more">{{'land.diagnosed.DonorData.op1' | translate }}</mat-option>
                              <mat-option value="Find patients">{{'land.diagnosed.DonorData.op2' | translate }}</mat-option>
                              <mat-option value="Help other patients">{{'land.diagnosed.DonorData.op3' | translate }}</mat-option>
                            </mat-select>
                          </div>
                          <div class="col-md-12 mt-3">
                            <label for="Free">{{'land.diagnosed.DonorData.free' | translate }}</label>
                            <textarea name="Free" class="form-control" [(ngModel)]="formOpen.Free" name="Free"></textarea>
                          </div>
                          
                          <div class="col-md-12 mt-3">
                            <div class="form-group">
                            <label>{{'generics.Email' | translate }}*</label>
                            <div>
                              <input class="col-md-12 form-control data-hj-allow" type="email" id="Email" name="Email" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="formOpen.Email">
                              <small class="form-text text-muted danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
                            </div>
                            </div>
                          </div>
                        </div>
                        <div class="mt-1">
                          <p>{{'know-me.Consent' | translate }}</p>
                        </div>
                        <div>
                          <mat-checkbox
                              class="example-margin" style="position: absolute; margin-top: 2px;" name="terms2" required ngModel #terms2="ngModel" id="terms2" [(ngModel)]="formOpen.terms2">
                          </mat-checkbox>
                          <span class="ml-3" (click)="checkConsent()" style="cursor: pointer;">
                            {{'know-me.CheckConsent' | translate }}
                          </span>
                            <small class="form-text text-muted danger" *ngIf="!terms2.valid && showErrorForm">{{'gtp.mandatoryConsent' | translate }}</small>
                        </div>
                        <div *ngIf="!sending" class="center-elements mt-3">
                          <div *ngIf="f.valid;then formValid else formError"></div>
                          <ng-template #formValid><button class="btn btn-primary round" (click)="onSubmitDonorData();lauchEvent('Diagnosed - Submit Donate your data');"> {{'support.Send' | translate }}</button></ng-template>
                          <ng-template #formError><button class="btn btn-primary round" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
                        </div>
                        <div class="form-actions center-elements" *ngIf="sending">
                            <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                        </div>
                      </form>
                    </div>
          
                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
              <div class="mt-2" *ngIf="showButtonScroll">
                <button type="button" class="float-right btn btn-info round" (click)="goTopTabs()"><i class="ft-arrow-up fa-2x"></i></button>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</section>



<ng-template #contentInfoDx29 let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{'land.InfoDx29.title' | translate }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body content-wrapper p-2">
    <p>
      {{'land.InfoDx29.p1' | translate }}
    </p>
    <p>
      {{'land.InfoDx29.p3' | translate }}
    </p>
    <ol>
      <li [innerHTML]="'land.InfoDx29.p5' | translate"></li>
      <li>{{'land.InfoDx29.p8' | translate }}</li>
      <li>{{'land.InfoDx29.p9' | translate }}</li>
    </ol>
    <p><strong>{{'land.InfoDx29.Ideal patients' | translate }}</strong></p>
    <p>
      {{'land.InfoDx29.p11' | translate }}
    </p>
    <div class="mb-4">
      <apx-chart [series]="lineChartIdealOptions.series" [colors]="lineChartIdealOptions.colors"
        [chart]="lineChartIdealOptions.chart" [xaxis]="lineChartIdealOptions.xaxis"
        [yaxis]="lineChartIdealOptions.yaxis" [title]="lineChartIdealOptions.title"
        [dataLabels]="lineChartIdealOptions.dataLabels" [stroke]="lineChartIdealOptions.stroke"
        [grid]="lineChartIdealOptions.grid" [tooltip]="lineChartIdealOptions.tooltip"
        [plotOptions]="lineChartIdealOptions.plotOptions" [fill]="lineChartIdealOptions.fill"
        [legend]="lineChartIdealOptions.legend" [labels]="lineChartIdealOptions.labels"
        [markers]="lineChartIdealOptions.markers" [theme]="lineChartIdealOptions.theme"
        [responsive]="lineChartIdealOptions.responsive"></apx-chart>
    </div>
    <p><strong>{{'land.InfoDx29.Inaccurate patients' | translate }}</strong></p>
    <p>
      {{'land.InfoDx29.p12' | translate }}
    </p>
    <div class="mb-4">
      <apx-chart [series]="lineChartRuidoOptions.series" [colors]="lineChartRuidoOptions.colors"
        [chart]="lineChartRuidoOptions.chart" [xaxis]="lineChartRuidoOptions.xaxis"
        [yaxis]="lineChartRuidoOptions.yaxis" [title]="lineChartRuidoOptions.title"
        [dataLabels]="lineChartRuidoOptions.dataLabels" [stroke]="lineChartRuidoOptions.stroke"
        [grid]="lineChartRuidoOptions.grid" [tooltip]="lineChartRuidoOptions.tooltip"
        [plotOptions]="lineChartRuidoOptions.plotOptions" [fill]="lineChartRuidoOptions.fill"
        [legend]="lineChartRuidoOptions.legend" [labels]="lineChartRuidoOptions.labels"
        [markers]="lineChartRuidoOptions.markers" [theme]="lineChartRuidoOptions.theme"
        [responsive]="lineChartRuidoOptions.responsive"></apx-chart>
    </div>
    <p>
      {{'land.InfoDx29.p13' | translate }}
    </p>
  </div>
</ng-template>

<ng-template #contentToDx29V2 let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 center-elements mb-3">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeRegisterPanel();">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center"><strong>{{'land.swal.title' | translate }}</strong><span class="d-block"><strong>{{'land.swal.title2' | translate }}</strong></span></h4>
    </div>
    <div>
      <div class="align-self-center">
        <span>
          <span *ngIf="infoOneDisease.symptoms.length>0">
            <p [innerHTML]="'land.swal.p1' | translate"></p>
          </span>
        </span>
        <div class="row reg-panel d-block d-sm-none">
          <button class="mt-2 btn btn-primary round btn-navbar" (click)="registerToDx29V2()">{{'land.swal.button' |
            translate }}</button>
            <p>{{'land.swal.p2' | translate }}</p>
          <div class="row pb-2 pt-2">
            <div class="offset-1 col-2">
              <img class="w-reg-img-sm" src='assets/img/home/reg/regref.jpg' />
            </div>
            <span class="col-9 text-left">
              <p class="mb-0"><strong>{{'land.table.t1' | translate }}</strong></p>
              <p class="d-block">{{'land.table.d1' | translate }}</p>
            </span>
          </div>
          <div class="row pb-2 pt-2">
            <div class="offset-1 col-2">
              <img class="w-reg-img-sm" src='assets/img/home/reg/sharedata.jpg' />
            </div>
            <span class="col-9 text-left">
              <p class="mb-0"><strong>{{'land.table.t2' | translate }}</strong></p>
              <p class="d-block">{{'land.table.d2' | translate }}</p>
            </span>
          </div>
          <div class="row pb-2 pt-2">
            <div class="offset-1 col-2">
              <img class="w-reg-img-sm" src='assets/img/home/reg/genetrio.jpg' />
            </div>
            <span class="col-9 text-left">
              <p class="mb-0"><strong>{{'land.table.t3' | translate }}</strong></p>
              <p class="d-block">{{'land.table.d3' | translate }}</p>
            </span>
          </div>
        </div>
        <div class="row reg-panel d-none d-sm-flex">
          <div class="col-sm-4 pb-3 pt-3">
            <div class="mb-2">
              <img class="col w-reg-img" src='assets/img/home/reg/regref.jpg' />
            </div>
            <span class="w-reg" style="display: inline-block;">
              <span><strong>{{'land.table.t1' | translate }}</strong></span>
              <span class="d-block">{{'land.table.d1' | translate }}</span>
            </span>
          </div>
          <div class="col-sm-4 pb-3 pt-3">
            <div class="mb-2">
              <img class="col w-reg-img" src='assets/img/home/reg/sharedata.jpg' />
            </div>
            <span class="w-reg" style="display: inline-block;">
              <span><strong>{{'land.table.t2' | translate }}</strong></span>
              <span class="d-block">{{'land.table.d2' | translate }}</span>
            </span>
          </div>
          <div class="col-sm-4 pb-3 pt-3">
            <div class="mb-2">
              <img class="col w-reg-img" src='assets/img/home/reg/genetrio.jpg' />
            </div>
            <span class="w-reg" style="display: inline-block;">
              <span><strong>{{'land.table.t3' | translate }}</strong></span>
              <span class="d-block">{{'land.table.d3' | translate }}</span>
            </span>
          </div>
        </div>
        <button class="mb-0 mt-2 btn btn-primary round btn-navbar" (click)="registerToDx29V2()">{{'land.swal.button' |
          translate }}</button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentInfoSymptomOneDisease let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeSymptom()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{infoOneDisease.symptoms[selectedInfoSymptomIndex].name }}</strong></h4>
      <span class="content-sub-header text-muted">{{infoOneDisease.symptoms[selectedInfoSymptomIndex].id}}<a class="ml-1"
        href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[selectedInfoSymptomIndex].id}}"
        target="_blank"
        title=" {{infoOneDisease.symptoms[selectedInfoSymptomIndex].name}} ({{infoOneDisease.symptoms[selectedInfoSymptomIndex].id}}):">
        <i class="ft-external-link"></i></a></span>
    </div>
    <div class="row col-md-12" class="p-2">
      <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].desc!=null">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0">{{infoOneDisease.symptoms[selectedInfoSymptomIndex].desc}} </p>
      </span>
      <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].desc==''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0"> {{'symptomssection.No description' | translate }} </p>
      </span>
    </div>
    <div *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms">
      <div *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms.length" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms.length>0">
          <p *ngFor="let synonym of infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms ; let j = index" class="mb-0">
            <span>{{j+1}}. </span> <span>{{synonym.label}}</span>
          </p>
        </span>
        <!--<span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>-->
      </div>
    </div>
    <!--<div *ngIf="!infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms">
      <span>
        {{'symptomssection.No synonyms' | translate }}
      </span>
    </div>-->
  </div>
</ng-template>

<ng-template #contentInfoAttention let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 center-elements mb-3">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="letsGo()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{'land.diagnosed.DonorData.t1' | translate }} </strong></h4>
    </div>
    <div>
      <div class="offset-xl-2 col-xl-8 offset-md-1 col-md-10 pt-2">
        <div class="row" >
          <div class="mt-2 col-md-12">
            <p>
              {{'land.diagnosed.DonorData.p1' | translate }} 
            </p>
            <p>
              {{'land.diagnosed.DonorData.p2' | translate }}
            </p>
            <p>
              {{'land.diagnosed.DonorData.p3' | translate }}
            </p>
            <p>
              {{'land.diagnosed.DonorData.p4' | translate }}
            </p>
          </div>
          <form class="form mt-2 col-md-12" #f="ngForm">
            <div class="">
              <input class="col-md-12 form-control" type="email" id="Email" name="Email" placeholder="{{'generics.Email' | translate }}" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="email">
              <small class="pr-0 pl-0 col-md-6 text-left form-text danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
            </div>
            <div *ngIf="!sending" class="center-elements ml-2 mt-2">
              <div *ngIf="f.valid;then formValid else formError"></div>
              <ng-template #formValid><button class="btn btn-outline-primary mb-0" (click)="sendSymtomsChecked(contentInfoSendSymptoms);lauchEvent('Diagnosed - Submit Revolution');"> {{'support.Send' | translate }}</button></ng-template>
              <ng-template #formError><button class="btn btn-outline-primary mb-0" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
              <span class="d-block font-small-3 pb-2 info" style="cursor: pointer;" (click)="letsGo();">{{'land.diagnosed.symptoms.btn2' | translate }}</span>
            </div>
            <div class="form-actions" *ngIf="sending">
                <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentInfoSendSymptoms let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeInfoSendSymptoms()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{'land.diagnosed.DonorData.title' | translate }}</strong></h4>
    </div>
    <div class="row">
      <div class="col-md-5">
        <img class="col mt-1" style="max-width: 300px;" src='assets/img/home/kid.jpg' />
      </div>
      <div class="col-md-7 align-self-center">
        <span class="text-left">
          <p>
            {{'land.diagnosed.DonorData.p1' | translate }} 
          </p>
          <p>
            {{'land.diagnosed.DonorData.p2' | translate }}
          </p>
          <p>
            {{'land.diagnosed.DonorData.p3' | translate }}
          </p>
        </span>
      </div>
    </div>
    <div class="p-2">
      <p>
        <strong>{{'land.diagnosed.DonorData.p4' | translate }}</strong>
      </p>
      <form class="form" #f="ngForm">
        <div class="">
          <input class="col-md-6 form-control" type="email" id="Email" name="Email" placeholder="{{'generics.Email' | translate }}" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="email">
          <small class="pr-0 pl-0 col-md-6 form-text danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
        </div>
        <div *ngIf="!sending" class="mt-2">
          <div *ngIf="f.valid;then formValid else formError"></div>
          <ng-template #formValid><button class="btn btn-outline-primary" (click)="onSubmitRevolution();lauchEvent('Diagnosed - Submit Revolution');"> {{'support.Send' | translate }}</button></ng-template>
          <ng-template #formError><button class="btn btn-outline-primary" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
        </div>
        <div class="form-actions" *ngIf="sending">
            <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
        </div>
      </form>
    </div>
  </div>
</ng-template>

<ng-template #contentInfoAndNotesSymptom let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeSymptom()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 *ngIf="selectedNoteSymptom.name" class="align-self-center mb-0"><strong>{{selectedNoteSymptom.name}}</strong></h4>
      <span class="content-sub-header text-muted">{{selectedNoteSymptom.id}}<a class="ml-1"
        href="https://hpo.jax.org/app/browse/term/{{selectedNoteSymptom.id}}"
        target="_blank"
        title=" {{selectedNoteSymptom.name}} ({{selectedNoteSymptom.id}}):">
        <i class="ft-external-link"></i></a>
      </span>
      <h4 *ngIf="!selectedNoteSymptom.name"class="align-self-center mb-0"><strong>{{symptom.id}} ({{'phenotype.Deprecated' | translate}}) </strong>
        <a class="ml-1"
        href="https://hpo.jax.org/app/browse/term/{{selectedNoteSymptom.id}}"
        target="_blank"
        title=" {{selectedNoteSymptom.name}} ({{selectedNoteSymptom.id}}):">
        <i class="ft-external-link"></i></a>
      </h4>
    </div>
    <div class="row col-md-12" class="p-2" *ngIf="selectedNoteSymptom.onsetdate!=null">
      <span>
        <h5><strong>{{'generics.Start Date' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.onsetdate | date}} </p>
      </span>
    </div>
    <div class="row col-md-12" class="p-2" *ngIf="selectedNoteSymptom.finishdate!=null">
      <span>
        <h5><strong>{{'generics.End Date' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.finishdate | date}} </p>
      </span>
    </div>
    <div class="row col-md-12" class="p-2" *ngIf="(selectedNoteSymptom.onsetdate!=null)&&(selectedNoteSymptom.isCurrentSymptom)">
      <span>
        <h5><strong>{{'generics.End Date' | translate }}</strong></h5>
        <p class="mb-0"> - </p>
      </span>
    </div>
    <div class="row col-md-12" class="p-2" *ngIf="selectedNoteSymptom.notes!=null">
      <span>
        <h5><strong>{{'generics.notes' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.notes}} </p>
      </span>
    </div>
    <div class="row col-md-12" class="p-2">
      <span *ngIf="selectedNoteSymptom.desc!=null">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.desc}} </p>
      </span>
      <span *ngIf="selectedNoteSymptom.desc==''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0"> {{'symptomssection.No description' | translate }} </p>
      </span>
    </div>
    <div *ngIf="selectedNoteSymptom.synonyms">
      <div *ngIf="selectedNoteSymptom.synonyms.length" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="selectedNoteSymptom.synonyms.length>0">
          <p *ngFor="let synonym of selectedNoteSymptom.synonyms ; let j = index" class="mb-0">
            <span>{{j+1}}. </span> <span>{{synonym.label}}</span>
          </p>
        </span>
        <span *ngIf="selectedNoteSymptom.synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
    </div>
    <div *ngIf="!selectedNoteSymptom.synonyms">
      <span>
        {{'symptomssection.No synonyms' | translate }}
      </span>
    </div>
  </div>
</ng-template>

<ng-template #contentTimelineAppHelp1 let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeTimelineAppHelp1()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{'land.diagnosed.timeline.Whats' | translate}}</strong></h4>
    </div>  
    <div class="col-md-12">
      <div class="col-md-12">
        <p>{{'land.diagnosed.timeline.t0' | translate}} <i class="fas fa-ellipsis-v font-medium-3 info"></i></p>
        <p> {{'land.diagnosed.timeline.t0-p1' | translate}}</p>
        <p> {{'land.diagnosed.timeline.t0-p2' | translate}}</p>
      </div>
      <div class="col-md-12 mt-1 d-block d-sm-none">
        <p>** {{'land.diagnosed.timeline.WorkPC' | translate}}</p>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentSaveTimeline let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 center-elements mb-3">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeSaveTimeLine()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center"><strong>{{'land.swal.title' | translate }}</strong><span class="d-block"><strong>{{'land.swal.title2' | translate }}</strong></span></h4>
    </div>
    <div>
      <div class="align-self-center">
        <span>
          <p [innerHTML]="'land.diagnosed.timeline.p1' | translate"></p>
        </span>
        <span>
          <p [innerHTML]="'land.diagnosed.timeline.p2' | translate"></p>
        </span>
        <span>
          <p [innerHTML]="'land.diagnosed.timeline.p3' | translate"></p>
        </span>
        <div class="row reg-panel d-block d-sm-none">
          <button class="mt-2 btn btn-primary round btn-navbar" (click)="registerToDx29V2()">{{'land.swal.button' |
            translate }}</button>
            <p>{{'land.swal.p2' | translate }}</p>
            <div class="row pb-2 pt-2">
              <div class="offset-1 col-2">
                <img class="w-reg-img-sm" src='assets/img/home/reg/regref.jpg' />
              </div>
              <span class="col-9 text-left">
                <p class="mb-0"><strong>{{'land.table.t1' | translate }}</strong></p>
                <p class="d-block">{{'land.table.d1' | translate }}</p>
              </span>
            </div>
            <div class="row pb-2 pt-2">
              <div class="offset-1 col-2">
                <img class="w-reg-img-sm" src='assets/img/home/reg/sharedata.jpg' />
              </div>
              <span class="col-9 text-left">
                <p class="mb-0"><strong>{{'land.table.t2' | translate }}</strong></p>
                <p class="d-block">{{'land.table.d2' | translate }}</p>
              </span>
            </div>
          <div class="row pb-2 pt-2">
            <div class="offset-1 col-2">
              <img class="w-reg-img-sm" src='assets/img/home/reg/genetrio.jpg' />
            </div>
            <span class="col-9 text-left">
              <p class="mb-0"><strong>{{'land.table.t3' | translate }}</strong></p>
              <p class="d-block">{{'land.table.d3' | translate }}</p>
            </span>
          </div>
        </div>
        <div class="row reg-panel d-none d-sm-flex">
          <div class="col-sm-4 pb-3 pt-3">
            <div class="mb-2">
              <img class="col w-reg-img" src='assets/img/home/reg/regref.jpg' />
            </div>
            <span class="w-reg" style="display: inline-block;">
              <span><strong>{{'land.table.t1' | translate }}</strong></span>
              <span class="d-block">{{'land.table.d1' | translate }}</span>
            </span>
          </div>
          <div class="col-sm-4 pb-3 pt-3">
            <div class="mb-2">
              <img class="col w-reg-img" src='assets/img/home/reg/sharedata.jpg' />
            </div>
            <span class="w-reg" style="display: inline-block;">
              <span><strong>{{'land.table.t2' | translate }}</strong></span>
              <span class="d-block">{{'land.table.d2' | translate }}</span>
            </span>
          </div>
          <div class="col-sm-4 pb-3 pt-3">
            <div class="mb-2">
              <img class="col w-reg-img" src='assets/img/home/reg/genetrio.jpg' />
            </div>
            <span class="w-reg" style="display: inline-block;">
              <span><strong>{{'land.table.t3' | translate }}</strong></span>
              <span class="d-block">{{'land.table.d3' | translate }}</span>
            </span>
          </div>
        </div>
        <button class="mb-0 mt-2 btn btn-primary round btn-navbar" (click)="registerToDx29V2Timeline()">{{'land.swal.button' |
          translate }}</button>
      </div>
    </div>
  </div>
</ng-template>
    
<button id="openModalRegister" [hidden]="true" (click)="registerToDx29Swal(contentToDx29V2)">.</button>