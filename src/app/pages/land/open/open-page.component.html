<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a (click)="selectRole('');">{{'land.Home' | translate }}</a></li>
    <!--<li *ngIf="role=='undiagnosed' || role=='diagnosed'" class="breadcrumb-item active"><a
        (click)="selectRole('patient');">Patient</a></li>-->
    <li *ngIf="role=='undiagnosed'" class="breadcrumb-item active" aria-current="page">{{'land.Undiagnosed' | translate }}</li>
    <li *ngIf="role=='diagnosed'" class="breadcrumb-item active" aria-current="page">{{'land.Diagnosed' | translate }}</li>
    <li *ngIf="role=='clinician'" class="breadcrumb-item active" aria-current="page">{{'land.Physician' | translate }}</li>
  </ol>
</nav>
<section id="login" class="mt-2" *ngIf="(role=='undiagnosed' || role=='clinician') ">
  <div class="container-fluid pb-4">
    <div style="margin: auto;" style="margin: auto;">
      <div class="text-center p-2">
        <div class="section">
          <h4 class="d-block d-sm-none">{{'land.title' | translate }}</h4>
          <h2 class="d-none d-sm-block">{{'land.title' | translate }}</h2>
        </div>
      </div>
      <div class="row" [ngClass]="(topRelatedConditions.length>0)?'diffHeight':''">
        <div *ngIf="substepExtract=='0'"
          class="mb-2 offset-xl-1 col-xl-5 mrbox shadow rounded-lg light-background border box-panels">
          <div class="row pt-2">
            <div class="col-md-12">
              <ngb-tabset justify="justified">
                <ngb-tab>
                  <ng-template ngbTabTitle>
                    <span>
                      <i class="fa fa-language" aria-hidden="true"></i>
                      <span class="d-none d-sm-inline ml-1">{{'land.Text' | translate }}</span>
                      <span class="d-block d-sm-none no-line-height">{{'land.Text' | translate }}</span>
                    </span>
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div>
                      <textarea #inputTextArea class="form-control data-hj-allow" style="height:30vh;" [(ngModel)]="medicalText"
                        name="medicalText" placeholder="{{'land.placeholder' | translate }}"></textarea>
                    </div>
                    <div class="text-center mt-2">
                      <button type="button" class="btn btn-lg btn-info btn-raised"
                        [attr.title]="(medicalText.length<5) ? getLiteral('land.placeholderError') : getLiteral('land.Extract')"
                        (click)="startExtractor();"><em class="ml-1 mr-1 mt-1 mb-1 fas fa-play fa-2x"></em></button>
                    </div>
                  </ng-template>
                </ngb-tab>
                <ngb-tab>
                  <ng-template ngbTabTitle>
                    <span>
                      <i class="fas fa-file"></i> 
                      <span class="d-none d-sm-inline ml-1">{{'land.Documents' | translate}}</span>
                      <span class="d-block d-sm-none no-line-height">{{'land.Documents' | translate}}</span>
                    </span>
                    </ng-template>
                  <ng-template ngbTabContent>
                    <div class="container-custom" appDnd (fileDropped)="onFileDropped($event)">
                      <input type="file" #fileDropRef id="fileDropRef" multiple (change)="onFileChangePDF($event);"
                        accept=".pdf, .docx, .jpg, .png, .gif, .tiff, .tif, .bmp, .dib, .bpg, .psd, .jpeg, .jpe, .jfif" />
                      <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="arrow-alt-from-bottom"
                        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                        class="info svg-inline--fa fa-arrow-alt-from-bottom fa-w-12 fa-fw fa-2x">
                        <path fill="currentColor"
                          d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"
                          class=""></path>
                      </svg>
                      <h3 class="mt-2">{{'land.Drag and drop file here' | translate }}</h3>
                      <h3>{{'land.or' | translate }}</h3>
                      <label class="btn btn-info btn-raised"
                        style="text-transform: none;letter-spacing: 0px;cursor: pointer;"
                        for="fileDropRef">{{'land.Browse for file' | translate }}</label>
                      <span class="mt-2 d-block text-muted">{{'land.Accepted files' | translate }}</span>
                    </div>
                    <!--<mat-checkbox
                        class="example-margin mt-0" name="lucky" [(ngModel)]="lucky">
                      <label (click)="changeLucky()" style="cursor: pointer;">
                        <span>Voy a tener suerte</span>
                      </label>
                    </mat-checkbox>-->
                  </ng-template>
                </ngb-tab>
                <ngb-tab>
                  <ng-template ngbTabTitle>
                    <span>
                      <i class="fa fa-pencil" aria-hidden="true"></i>
                      <span class="d-none d-sm-inline ml-1">{{'symptomssection.manualinput' | translate }}</span>
                      <span class="d-block d-sm-none no-line-height">{{'land.Manual' | translate }}</span>
                    </span>
                  </ng-template>
                  <ng-template ngbTabContent>
                    <div>
                      <ng-template #rt let-r="result" let-t="term">
                        <strong title="{{r.name}}">{{ r.name}}</strong>
                        <span *ngIf="r.desc!=null" class="d-block" title="{{r.desc}}">{{ (r.desc.length>140)? (r.desc |
                          slice:0:140)+'...':(r.desc) }}</span>
                      </ng-template>
                      <div style="padding-bottom: 0.5rem !important;">
                        <span class="d-none d-sm-inline ml-1 mr-2"><i class="fas fa-search"></i></span>
                        <input #input type="text"
                          #inputManualSymptoms class="form-control ml-1 inputSearch d-inline data-hj-allow" [(ngModel)]="modelTemp"
                          [ngbTypeahead]="searchSymptom" [resultTemplate]="rt" [inputFormatter]="formatter1"
                          placeholder="{{'symptomssection.manualinput' | translate }}"
                          (selectItem)="selected($event)" (focusout)="focusOutFunctionSymptom()"/>
                      </div>
                    </div>
                    <div *ngIf="temporalSymptoms.length>0">
                      <div class="table-cont" style="border: 1px solid #ced4da;border-radius: 0.25rem;">
                        <table class="table mb-0 table-wrapper-scroll-y my-custom-scrollbar bg-white"
                          aria-labelledby="HPO">
                          <tbody>
                            <tr *ngFor="let hpo of temporalSymptoms ; let i = index">
                              <td [ngClass]="(i==0)?'border-top-0':''">
                                <span>
                                  <span class="float-right ml-1">
                                    <button (click)="changeStateSymptom(i, true)"
                                      class="btn btn-sm mr-1 mb-0 btn-fab round white"
                                      [ngClass]="(hpo.checked==true)?'btn-info':'btn-secondary '"
                                      href="javascript:void(0)" title="{{'phenotype.Click to check it' | translate }}">
                                      <em class="fa fa-check w-13"></em>
                                    </button>
                                    <button (click)="changeStateSymptom(i, false)"
                                      class="btn btn-sm mr-1 mb-0 btn-fab round white"
                                      [ngClass]="(hpo.checked==false)?'btn-danger':'btn-secondary'"
                                      href="javascript:void(0)"
                                      title="{{'phenotype.Click to uncheck it' | translate }}">
                                      <em class="fa fa-times w-13"></em>
                                    </button>
                                  </span>
                                  <span>
                                    <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomNcr);"
                                      class="btn-outline-info btn btn-sm mr-1 mb-0 btn-fab round"
                                      title="{{'generics.More information' | translate }} ({{hpo.id}})">
                                      <em class="fa fa-info w-13"></em>
                                    </button>
                                    <span class="ml-1 custom-bold">{{hpo.name}}</span>
                                  </span>
                                </span>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="text-center mt-2">
                        <button type="button" class="btn btn-lg btn-info btn-raised" (click)="directCalculate();"><em
                            class="ml-1 mr-1 mt-1 mb-1 fas fa-play"></em></button>
                      </div>
                    </div>

                  </ng-template>
                </ngb-tab>
              </ngb-tabset>
            </div>
          </div>
          <!--<span style="position: absolute; top:102%">
            <a class="info" title="{{'homepatientdx.subtitlep5.3' | translate }}"
              (click)="registerToDx29V2();">{{'homepatientdx.subtitlep5.3' | translate }}</a> {{'land.msgSaveData' | translate }}
          </span>-->
          <!--<span style="position: absolute; top:102%">
            {{'land.availableLangs' | translate }}
            <a class="info" href={{refLangs}} target="_blank" title="{{'land.availableLangs' | translate }}"
              (click)="lauchEvent('LangInfo');"><i class="ft-external-link"></i></a>
          </span>-->
        </div>
        <div *ngIf="substepExtract!='0'"
          class="mb-2 offset-xl-1 col-xl-5 mrbox shadow rounded-lg light-background border"
          [ngClass]="(substepExtract!='4')?'d-flex':''">
          <div *ngIf="substepExtract!='4'" class="mr-2 section w-100  mb-2 align-self-center">
            <span class="d-block pt-2 center-elements font-medium-3">{{'land.The symptoms found will be shown here' |
              translate }}</span>
            <span *ngIf="substepExtract!='0' && substepExtract!='4'" class="d-block pt-2 center-elements">
              <em class="fa fa-spinner fa-spin fa-3x fa-fw info"></em>
              <span class="d-block overlay-text col-md-12 font-medium-3 mt-2">{{'land.Calculating' | translate
                }}...</span>
              <span class="d-block font-medium-3 mt-1 pb-2">{{'land.pleaseWait' | translate }}</span>
            </span>
          </div>
          <div *ngIf="substepExtract=='4'" class="section row maintxt">
            <table class="col-md-12 table mb-0" [ngClass]="(temporalSymptoms.length>0)?'border-bottom':''"
              aria-label="extract HPO">
              <thead>
                <tr>
                  <th id="headerTable" style="border-top-style: none;">
                    <span class="icons-title-symptoms">{{'land.SelectSymptoms' | translate }}</span>
                    <span class="float-right icons-opt-symptoms">
                    <em class="mt-1 fa fa-refresh grey  mr-2" title="{{'land.Start over' | translate }}"
                      (click)="restartInitVars()" style="cursor: pointer;"></em>
                      <em class="mt-1 fas fa-copy grey mr-2" title="{{'land.Copy symptoms' | translate }}"
                      (click)="copySymptoms()" style="cursor: pointer;"></em>
                      <em class="mt-1 fa fa-download grey mr-2"
                      title="{{'land.Download symptoms' | translate }}" (click)="downloadSymptoms()"
                      style="cursor: pointer;"></em>
                    </span>
                  </th>
                </tr>
              </thead>
              <caption class="ml-2 text-muted d-block caption-symptoms">
                <ng-template #rt let-r="result" let-t="term">
                  <strong title="{{r.name}}">{{ r.name}}</strong>
                  <span *ngIf="r.desc!=null" class="d-block" title="{{r.desc}}">{{ (r.desc.length>140)? (r.desc |
                    slice:0:140)+'...':(r.desc) }}</span>
                </ng-template>
                <div style="padding-top: 0.5rem !important;">
                  <span class="d-none d-sm-inline ml-1 mr-2"><i class="fas fa-search"></i></span>
                  <input #input style="display: inline;" type="text"
                    #inputManualSymptoms class="form-control ml-1 inputSearch data-hj-allow" [(ngModel)]="modelTemp"
                    [ngbTypeahead]="searchSymptom" [resultTemplate]="rt" [inputFormatter]="formatter1"
                    placeholder="{{'symptomssection.manualinput' | translate }}" (selectItem)="selected($event)" />
                </div>
              </caption>
            </table>
            <div class="table-cont">
              <table class="table mb-0 table-wrapper-scroll-y my-custom-scrollbar bg-white" aria-labelledby="HPO">
                <tbody>
                  <tr *ngFor="let hpo of temporalSymptoms ; let i = index">
                    <td>
                      <span>
                        <span class="float-right ml-1">
                          <button (click)="changeStateSymptom(i, true)" class="btn btn-sm mr-1 mb-0 btn-fab round white"
                            [ngClass]="(hpo.checked==true)?'btn-info':'btn-secondary '" href="javascript:void(0)"
                            title="{{'phenotype.Click to check it' | translate }}">
                            <em class="fa fa-check w-13"></em>
                          </button>
                          <button (click)="changeStateSymptom(i, false)"
                            class="btn btn-sm mr-1 mb-0 btn-fab round white"
                            [ngClass]="(hpo.checked==false)?'btn-danger':'btn-secondary'" href="javascript:void(0)"
                            title="{{'phenotype.Click to uncheck it' | translate }}">
                            <em class="fa fa-times w-13"></em>
                          </button>
                        </span>
                        <span>
                          <button (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomNcr);"
                            class="btn-outline-info btn btn-sm mr-1 mb-0 btn-fab round"
                            title="{{'generics.More information' | translate }} ({{hpo.id}})">
                            <em class="fa fa-info w-13"></em>
                          </button>
                          <span class="ml-1 custom-bold">{{hpo.name}}</span>
                        </span>
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <span class="col-md-12 p-2 border-top footer-symtoms"
              [ngClass]="(temporalSymptoms.length==0)?'pos-abs':''">
              <span>
                <span>
                  {{'land.You have selected' | translate }} {{numberOfSymtomsChecked}} {{'land.symptom' | translate
                  }}<span *ngIf="numberOfSymtomsChecked!=1">s</span> {{'land.out of' | translate }}
                  {{temporalSymptoms.length}}
                </span>
                <span *ngIf="numberOfSymtomsChecked<minSymptoms && temporalSymptoms.length > 1" class="danger d-block">
                  {{'land.You must select at least' | translate }} {{minSymptoms}} {{'land.symptom' | translate }}s
                  {{'land.in order to continue' | translate }}
                </span>
                <span *ngIf="numberOfSymtomsChecked<minSymptoms && temporalSymptoms.length < 2" class="danger d-block">
                  {{'land.addMoreSymp' | translate }}
                </span>
              </span>
            </span>
          </div>
        </div>
        <div class="mb-2 col-xl-5 row rounded-lg loadingPanel ml-2 shadow border box-panels"
          [ngClass]="(substepExtract!='4')?'gray-background':'light-background'">
          <div *ngIf="!loadingCalculate && topRelatedConditions.length==0"
            class="section w-100 pt-1 pl-2 mb-2 align-self-center">
            <span class="d-block pt-2 center-elements font-medium-3">{{'land.Suggested diseases will be shown here' |
              translate }}</span>
            <div class="col-md-12 center-elements mt-4" *ngIf="substepExtract!='0'">
              <button type="button" class="btn btn-info btn-lg btn-raised pb-2 font-medium-3" (click)="calculate();"
                [attr.title]="(numberOfSymtomsChecked<minSymptoms) ? getLiteral('land.You need to select more symptoms') : getLiteral('land.See suggested diseases')">
                <span>{{'land.See suggested diseases' | translate }}</span>
              </button>
            </div>
          </div>
          <div *ngIf="loadingCalculate && substepExtract!='0'" class="col-md-12 align-self-center center-elements">
            <em class="fa fa-spinner fa-spin fa-3x fa-fw info"></em>
            <p class="d-block overlay-text col-md-12 font-medium-3 mt-2">{{'land.Calculating' | translate }}...</p>
            <p class="d-block font-medium-3 mt-1">{{'land.pleaseWait2' | translate }}
            </p>
          </div>
          <div *ngIf="substepExtract!='0' && !loadingCalculate" class="section row maintxt">
            <span *ngIf="topRelatedConditions.length>0">
              <table class="col-md-12 table mb-0 bg-white border-bottom" aria-labelledby="get diagnosis">
                <thead>
                  <tr>
                    <th id="headerTable" style="border-top-style: none;">{{'land.Diseases' | translate }}
                      <em class="mt-1 fa fa-download grey float-right mr-2"
                        title="{{'land.Download results' | translate }}" (click)="downloadResults()"
                        style="cursor: pointer;"></em>
                      <em class="mt-1 fas fa-share-alt grey float-right mr-2"
                        title="{{'land.Send results' | translate }}" (click)="sendEmail()"
                        style="cursor: pointer;"></em>
                      <em class="mt-1 fa fa-refresh grey float-right mr-2"
                        title="{{'Recalculate diseases' | translate }}" (click)="calculate()"
                        style="cursor: pointer;"></em>
                    </th>
                  </tr>
                </thead>
                <caption class="ml-2 text-muted d-block">
                  <span>{{'land.DescDiseases' | translate }}</span>
                  <span class="d-block">{{'land.InfoDescDiseases' | translate }}<em class="fa fa-refresh info ml-1"
                      title="{{'Recalculate diseases' | translate }}" (click)="calculate()"
                      style="cursor: pointer;"></em></span>
                </caption>
              </table>
              <div class="table-cont">
                <table class="table mb-0 bg-white" aria-labelledby="rare disease">
                  <tbody>
                    <tr *ngFor="let disease of topRelatedConditions ; let i = index" class="d-flex">
                      <td class="col-md-12" id="{{disease.id}}"
                        (click)="showMoreInfoDiseasePopup(i, contentInfoDisease);lauchEvent('ShowMoreInfoDiseasePopup');"
                        style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{disease.id}})">
                        <span class="btn-outline-info btn btn-sm mr-1 mb-0 btn-fab round">
                          <em class="fa fa-info w-13"></em>
                        </span>
                        <span class="custom-bold ml-1">{{disease.name}}</span>
                      </td>
                    </tr>
                    <tr
                      *ngIf="temporalDiseases.length>showNumerRelatedConditions && indexListRelatedConditions<temporalDiseases.length"
                      class="col-md-12 text-center">
                      <a href="javascript:;" class="border-top center-elements pt-2 mb-0" (click)="loadMore()"
                        style="display: block;">
                        <span>{{'land.Load more diseases' | translate }}</span>
                      </a>
                      <span class="d-block font-small-3 pb-2">{{'land.There are' | translate }} {{totalDiseasesLeft}}
                        {{'land.remaining not shown in the table' | translate }}</span>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="d-block p-2 center-elements border-top" style="background-color: #f5f5f5;">
                <a href="javascript:;" class="d-block btn btn-info btn-lg btn-raised font-medium-3 mb-0"
                  (click)="registerToDx29Swal(contentToDx29V2)">
                  <span>{{'land.table.button' | translate }}</span>
                </a>
              </div>
            </span>
          </div>
          <!--<span style="position: absolute; top:102%">
            {{'land.If you want to know how Dx29' | translate }}
            <a (click)="showInfoDx29(contentInfoDx29);" title="Dx29 y sus resultados"> {{'land.here' | translate }}</a>
          </span>-->
        </div>
      </div>
      <div class="p-2">
        <div class="bodyscroll mt-2">
          <div class='scrolldown' style="--color: #33658A; cursor: pointer;" (click)="goto('initpos')">
            <div class="chevrons">
              <div class='chevrondown'></div>
              <div class='chevrondown'></div>
            </div>
          </div>
        </div>
      </div>
      <a id="initpos"></a>
      <div class="border-top border-bottom row mt-3 text-center pt-4"
        style="background-color: #fff;">
        <div class="col-md-12">
          <div class="section2">
            <h3>{{'land.What now' | translate }}</h3>
            <p>{{'land.This was just an appetizer' | translate }}</p>
            <div class="mb-4 p-2">

            </div>
          </div>
        </div>
        <div class="offset-md-2 col-md-8 offset-xl-3 col-xl-6 mb-4">
          <table class="table mb-0 text-center">
            <thead>
              <tr style="table-layout: auto !important;display: table;">
                <th class="col-md-10 text-left" id="description"></th>
                <th class="col-md-2" id="RegisterDx29">Register Dx29</th>
              </tr>
            </thead>
            <tbody style="max-height:inherit;">
              <!--<tr class="d-flex tr-auto">
                <td class="col-md-8 text-left">
                  <span>
                    <strong>{{'land.table.t1' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d1' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="d-flex tr-auto">
                <td class="col-md-8 text-left">
                  <span>
                    <strong>{{'land.table.t2' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d2' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="d-flex tr-auto">
                <td class="col-md-8 text-left">
                  <span>
                    <strong>{{'land.table.t3' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d3' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="d-flex tr-auto">
                <td class="col-md-8 text-left">
                  <span>
                    <strong>{{'land.table.t4' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d4' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="d-flex tr-auto">
                <td class="col-md-8 text-left">
                  <span>
                    <strong>{{'land.table.t5' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d5' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="d-flex tr-auto">
                <td class="col-md-8 text-left">
                  <span>
                    <strong>{{'land.table.t6' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d6' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>-->
              <tr class="tr-auto">
                <td class="col-md-10 text-left">
                  <span>
                    <strong>{{'land.table.t7' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d7' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="tr-auto">
                <td class="col-md-10 text-left">
                  <span>
                    <strong>{{'land.table.t8' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d8' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="tr-auto">
                <td class="col-md-10 text-left">
                  <span>
                    <strong>{{'land.table.t9' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d9' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="tr-auto">
                <td class="col-md-10 text-left">
                  <span>
                    <strong>{{'land.table.t10' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d10' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="tr-auto">
                <td class="col-md-10 text-left">
                  <span>
                    <strong>{{'land.table.t11' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d11' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
              <tr class="tr-auto">
                <td class="col-md-10 text-left">
                  <span>
                    <strong>{{'land.table.t12' | translate }}</strong>
                  </span>
                  <span class="d-block">
                    {{'land.table.d12' | translate }}
                  </span>
                </td>
                <td class="col-md-2">
                  <i class="fa fa-check fa-2x info"></i>
                </td>
              </tr>
            </tbody>
          </table>
          <button class="btn btn-info mr-1 btn-raised mb-0 btn-navbar float-right"
            (click)="registerToDx29Swal(contentToDx29V2)">{{'land.table.button' | translate }}</button>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="login" class="mt-2" *ngIf="role=='diagnosed'">
  <div class="container-fluid pb-4">
    <div style="margin: auto;" style="margin: auto;">
      <div class="text-center pt-2">
        <div class="section">
          <h4 class="d-block d-sm-none">{{'dashboardpatient.titleSearchCondition' | translate }}</h4>
          <h2 class="d-none d-sm-block">{{'dashboardpatient.titleSearchCondition' | translate }}</h2>
        </div>
      </div>
      <div class="align-items-end justify-content-center">
        <div class="offset-md-3 col-md-6 no-padding">
          <div class="position-relative">
            <input type="text" id="searchDiseaseField" class="form-control data-hj-allow" name="searchDiseaseField"
              [(ngModel)]="searchDiseaseField" (keyup)="onKey($event)"
              placeholder="{{'dashboardpatient.Search condition' | translate }}" (focusout)="focusOutFunctionDiseases()">
          </div>
          <div>
            <div class="center-elements" *ngIf="callListOfDiseases">
              <em class="fa fa-spinner fa-spin fa-3x fa-fw info"></em>
            </div>
            <div class="form-group" *ngIf="!callListOfDiseases">
              <span *ngIf="listOfFilteredDiseases.length>0">
                <div class="table-cont">
                  <table class="table mb-0 bg-white" aria-labelledby="rare disease">
                    <tbody class="tableList">
                      <tr *ngFor="let disease of listOfFilteredDiseases ; let i = index" class="d-flex">
                        <td class="col-md-12 dropdown-item" id="{{disease.id}}"
                          (click)="showMoreInfoDiagnosePopup(i, contentInfoAttention);lauchEvent('Diagnosed - Select Disease');" style="cursor: pointer;"
                          title="{{'generics.More information' | translate }} ({{disease.id}})">
                          <span *ngIf="disease.source!='synonyms'">{{disease.name}}</span>
                          <span *ngIf="disease.source=='synonyms'"> {{disease.itemCompared}} ({{'generics.Synonyms' | translate}}: {{disease.name}})</span>
                          <!--<span>{{disease.name}}</span>-->
                          <!--<span class="custom-bold ml-1"><strong>{{disease.name}}</strong></span>
                          <span *ngIf="disease.synonyms.length>0">
                            <span class="d-block">Synonyms:</span>
                            <span *ngFor="let synonym of disease.synonyms ; let j = index" class="d-block">
                              {{synonym}}
                            </span>
                          </span>-->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </span>
              <span *ngIf="nothingFoundDisease">
                <span *ngIf="(searchDiseaseField).trim().length>3">
                  <span class="d-block">{{'dashboardpatient.Nothing found. Try again.' | translate }}</span>
                </span>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="loadingOneDisease" class="form-actions center-elements">
      <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
  </div>
  <div *ngIf="showDisease && !loadingOneDisease">
      <a id="step1"></a>
      <div class="modal-body content-wrapper p-2 border offset-xl-2 col-xl-8 offset-md-1 col-md-10" style="background-color: #fffc !important;">
        <div class="p-2">
          <div>
            <button type="button" class="close" aria-label="Close" (click)="closeDisease()">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="align-self-center mb-0"><strong>{{infoOneDisease.name}}</strong></h4>
            <span class="content-sub-header text-muted" *ngIf="infoOneDisease.xrefs==undefined">{{ infoOneDisease.id }}</span>
            <span class="content-sub-header text-muted" *ngIf="infoOneDisease.xrefs!=undefined">
              <span *ngIf="infoOneDisease.xrefs.length>0">{{ infoOneDisease.xrefs[0].name}}:{{
                infoOneDisease.xrefs[0].id}}</span>
              <span *ngIf="infoOneDisease.xrefs.length==0">{{ infoOneDisease.id }}</span>
            </span>
            <span *ngIf="infoOneDisease.xrefs!=undefined" class="ml-1">
              <span *ngFor="let xref of infoOneDisease.xrefs ; let i = index">
                <a *ngIf="xref.name=='Orphanet'" class="info"
                  href="https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{xref.id}}&lng={{lang}}" target="_blank"
                  title="{{'generics.More Info' | translate }}"><i class="ft-external-link"></i></a>
                <a *ngIf="xref.name=='OMIM'" class="info" href="https://omim.org/entry/{{xref.id}}" target="_blank"
                  title="{{'generics.More Info' | translate }}"><i class="ft-external-link"></i></a>
                <span *ngIf="i<(infoOneDisease.xrefs.length-1)"> </span>
              </span>
            </span>
            <div class="mt-2 row">
              <span class="col-md-12">
                <p>{{infoOneDisease.desc}}</p> 
                <!--<p *ngIf="showAllDescrip">{{infoOneDisease.desc}}</p> 
                <p *ngIf="!showAllDescrip" class="d-block" title="{{infoOneDisease.desc}}">{{ (infoOneDisease.desc.length>120)? (infoOneDisease.desc | slice:0:120)+'...':(infoOneDisease.desc) }}
                  <a *ngIf="!showAllDescrip && infoOneDisease.desc.length>140" class="info" style="cursor: pointer;" (click)='showAllDesc();'>{{'generics.Read more' | translate }}</a>
                </p>-->
              </span>          
            </div>
          </div>
          <mat-accordion class="d-block d-sm-none">
            <mat-expansion-panel *ngIf="infoOneDisease.symptoms!=undefined">
              <mat-expansion-panel-header>
                <mat-panel-title (click)="lauchEvent('Diagnosed - Symptoms');">
                  {{'land.diagnosed.general.Symptoms' | translate }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="card-body">
                <div class="col-md-12">
                  <p>{{'land.diagnosed.symptoms.Select the symptoms you have by' | translate }} <span class="info" style="cursor: pointer;" (click)="showAttentionPanel(contentInfoAttention)">{{'land.diagnosed.symptoms.clicking here' | translate }}</span></p>
                  <div class="table-responsive">
                    <table class="table mb-0 text-center d-none d-sm-block">
                      <tbody style="width: 100%;display: inline-table;">
                        <tr *ngFor="let symptom of infoOneDisease.symptoms ; let i = index">
                          <td class="text-left">
                            <button *ngIf="symptom.name" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                              class="btn-outline-info btn btn-sm mr-2 mb-0 btn-fab round"
                              title="{{'generics.More information' | translate }} ({{symptom.id}})">
                              <em class="fa fa-info w-13"></em>
                            </button>
                            <span *ngIf="symptom.name">{{symptom.name}}</span>
                            <span *ngIf="!symptom.name">
                              {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                title="{{symptom.id}}">
                                <i class="ft-external-link"></i></a></span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <table class="table mb-0 text-center d-block d-sm-none">
                      <tbody>
                        <tr *ngFor="let symptom of infoOneDisease.symptoms ; let i = index" class="text-left">
                          <td class="col-md-12 pb-0" style="padding: 0.4rem;">
                            <strong>
                              <span *ngIf="symptom.name" class="info" style="cursor: pointer;" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{symptom.name}}</span>
                              <span *ngIf="!symptom.name">
                                {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                  title="{{symptom.id}}">
                                  <i class="ft-external-link"></i></a></span>
                            </strong>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel *ngIf="infoWiki.length>0 || infoWikiGeneral.length>0">
              <mat-expansion-panel-header>
                <mat-panel-title (click)="lauchEvent('Diagnosed - General');">
                  {{'land.diagnosed.general.title' | translate }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="card-body">
                <div *ngIf="!loadingArticle">
                  <div class="col-md-12" *ngIf="viewArticle">
                    <button type="button" class="pull-right btn btn-secondary btn-raised" (click)="backToList()">{{'generics.Back' | translate }}</button>
                    <h1>{{actualArticle.title}}</h1>
                    <!--<a (click)="backToList();">Return to the list of information found.</a>-->
                  </div>
                  <div class="col-md-12" *ngIf="infoWikiGeneral.length>0 && !viewArticle">
                    <span class="text-muted">{{'land.diagnosed.general.We have found' | translate }} {{infoWikiGeneral.length}} {{'land.diagnosed.general.results for' | translate }} {{infoOneDisease.name}} ({{secondToResponse}} {{'land.diagnosed.general.Seconds' | translate }})</span>
                    <p *ngFor="let part of infoWikiGeneral ; let k = index" class="mb-1">
                      <span>
                        <h5 class="mt-2 mb-0"><a (click)="goToArticle(part);" class="articleTitle">{{part.title}}</a></h5>
                        <span class="" [innerHTML]="infoWikiGeneral[k].snippet"></span>
                      </span>
                    </p>
                  </div>
                  <div class="col-md-12" *ngIf="(infoWiki.length>0 && infoWikiGeneral.length>0 && viewArticle) || (infoWiki.length>0 && infoWikiGeneral.length==0)">
                    <p *ngFor="let part of infoWiki ; let j = index" class="mb-1">
                      <span *ngIf="part.content.length>0">
                        <h4 class="mt-2"><strong>{{part.title}}</strong></h4>
                        <span class="" *ngIf="part.title!='Enlaces externos' && part.title!='External links'">{{part.content}}</span>
                        <span class="" *ngIf="part.title=='Enlaces externos' || part.title=='External links'">
                          <span *ngFor="let url of part.urls ; let j = index">
                            <a href="{{url}}" target="_blank" class="d-block">{{url}}</a>
                          </span>
                        </span>
                      </span>
                    </p>
                  </div>
                </div>
                <div *ngIf="loadingArticle" class="center-elements">
                    <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                </div>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel *ngIf="clinicalTrials.length>0">
              <mat-expansion-panel-header>
                <mat-panel-title (click)="lauchEvent('Diagnosed - Clinical Trials');">
                  {{'land.diagnosed.general.Clinical trials' | translate }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="card-body">
                <div *ngIf="clinicalTrials.length>0" class="col-md-12">
                  <div *ngFor="let studie of clinicalTrials ; let i = index">
                    <span class="d-block"><strong>Id:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}
                      <a class="ml-1"
                        href="https://clinicaltrials.gov/ct2/show/{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}"
                        target="_blank"
                        title="{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}">
                        <i class="ft-external-link"></i></a>
                    </p>
                    <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.OrgFullName' | translate }}:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.Organization.OrgFullName}}</p>
      
                    <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.BriefTitle' | translate }}:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.BriefTitle}}</p>
      
                    <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.StudyFirstSubmitDate' | translate }}:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.StatusModule.StudyFirstSubmitDate}}</p>
                    <span *ngIf="studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName">
                      <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.ResponsiblePartyInvestigatorFullName' | translate }}:</strong></span>
                      <p class="d-block mb-0">{{studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName}}</p>
                    </span>
                    
                    <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned!=undefined">
                      <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.LocationCountry' | translate }}:</strong></span>
                      <p class="d-block mb-0" *ngFor="let location of studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned ; let j = index">{{location.LocationCountry}}</p>
                    </span>
                    <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList!=undefined">
                      <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact.length>0">
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.Contact' | translate }}:</strong></span>
                        <p class="d-block mb-0" *ngFor="let contact of studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact ; let k = index">{{contact.CentralContactName}} <<a href='mailto:{{contact.CentralContactEMail}}'>{{contact.CentralContactEMail}}</a>></p>
                      </span>
                    </span>
                    
                    <hr *ngIf="i<clinicalTrials.length-1" width="100%" size="20" color="#b0b6bb" class="mt-2">
                  </div>
                  
                </div>
                <div *ngIf="clinicalTrials.length==0" class="col-md-12">
                  <p>{{'land.diagnosed.clinicalTrials.msgNoTrials' | translate }} {{infoOneDisease.name}}</p>
                </div>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title (click)="lauchEvent('Diagnosed - Patient Groups');">
                  {{'land.diagnosed.general.Patient groups' | translate }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="card-body">
                <div class="col-md-12">
                  <p>{{'land.diagnosed.PatientGroups.title1' | translate }}</p>
                  <p>{{'land.diagnosed.PatientGroups.title2' | translate }}</p>
                </div>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title (click)="lauchEvent('Diagnosed - Donate your data');">
                  {{'land.diagnosed.general.Donate your data' | translate }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="card-body">
                <div class="col-md-6">
                  <form class="form" #f="ngForm">
                    <div class="form-body row">
                      <div class="col-md-12">
                        <label for="Answers">{{'land.diagnosed.DonorData.question' | translate }}</label>
                        <mat-select class="form-control" id="Answers" name="Answers" multiple [(ngModel)]="formOpen.Answers">
                          <mat-option value="Know more">{{'land.diagnosed.DonorData.op1' | translate }}</mat-option>
                          <mat-option value="Find patients">{{'land.diagnosed.DonorData.op2' | translate }}</mat-option>
                          <mat-option value="Help other patients">{{'land.diagnosed.DonorData.op3' | translate }}</mat-option>
                        </mat-select>
                      </div>
                      <div class="col-md-12 mt-3">
                        <label for="Free">{{'land.diagnosed.DonorData.free' | translate }}</label>
                        <textarea name="Free" class="form-control" [(ngModel)]="formOpen.Free" name="Free"></textarea>
                      </div>
                      
                      <div class="col-md-12 mt-3">
                        <div class="form-group">
                        <label>{{'generics.Email' | translate }}*</label>
                        <div>
                          <input class="col-md-12 form-control" type="email" id="Email" name="Email" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="formOpen.Email">
                          <small class="form-text text-muted danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
                        </div>
                        </div>
                      </div>
                    </div>
                    <div class="mt-1">
                      <p>{{'know-me.Consent' | translate }}</p>
                    </div>
                    <div>
                      <mat-checkbox
                          class="example-margin" style="position: absolute; margin-top: 2px;" name="terms2" required ngModel #terms2="ngModel" id="terms2" [(ngModel)]="formOpen.terms2">
                      </mat-checkbox>
                      <span class="ml-3" (click)="checkConsent()" style="cursor: pointer;">
                        {{'know-me.CheckConsent' | translate }}
                      </span>
                       <small class="form-text text-muted danger" *ngIf="!terms2.valid && showErrorForm">{{'gtp.mandatoryConsent' | translate }}</small>
                    </div>
                    <div *ngIf="!sending" class="center-elements mt-3">
                      <div *ngIf="f.valid;then formValid else formError"></div>
                      <ng-template #formValid><button class="btn btn-outline-info" (click)="onSubmitDonorData();lauchEvent('Diagnosed - Submit Donate your data');"> {{'support.Send' | translate }}</button></ng-template>
                      <ng-template #formError><button class="btn btn-outline-info" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
                    </div>
                    <div class="form-actions center-elements" *ngIf="sending">
                        <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                    </div>
                  </form>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
          <ngb-tabset type="pills" id="exTab1" class="d-none d-sm-block">
            <ngb-tab *ngIf="infoOneDisease.symptoms!=undefined">
              <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Symptoms');">{{'land.diagnosed.general.Symptoms' | translate }}</strong></ng-template>
              <ng-template ngbTabContent>
                <div class="col-md-12">
                  <p>{{'land.diagnosed.symptoms.Select the symptoms you have by' | translate }} <span class="info" style="cursor: pointer;" (click)="showAttentionPanel(contentInfoAttention)">{{'land.diagnosed.symptoms.clicking here' | translate }}</span></p>
                  <div class="table-responsive">
                    <table class="table mb-0 text-center d-none d-sm-block">
                      <tbody style="width: 100%;display: inline-table;">
                        <tr *ngFor="let symptom of infoOneDisease.symptoms ; let i = index">
                          <td class="text-left">
                            <button *ngIf="symptom.name" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);"
                              class="btn-outline-info btn btn-sm mr-2 mb-0 btn-fab round"
                              title="{{'generics.More information' | translate }} ({{symptom.id}})">
                              <em class="fa fa-info w-13"></em>
                            </button>
                            <span *ngIf="symptom.name">{{symptom.name}}</span>
                            <span *ngIf="!symptom.name">
                              {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                title="{{symptom.id}}">
                                <i class="ft-external-link"></i></a></span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <table class="table mb-0 text-center d-block d-sm-none">
                      <tbody>
                        <tr *ngFor="let symptom of infoOneDisease.symptoms ; let i = index" class="text-left">
                          <td class="col-md-12 pb-0" style="padding: 0.4rem;">
                            <strong>
                              <span *ngIf="symptom.name" class="info" style="cursor: pointer;" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);">{{symptom.name}}</span>
                              <span *ngIf="!symptom.name">
                                {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                                  href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                  title="{{symptom.id}}">
                                  <i class="ft-external-link"></i></a></span>
                            </strong>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>
            <ngb-tab *ngIf="infoWiki.length>0 || infoWikiGeneral.length>0">
              <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - General');backToList();">
                {{'land.diagnosed.general.title' | translate }}</strong></ng-template>
              <ng-template ngbTabContent>
                <div *ngIf="!loadingArticle">
                  <div class="col-md-12" *ngIf="viewArticle">
                    <button type="button" class="pull-right btn btn-secondary btn-raised" (click)="backToList()">{{'generics.Back' | translate }}</button>
                    <h1>{{actualArticle.title}}</h1>
                    <!--<a (click)="backToList();">Return to the list of information found.</a>-->
                  </div>
                  <div class="col-md-12" *ngIf="infoWikiGeneral.length>0 && !viewArticle">
                    <span class="text-muted">{{'land.diagnosed.general.We have found' | translate }} {{infoWikiGeneral.length}} {{'land.diagnosed.general.results for' | translate }} {{infoOneDisease.name}} ({{secondToResponse}} {{'land.diagnosed.general.Seconds' | translate }})</span>
                    <p *ngFor="let part of infoWikiGeneral ; let k = index" class="mb-1">
                      <span>
                        <h5 class="mt-2 mb-0"><a (click)="goToArticle(part);" class="articleTitle">{{part.title}}</a></h5>
                        <span class="" [innerHTML]="infoWikiGeneral[k].snippet"></span>
                      </span>
                    </p>
                  </div>
                  <div class="col-md-12" *ngIf="(infoWiki.length>0 && infoWikiGeneral.length>0 && viewArticle) || (infoWiki.length>0 && infoWikiGeneral.length==0)">
                    <p *ngFor="let part of infoWiki ; let j = index" class="mb-1">
                      <span *ngIf="part.content.length>0">
                        <h4 class="mt-2"><strong>{{part.title}}</strong></h4>
                        <span class="" *ngIf="part.title!='Enlaces externos' && part.title!='External links'">{{part.content}}</span>
                        <span class="" *ngIf="part.title=='Enlaces externos' || part.title=='External links'">
                          <span *ngFor="let url of part.urls ; let j = index">
                            <a href="{{url}}" target="_blank" class="d-block">{{url}}</a>
                          </span>
                        </span>
                      </span>
                    </p>
                  </div>
                </div>
                <div *ngIf="loadingArticle" class="center-elements">
                    <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                </div>
              </ng-template>
            </ngb-tab>
            <ngb-tab *ngIf="clinicalTrials.length>0" >
              <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Clinical Trials');">{{'land.diagnosed.general.Clinical trials' | translate }}</strong></ng-template>
              <ng-template ngbTabContent>
                <div *ngIf="clinicalTrials.length>0" class="col-md-12">
                  <div *ngFor="let studie of clinicalTrials ; let i = index">
                    <span class="d-block"><strong>Id:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}
                      <a class="ml-1"
                        href="https://clinicaltrials.gov/ct2/show/{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}"
                        target="_blank"
                        title="{{studie.Study.ProtocolSection.IdentificationModule.NCTId}}">
                        <i class="ft-external-link"></i></a>
                    </p>
                    <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.OrgFullName' | translate }}:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.Organization.OrgFullName}}</p>
      
                    <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.BriefTitle' | translate }}:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.IdentificationModule.BriefTitle}}</p>
      
                    <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.StudyFirstSubmitDate' | translate }}:</strong></span>
                    <p class="d-block mb-0">{{studie.Study.ProtocolSection.StatusModule.StudyFirstSubmitDate}}</p>
                    <span *ngIf="studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName">
                      <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.ResponsiblePartyInvestigatorFullName' | translate }}:</strong></span>
                      <p class="d-block mb-0">{{studie.Study.ProtocolSection.SponsorCollaboratorsModule.ResponsibleParty.ResponsiblePartyInvestigatorFullName}}</p>
                    </span>
                    
                    <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned!=undefined">
                      <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.LocationCountry' | translate }}:</strong></span>
                      <p class="d-block mb-0" *ngFor="let location of studie.Study.ProtocolSection.ContactsLocationsModule.listCountriesCleaned ; let j = index">{{location.LocationCountry}}</p>
                    </span>
                    <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList!=undefined">
                      <span *ngIf="studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact.length>0">
                        <span class="d-block mt-1"><strong>{{'land.diagnosed.clinicalTrials.Contact' | translate }}:</strong></span>
                        <p class="d-block mb-0" *ngFor="let contact of studie.Study.ProtocolSection.ContactsLocationsModule.CentralContactList.CentralContact ; let k = index">{{contact.CentralContactName}} <<a href='mailto:{{contact.CentralContactEMail}}'>{{contact.CentralContactEMail}}</a>></p>
                      </span>
                    </span>
                    
                    <hr *ngIf="i<clinicalTrials.length-1" width="100%" size="20" color="#b0b6bb" class="mt-2">
                  </div>
                  
                </div>
                <div *ngIf="clinicalTrials.length==0" class="col-md-12">
                  <p>{{'land.diagnosed.clinicalTrials.msgNoTrials' | translate }} {{infoOneDisease.name}}</p>
                </div>
      
              </ng-template>
            </ngb-tab>
            <ngb-tab>
              <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Patient Groups');">{{'land.diagnosed.general.Patient groups' | translate }}</strong></ng-template>
              <ng-template ngbTabContent>
                <div class="col-md-12">
                  <p>{{'land.diagnosed.PatientGroups.title1' | translate }}</p>
                  <p>{{'land.diagnosed.PatientGroups.title2' | translate }}</p>
                </div>
              </ng-template>
            </ngb-tab>
            <ngb-tab>
              <ng-template ngbTabTitle><strong (click)="lauchEvent('Diagnosed - Donate your data');">{{'land.diagnosed.general.Donate your data' | translate }}</strong></ng-template>
              <ng-template ngbTabContent>
                <div class="col-md-6">
                  <form class="form" #f="ngForm">
                    <div class="form-body row">
                      <div class="col-md-12">
                        <label for="Answers">{{'land.diagnosed.DonorData.question' | translate }}</label>
                        <mat-select class="form-control" id="Answers" name="Answers" multiple [(ngModel)]="formOpen.Answers">
                          <mat-option value="Know more">{{'land.diagnosed.DonorData.op1' | translate }}</mat-option>
                          <mat-option value="Find patients">{{'land.diagnosed.DonorData.op2' | translate }}</mat-option>
                          <mat-option value="Help other patients">{{'land.diagnosed.DonorData.op3' | translate }}</mat-option>
                        </mat-select>
                      </div>
                      <div class="col-md-12 mt-3">
                        <label for="Free">{{'land.diagnosed.DonorData.free' | translate }}</label>
                        <textarea name="Free" class="form-control" [(ngModel)]="formOpen.Free" name="Free"></textarea>
                      </div>
                      
                      <div class="col-md-12 mt-3">
                        <div class="form-group">
                        <label>{{'generics.Email' | translate }}*</label>
                        <div>
                          <input class="col-md-12 form-control data-hj-allow" type="email" id="Email" name="Email" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="formOpen.Email">
                          <small class="form-text text-muted danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
                        </div>
                        </div>
                      </div>
                    </div>
                    <div class="mt-1">
                      <p>{{'know-me.Consent' | translate }}</p>
                    </div>
                    <div>
                      <mat-checkbox
                          class="example-margin" style="position: absolute; margin-top: 2px;" name="terms2" required ngModel #terms2="ngModel" id="terms2" [(ngModel)]="formOpen.terms2">
                      </mat-checkbox>
                      <span class="ml-3" (click)="checkConsent()" style="cursor: pointer;">
                        {{'know-me.CheckConsent' | translate }}
                      </span>
                       <small class="form-text text-muted danger" *ngIf="!terms2.valid && showErrorForm">{{'gtp.mandatoryConsent' | translate }}</small>
                    </div>
                    <div *ngIf="!sending" class="center-elements mt-3">
                      <div *ngIf="f.valid;then formValid else formError"></div>
                      <ng-template #formValid><button class="btn btn-outline-info" (click)="onSubmitDonorData();lauchEvent('Diagnosed - Submit Donate your data');"> {{'support.Send' | translate }}</button></ng-template>
                      <ng-template #formError><button class="btn btn-outline-info" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
                    </div>
                    <div class="form-actions center-elements" *ngIf="sending">
                        <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
                    </div>
                  </form>
                </div>
      
              </ng-template>
            </ngb-tab>
          </ngb-tabset>
        </div>
      </div>
  </div>
</section>
<ng-template #contentInfoSymptomNcr let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{temporalSymptoms[selectedInfoSymptomIndex].name }} - {{temporalSymptoms[selectedInfoSymptomIndex].id }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="closeModal();">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body content-wrapper p-2" id="idBody">
    <div class="row col-md-12" class="p-2">
      <span
        *ngIf="temporalSymptoms[selectedInfoSymptomIndex].def!=null || temporalSymptoms[selectedInfoSymptomIndex].comment!=''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <span
          *ngIf="temporalSymptoms[selectedInfoSymptomIndex].def!=null">{{temporalSymptoms[selectedInfoSymptomIndex].def}}
        </span>
        <span
          *ngIf="temporalSymptoms[selectedInfoSymptomIndex].comment!=''">{{temporalSymptoms[selectedInfoSymptomIndex].comment}}</span>
      </span>
      <span
        *ngIf="temporalSymptoms[selectedInfoSymptomIndex].def==null && temporalSymptoms[selectedInfoSymptomIndex].comment==''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <span> {{'symptomssection.No description' | translate }} </span>
      </span>
    </div>

    <div *ngIf="temporalSymptoms[selectedInfoSymptomIndex].synonyms!=undefined" class="p-2">
      <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
      <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].synonyms.length>0">
        <p *ngFor="let synonym of temporalSymptoms[selectedInfoSymptomIndex].synonyms ; let j = index"
          [ngClass]="(j==temporalSymptoms[selectedInfoSymptomIndex].synonyms.length-1)?'mb-0':''">
          <span>{{j+1}}. </span> <span *ngIf="synonym.label">{{synonym.label}}</span> <span
            *ngIf="!synonym.label">{{synonym}}</span>
        </p>
      </span>
      <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].synonyms.length==0">
        {{'symptomssection.No synonyms' | translate }}
      </span>
    </div>
    <div class="p-2">
      <h5><strong>{{'land.Where did we get this symptom from' | translate }}</strong></h5>
      <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].inputType=='manual'">
        {{'land.The symptom was added manually' | translate }}
      </span>
      <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].inputType=='ncr'">
        <span *ngFor="let text of temporalSymptoms[selectedInfoSymptomIndex].text ; let j = index">
          <span *ngIf="(text.source && j== 0) && langToExtract==lang" class="mb-0">"{{text.source}}"</span>
          <span *ngIf="!text.source && j== 0 || langToExtract!=lang" class="mb-0">"{{text.text |
            slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text |
              slice:(text.positions[0]):(text.positions[1])}}</b> {{text.text |
            slice:(text.positions[1]+1):(text.positions[1]+40)}}"</span>
        </span>
        <div class="mt-2">
          <button *ngIf="!ncrResultView" type="button" class="btn btn-info btn-raised mb-0"
            (click)="showCompleteNcrResultView(temporalSymptoms[selectedInfoSymptomIndex])">{{'patdiagdashboard.Show
            full text' | translate }}</button>
          <button *ngIf="ncrResultView" type="button" class="btn btn-info btn-raised mb-0"
            (click)="showCompleteNcrResultView(null)">{{'patdiagdashboard.Hide full text' | translate }}</button>
        </div>
        <div *ngIf="ncrResultView">
          <span class="animate-bottom" *ngIf="showButtonScroll" id="buttomScroll">
            <button type="button" class="btn btn-info btn-raised mb-0" (click)="goToTop()">Go top</button>
          </span>
          <div class="mt-2 text-center">
            <a id="initpos"></a>
            <div style="text-align: justify;" class="textExtractedNcr" [innerHTML]=resultTextNcrCopy></div>
          </div>
        </div>
      </span>
      <span *ngIf="temporalSymptoms[selectedInfoSymptomIndex].inputType=='ncrOld'">
        <div class="mt-2">
          <button *ngIf="!ncrResultView" type="button" class="btn btn-info btn-raised mb-0"
            (click)="showCompleteNcrOldResultView(temporalSymptoms[selectedInfoSymptomIndex])">{{'patdiagdashboard.Show
            full text' | translate }}</button>
          <button *ngIf="ncrResultView" type="button" class="btn btn-info btn-raised mb-0"
            (click)="showCompleteNcrOldResultView(null)">{{'patdiagdashboard.Hide full text' | translate }}</button>
        </div>
        <div *ngIf="ncrResultView">
          <span class="animate-bottom" *ngIf="showButtonScroll" id="buttomScroll">
            <button type="button" class="btn btn-info btn-raised mb-0" (click)="goToTop()">Go top</button>
          </span>
          <div class="mt-2 text-center">
            <a id="initpos"></a>
            <div style="text-align: justify;" class="textExtractedNcr" [innerHTML]=resultTextNcrCopy></div>
          </div>
        </div>
      </span>
    </div>
  </div>
  <div class="modal-footer">
    <span>{{'land.See more information about the symptom' | translate }} <a
        href="https://hpo.jax.org/app/browse/term/{{temporalSymptoms[selectedInfoSymptomIndex].id}}" target="_blank"
        title=" {{temporalSymptoms[selectedInfoSymptomIndex].name}} ({{temporalSymptoms[selectedInfoSymptomIndex].id}}):">{{'land.here'
        | translate }}
        <i class="ft-external-link"></i></a></span>
  </div>
</ng-template>

<ng-template #contentInfoDisease let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4 class="text-bold-400 mb-0">{{ topRelatedConditions[selectedInfoDiseaseIndex].name }}
        <span *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].xRefs!=undefined" class="ml-1">
          <span *ngFor="let xref of topRelatedConditions[selectedInfoDiseaseIndex].xRefs ; let i = index">
            <a *ngIf="xref.name=='Orphanet'" class="info"
              href="https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Expert={{xref.id}}&lng={{lang}}" target="_blank"
              title="{{'generics.More Info' | translate }}"><i class="ft-external-link"></i></a>
            <a *ngIf="xref.name=='OMIM'" class="info" href="https://omim.org/entry/{{xref.id}}" target="_blank"
              title="{{'generics.More Info' | translate }}"><i class="ft-external-link"></i></a>
            <span *ngIf="i<(topRelatedConditions[selectedInfoDiseaseIndex].xRefs.length-1)"> </span>
          </span>
        </span>
      </h4>
      <span class="content-sub-header text-muted">{{ topRelatedConditions[selectedInfoDiseaseIndex].id }}</span>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body content-wrapper p-2">
    <p *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].desc!=null">{{
      topRelatedConditions[selectedInfoDiseaseIndex].desc }}</p>

    <span *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].id == 'MONDO:0009688'">
      <button (click)="showInfoSponsored(contentInfoSponsored);" title="MYASTHENIA GRAVIS"
        class="btn btn-danger btn-raised">{{'land.Sponsor' | translate}} Miastenia Gravis (MG)</button>
    </span>
    <div *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms.length>0">
      <h5 class="text-bold-300 mb-0">{{'land.Symptom by symptom comparison' | translate }}</h5>
      <p class="text-muted">{{'land.Table showing' | translate }}</p>
      <div class="table-responsive">
        <table class="table mb-0 text-center d-none d-sm-block">
          <thead>
            <tr class="d-flex">
              <th class="col-md-6 text-left" id="Name symptom">{{'land.Symptom' | translate }}</th>
              <!--<th class="col-md-2" id="Frequent">{{'land.Frequency' | translate }}</th>-->
              <th class="col-md-2" id="Patient">{{'land.Patient' | translate }}</th>
              <th class="col-md-2" id="Disease">{{'land.Disease' | translate }}</th>
              <!--<th class="col-md-1" id="Info">Info</th>-->
            </tr>
          </thead>
          <tbody style="max-height:inherit;">
            <tr *ngFor="let symptom of topRelatedConditions[selectedInfoDiseaseIndex].symptoms ; let i = index"
              class="d-flex">
              <td class="col-md-6 text-left">
                <button *ngIf="symptom.name" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomDisease);"
                  class="btn-outline-info btn btn-sm mr-2 mb-0 btn-fab round"
                  title="{{'generics.More information' | translate }} ({{symptom.id}})">
                  <em class="fa fa-info w-13"></em>
                </button>
                <span *ngIf="symptom.name">{{symptom.name}}</span>
                <span *ngIf="!symptom.name">
                  {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                    href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank" title="{{symptom.id}}">
                    <i class="ft-external-link"></i></a></span>
              </td>
              <!--<td class="col-md-2">
                <span *ngIf="symptom.frequency.name!=''"
                  title="{{symptom.frequency.desc}}">{{symptom.frequency.name}}</span>
                <span *ngIf="symptom.frequency.name==''" title="{{'land.Unknown' | translate}}">{{'land.Unknown' |
                  translate}}</span>
              </td>-->
              <td class="col-md-2">
                <i *ngIf="symptom.hasPatient" class="fa fa-check success"></i>
                <i *ngIf="!symptom.hasPatient" class="fa fa-times danger"></i>
              </td>
              <td class="col-md-2">
                <i *ngIf="symptom.hasDisease" class="fa fa-check success"></i>
                <i *ngIf="!symptom.hasDisease" class="fa fa-times danger"></i>
              </td>
              <!--<td class="col-md-1">
                <span *ngIf="symptom.hasPatient && symptom.hasDisease">
                  <span *ngIf="symptom.relationship == 'Equal'">
                    <i class="fas fa-info-circle info"
                      title="{{'land.Symptom observed in the patient and the disease' | translate }}"></i>
                  </span>
                  <span *ngIf="symptom.relationship == 'Successor'">
                    <i class="fas fa-info-circle info"
                      title="{{'land.Symptom deduced in the patient because they also present' | translate }} {{symptom.relatedName}}"></i>
                  </span>
                  <span *ngIf="symptom.relationship == 'Predecessor'">
                    <i class="fas fa-info-circle info"
                      title="{{'land.Symptom observed in patient and disease' | translate }}"></i>
                  </span>
                </span>
                <span *ngIf="symptom.hasPatient && !symptom.hasDisease">
                  <i class="fas fa-info-circle info" title="{{'land.Symptom observed in the patient' | translate }}"></i>
                </span>
                <span *ngIf="!symptom.hasPatient && symptom.hasDisease">
                  <i class="fas fa-info-circle info" title="{{'land.Symptom observed in the disease' | translate }}"></i>
                </span>
              </td>-->
            </tr>
          </tbody>
        </table>
        <table class="table mb-0 text-center d-block d-sm-none">
          <tbody class="tbody-sm" style="max-height:inherit;">
            <tr *ngFor="let symptom of topRelatedConditions[selectedInfoDiseaseIndex].symptoms ; let i = index" class="text-left">
              <td class="col-md-12 td-flex-sm" style="padding: 0.4rem;">
                <button *ngIf="symptom.name" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomDisease);"
                  class="btn-outline-info btn btn-sm mr-2 mb-0 btn-fab round"
                  title="{{'generics.More information' | translate }} ({{symptom.id}})">
                  <em class="fa fa-info w-13"></em>
                </button>
                <strong>
                  <span *ngIf="symptom.name">{{symptom.name}}</span>
                  <span *ngIf="!symptom.name">
                    {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                      href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank" title="{{symptom.id}}">
                      <i class="ft-external-link"></i></a></span>
                </strong>
              </td>
              <!--<td class="col-md-12 border-top-0 pt-0" style="padding: 0.4rem;">
                <span>
                  <span *ngIf="symptom.frequency.name!=''"
                  title="{{symptom.frequency.desc}}">{{symptom.frequency.name}}</span>
                <span *ngIf="symptom.frequency.name==''" title="{{'land.Unknown' | translate}}">{{'land.Unknown' |
                  translate}}</span>
                </span>
              </td>-->
              <td class="col-md-12 border-top-0 pt-0 pb-2" style="padding: 0.4rem;">
                <span>
                  <span>{{'land.Patient' | translate }}</span>
                  <i *ngIf="symptom.hasPatient" class="ml-1 fa fa-check success"></i>
                  <i *ngIf="!symptom.hasPatient" class="ml-1 fa fa-times danger"></i>
                </span>
                <span class="col-6">
                  <span>{{'land.Disease' | translate }}</span>
                  <i *ngIf="symptom.hasDisease" class="ml-1 fa fa-check success"></i>
                  <i *ngIf="!symptom.hasDisease" class="ml-1 fa fa-times danger"></i>
                </span>
              </td>
              
            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</ng-template>

<ng-template #contentInfoSymptomDisease let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].name }} -
        {{topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].id }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body content-wrapper p-2">
    <div class="row col-md-12" class="p-2">
      <span *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].desc!=null">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <span>{{topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].desc}} </span>
      </span>
      <span *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].desc==''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <span> {{'symptomssection.No description' | translate }} </span>
      </span>
    </div>
    <div *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms">
      <div *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms.length"
        class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span
          *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms.length>0">
          <p *ngFor="let synonym of topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms ; let j = index"
            [ngClass]="(j==topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms.length-1)?'mb-0':''">
            <span>{{j+1}}. </span> <span>{{synonym.label}}</span>
          </p>
        </span>
        <span
          *ngIf="topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
    </div>
    <div *ngIf="!topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].synonyms">
      <span>
        {{'symptomssection.No synonyms' | translate }}
      </span>
    </div>

  </div>
  <div class="modal-footer">
    <span>{{'land.See more information about the symptom' | translate }} <a
        href="https://hpo.jax.org/app/browse/term/{{topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].id}}"
        target="_blank"
        title=" {{topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].name}} ({{topRelatedConditions[selectedInfoDiseaseIndex].symptoms[selectedInfoSymptomIndex].id}}):">
        <i class="ft-external-link"></i></a></span>
  </div>
</ng-template>

<ng-template #contentInfoSponsored let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>¿Conoces la miastenia gravis y a quién puede afectar?</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body content-wrapper p-2">
    <p>
      La miastenia gravis es una enfermedad neuromuscular autoinmune (el cuerpo se ataca a sí mismo) cuya principal
      característica es la <strong>fatiga y la debilidad muscular</strong> de quien la padece. Es difícil pensar
      inicialmente en una miastenia ya que se caracteriza por una pérdida de fuerzas, pero se recuperan de forma rápida
      si se descansa, y reaparece al reiniciar un ejercicio.
    </p>
    <p>
      La miastenia es considerada una enfermedad rara, ya que solo afecta a una de cada 5.000 personas (unas
      <strong>10.000 en toda España</strong>), lo que no significa que sea importante. Pese a ser poco frecuente, suele
      aparecer, sobre todo, en las mujeres entre los 15 y los 35 años o bien a partir de los 60 años. En este último
      tramo de edad es donde se encuentran más de la mitad de los nuevos pacientes, un dato a tener en cuenta teniendo
      en cuenta el incremento constante de la esperanza de vida de la población.
    </p>
    <p>
      El origen de la miastenia gravis lo encontramos en un defecto que se produce en el sistema nervioso al transmitir
      los impulsos desde los nervios a los músculos. Se trata de un <strong>problema en la conexión</strong> entre las
      células nerviosas con los músculos asociados, es lo que se denomina la unión neuromuscular.
    </p>
    <p>
      Este proceso ocurre a partir de la acetilcolina, <strong>una sustancia neurotrasmisora</strong> que secretan las
      terminaciones nerviosas, que se une a unos receptores que hay en la membrana post-sináptica de la placa motora. En
      las personas con miastenia, los anticuerpos bloquean, alteran o destruyen esos receptores, por lo que la
      neurotransmisión no se completa y los músculos no llegan a contraerse.
    </p>
    <h5 class="mt-4">Diagnostico temprano</h5>
    <p>
      Los principales <strong>signos y síntomas de la miastenia gravis</strong> son la caída de uno o los dos párpados;
      visión nublada al tener debilidad en los músculos oculares; dificultad para deglutir alimentos, para hablar y
      respirar por debilidad de los músculos implicados; flojera en manos, brazos, dedos, piernas y cuello; dificultad
      para realizar gestos faciales (sonreir, cambiar de expresión); y dificultad para subir escaleras, entre otros.
    </p>
    <p>
      Es importante un diagnostico certero y temprano ya que hablamos de una enfermedad rara pero tratable. Para
      diagnosticarla se suelen emplear <strong>diferentes pruebas</strong> como un test farmacológico a base de la
      inyección de un anticolinesterásico, un estudio electrofiosiológico, o un test de estimulación repetitiva, una
      electromiografía de fibra aislada o un estudio de los anticuerpos específicos que interactúan en el desarrollo de
      esta patología: los AcRACh y los anti MuSK.
    </p>
    <p>
      El problema del diagnóstico de la miastenia gravis es que <strong>puede confundirse con otras patologías</strong>,
      por eso también es clave llevar a cabo un diagnóstico diferencial que permita descartar otras patologías como la
      ELA, miopatías mitocondriales, síndromes miasténicos congénitos o simples estados de fatiga emocional, entre
      otros.
    </p>
    <h5 class="mt-4">Asociación de Miastenia de España (AMES)</h5>
    <p>
      La parte más reconfortante es saber que casi todos los pacientes pueden reanudar una vida normal con el
      tratamiento adecuado, pero por eso es importante tener un diagnóstico temprano.
    </p>
    <p>
      Ese es uno de los caballos de batalla de la <strong>Asociación de Miastenia de España</strong> (<a
        href="https://miastenia.ong/" target="_blank" title="AMES">AMES <i class="ft-external-link"></i></a>), una
      entidad creada en 2009 con la misión de dar respuesta a las necesidades de las personas afectadas y sus
      familiares, ofreciendo ayuda e información para convivir con la enfermedad.
    </p>
    <p>
      En ese contexto, AMES ha puesto en marcha un proyecto de colaboración con el Colegio Luis Siret de Almería para es
      sensibilizar y acercar la realidad de esta enfermedad a los niños/as y al resto de la comunidad educativa. Dentro
      del proyecto ofrecen <strong>charlas y talleres de manualidades temáticos</strong> con la colaboración de
      distintos miembros de la comunidad educativa.
    </p>
    <p>
      Además, ha publicado un cuento sobre esta enfermedad, enfocado a acercar la enfermedad a los niños: <a
        href="https://cocoypipamiastenia.wordpress.com/" target="_blank" title="La historia de Coco y Pipa">La historia
        de Coco y Pipa <i class="ft-external-link"></i></a> que se ha convertido, también, en un blog en el que van
      publicando todas las iniciativas que desarrollan con este colegio.
    </p>
    <h5 class="mt-4">
      Otras asociaciones
    </h5>
    <p>
      <a href="https://www.facebook.com/groups/MyastheniaGravisFriends" target="_blank"
        title="MyastheniaGravisFriends">Myasthenia Gravis Friends <i class="ft-external-link"></i></a>
    </p>
  </div>
</ng-template>
<ng-template #contentInfoDx29 let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-header" id="idHeader">
    <div class="content-header text-left">
      <h4>{{'land.InfoDx29.title' | translate }}</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body content-wrapper p-2">
    <p>
      {{'land.InfoDx29.p1' | translate }}
    </p>
    <p>
      {{'land.InfoDx29.p3' | translate }}
    </p>
    <ol>
      <li [innerHTML]="'land.InfoDx29.p5' | translate"></li>
      <li>{{'land.InfoDx29.p8' | translate }}</li>
      <li>{{'land.InfoDx29.p9' | translate }}</li>
    </ol>
    <p><strong>{{'land.InfoDx29.Ideal patients' | translate }}</strong></p>
    <p>
      {{'land.InfoDx29.p11' | translate }}
    </p>
    <div class="mb-4">
      <apx-chart [series]="lineChartIdealOptions.series" [colors]="lineChartIdealOptions.colors"
        [chart]="lineChartIdealOptions.chart" [xaxis]="lineChartIdealOptions.xaxis"
        [yaxis]="lineChartIdealOptions.yaxis" [title]="lineChartIdealOptions.title"
        [dataLabels]="lineChartIdealOptions.dataLabels" [stroke]="lineChartIdealOptions.stroke"
        [grid]="lineChartIdealOptions.grid" [tooltip]="lineChartIdealOptions.tooltip"
        [plotOptions]="lineChartIdealOptions.plotOptions" [fill]="lineChartIdealOptions.fill"
        [legend]="lineChartIdealOptions.legend" [labels]="lineChartIdealOptions.labels"
        [markers]="lineChartIdealOptions.markers" [theme]="lineChartIdealOptions.theme"
        [responsive]="lineChartIdealOptions.responsive"></apx-chart>
    </div>
    <p><strong>{{'land.InfoDx29.Inaccurate patients' | translate }}</strong></p>
    <p>
      {{'land.InfoDx29.p12' | translate }}
    </p>
    <div class="mb-4">
      <apx-chart [series]="lineChartRuidoOptions.series" [colors]="lineChartRuidoOptions.colors"
        [chart]="lineChartRuidoOptions.chart" [xaxis]="lineChartRuidoOptions.xaxis"
        [yaxis]="lineChartRuidoOptions.yaxis" [title]="lineChartRuidoOptions.title"
        [dataLabels]="lineChartRuidoOptions.dataLabels" [stroke]="lineChartRuidoOptions.stroke"
        [grid]="lineChartRuidoOptions.grid" [tooltip]="lineChartRuidoOptions.tooltip"
        [plotOptions]="lineChartRuidoOptions.plotOptions" [fill]="lineChartRuidoOptions.fill"
        [legend]="lineChartRuidoOptions.legend" [labels]="lineChartRuidoOptions.labels"
        [markers]="lineChartRuidoOptions.markers" [theme]="lineChartRuidoOptions.theme"
        [responsive]="lineChartRuidoOptions.responsive"></apx-chart>
    </div>
    <p>
      {{'land.InfoDx29.p13' | translate }}
    </p>
  </div>
</ng-template>
<ng-template #contentToDx29V2 let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 center-elements mb-3">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="c('Close click');">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center"><strong>{{'land.swal.title' | translate }}</strong></h4>
    </div>
    <div class="row col-md-12">
      <div class="col-md-5">
        <img class="col-md-12 mt-1" src='assets/img/home/kid.jpg' />
      </div>
      <div class="col-md-7 align-self-center">
        <span class="text-left">
          <p><strong>{{'land.swal.subtitle' | translate }}</strong></p>
          <p [innerHTML]="'land.swal.p1' | translate"></p>
          <p>{{'land.swal.p2' | translate }}</p>
          <ul>
            <li><strong>{{'land.table.t7' | translate }}:</strong> {{'land.table.d7' | translate }}</li>
            <li><strong>{{'land.table.t8' | translate }}:</strong> {{'land.table.d8' | translate }}</li>
            <li><strong>{{'land.table.t9' | translate }}:</strong> {{'land.table.d9' | translate }}</li>
            <li><strong>{{'land.table.t10' | translate }}:</strong> {{'land.table.d10' | translate }}</li>
            <li><strong>{{'land.table.t11' | translate }}:</strong> {{'land.table.d11' | translate }}</li>
            <li><strong>{{'land.table.t12' | translate }}:</strong> {{'land.table.d12' | translate }}</li>
          </ul>
        </span>


        <button class="btn btn-danger btn-raised btn-navbar" (click)="registerToDx29V2()">{{'land.swal.button' |
          translate }}</button>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #contentInfoSymptomOneDisease let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeSymptom()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{infoOneDisease.symptoms[selectedInfoSymptomIndex].name }}</strong></h4>
      <span class="content-sub-header text-muted">{{infoOneDisease.symptoms[selectedInfoSymptomIndex].id}}<a class="ml-1"
        href="https://hpo.jax.org/app/browse/term/{{infoOneDisease.symptoms[selectedInfoSymptomIndex].id}}"
        target="_blank"
        title=" {{infoOneDisease.symptoms[selectedInfoSymptomIndex].name}} ({{infoOneDisease.symptoms[selectedInfoSymptomIndex].id}}):">
        <i class="ft-external-link"></i></a></span>
    </div>
    <div class="row col-md-12" class="p-2">
      <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].desc!=null">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0">{{infoOneDisease.symptoms[selectedInfoSymptomIndex].desc}} </p>
      </span>
      <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].desc==''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0"> {{'symptomssection.No description' | translate }} </p>
      </span>
    </div>
    <div *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms">
      <div *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms.length" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms.length>0">
          <p *ngFor="let synonym of infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms ; let j = index" class="mb-0">
            <span>{{j+1}}. </span> <span>{{synonym.label}}</span>
          </p>
        </span>
        <span *ngIf="infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
    </div>
    <div *ngIf="!infoOneDisease.symptoms[selectedInfoSymptomIndex].synonyms">
      <span>
        {{'symptomssection.No synonyms' | translate }}
      </span>
    </div>
  </div>
</ng-template>

<ng-template #contentInfoAttention let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 center-elements mb-3">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="letsGo()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{infoOneDisease.name}}</strong></h4>
    </div>
    <div>
      <div class="offset-xl-2 col-xl-8 offset-md-1 col-md-10 pt-2">
        <div class="center-elements">
            <span id="text" style="display: inline-flex;">
              <h1 class="titleneon mb-0">{{'land.diagnosed.symptoms.title' | translate }}</h1>
            </span>
           <div>
            <p [innerHTML]="'land.diagnosed.symptoms.t1' | translate"></p>
            <p class="d-block mt-1" [innerHTML]="'land.diagnosed.symptoms.subtitle' | translate"></p>
           </div>
        </div>
        <div class="row" *ngIf="infoOneDisease.symptoms!=undefined">
          <ng-container *ngIf="panelInfoAttentionNum == 1">
            <span class="col-md-12">
              <p class="mb-0 center-elements"><strong>{{'land.diagnosed.symptoms.t2' | translate }}</strong></p>
            </span>
            <div class="mt-2 col-md-12">
              <div class="table-responsive" id="panelInfoAttention1">
                <table class="table mb-0 text-center">
                  <thead>
                    <tr class="border-bottom-0 border-top-0">
                      <th class="text-left" id="Name symptom">{{'diagnosis.Symptoms' | translate }}</th>
                    </tr>
                  </thead>
                  <tbody class="tableList">
                    <tr *ngFor="let symptom of infoOneDisease.symptoms ; let i = index" class="text-left col-12" style="table-layout:auto !important;">
                      <td class="text-left pb-0 col-10">
                          <span *ngIf="symptom.name" class="info" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})">{{symptom.name}}</span>
                          <span *ngIf="!symptom.name">
                            {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                              href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                              title="{{symptom.id}}">
                              <i class="ft-external-link"></i></a></span>
                        
                      </td>
                      <td class="col-2">
                        <span class="float-right ml-1">
                          <button (click)="changeStateSymptomDisease(i)"
                            class="btn btn-sm mr-1 mb-0 btn-fab round white"
                            [ngClass]="(symptom.checked==true)?'btn-info':'btn-secondary '"
                            href="javascript:void(0)" [attr.title]="(symptom.checked==true) ? getLiteral('phenotype.Click to uncheck it') : getLiteral('phenotype.Click to check it')">
                            <em class="fa fa-check w-13"></em>
                          </button>
                        </span>                     
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="panelInfoAttentionNum == 2">
            <span class="col-md-12">
              <p class="mb-0 center-elements"><strong>{{'land.diagnosed.symptoms.t3' | translate }}</strong></p>
            </span>
            <div class="mt-2 col-md-12">
              <div class="panelAttentionItem" [style.height.px]="panelInfoAttention1Heigh">
                <div *ngFor="let symptom of infoOneDisease.symptoms ; let i = index" class="col-md-12">
                  <div *ngIf="symptom.checked" class="row mt-2">
                    <div class= "col-md-6" style="text-align: left">
                      <span *ngIf="symptom.name" class="info" (click)="showMoreInfoSymptomPopup(i, contentInfoSymptomOneDisease);" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})">{{symptom.name}}</span>
                      <span *ngIf="!symptom.name">
                        {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) <a
                          href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                          title="{{symptom.id}}">
                          <i class="ft-external-link"></i></a></span>
                    </div>
                    <div class= "col-md-6">
                      <input type="date" id="dateOnset_{{i}}" class="form-control" name="dateOnset" placeholder="Date onset" [(ngModel)]="symptom.date">
                    </div>
                    <div class="col-md-6 mt-1"></div>
                    <div class="col-md-6 mt-1">
                      <input type="text" id="basicInput_{{i}}" placeholder="{{'generics.notes' | translate }}" class="form-control" [(ngModel)]="symptom.notes">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="panelInfoAttentionNum == 3">
            <span class="col-md-12">
              <p class="mb-0 center-elements"><strong>{{'land.diagnosed.symptoms.t4' | translate }}</strong></p>
            </span>
            <div class="mt-2 col-md-12">
              <div *ngIf="!loadingTimeline" class="panelAttentionItem" [style.height.px]="panelInfoAttention1Heigh">
                <section *ngIf="!isEmptyObject(infoOneDiseaseTimeLine)||!isEmptyObject(infoOneDiseaseTimeLineNull)" id="vertical-timeline-left" class="timeline-left timeline-wrapper col-sm-10 col-12 offset-sm-1">
                  <div *ngIf="!isEmptyObject(infoOneDiseaseTimeLine)">
                    <div *ngFor="let year of infoOneDiseaseTimeLine | keyvalue: keyAscOrder">
                      <ul class="timeline">
                        <li class="timeline-line"></li>
                        <li class="timeline-group">
                          <h5>
                            <span class="badge badge-primary cursor-default">{{year.key}}</span>
                          </h5>
                        </li>
                      </ul>
                      <ul class="timeline">
                        <li class="timeline-line"></li>
                        <li *ngFor="let item of year.value | keyvalue: keyAscOrder" class="timeline-item">
                            <div *ngIf="item.key!=null" class="timeline-badge">
                              <span data-toggle="tooltip" placement="right" [ngbTooltip]="item.key" class="bg-primary bg-lighten-4" matBadge="{{item.value.length}}">
                                <i class="ft-calendar primary"></i>
                              </span>
                            </div>
                            <div *ngIf="item.key!=null" class="timeline-card card shadow-z-1">
                              <div class="card-content">
                                <div class="card-body">
                                  <span class="card-title mb-0">{{item.key}}</span>
                                  <hr class="mt-0 mb-2">
                                  <div *ngFor="let symptom of item.value;">
                                    <span *ngIf="symptom.name" class="info" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})" (click)="showMoreInfoAndNotesSymptomPopup(symptom, contentInfoAndNotesSymptom);">{{symptom.name}}</span>
                                    <span *ngIf="!symptom.name">
                                      {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) 
                                      <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                        title="{{symptom.id}}">
                                        <i class="ft-external-link"></i>
                                      </a>
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div *ngIf="!isEmptyObject(infoOneDiseaseTimeLine)&&!isEmptyObject(infoOneDiseaseTimeLineNull)" class="col-md-12 mt-2"></div>
                  <ul class="timeline" *ngIf="!isEmptyObject(infoOneDiseaseTimeLineNull)">
                    <li class="timeline-group">
                      <h5>
                        <span class="badge badge-primary cursor-default"> {{'land.diagnosed.symptoms.NoOnset' | translate }} </span>
                      </h5>
                    </li>
                    <li class="timeline-item">
                      <div class="timeline-badge">
                        <span data-toggle="tooltip" title="{{'land.diagnosed.symptoms.GoPrevious' | translate }}" placement="right" class="bg-primary bg-lighten-4" matBadge="{{infoOneDiseaseTimeLineNull.length}}" (click)="prev()" >
                          <i class="ft-help-circle primary"></i>
                        </span>
                      </div>
                      <div class="timeline-card card shadow-z-1">
                        <div class="card-content">
                          <div class="card-body">
                            <div *ngFor="let symptom of infoOneDiseaseTimeLineNull">
                              <span *ngIf="symptom.name" class="info" style="cursor: pointer;" title="{{'generics.More information' | translate }} ({{symptom.id}})" (click)="showMoreInfoAndNotesSymptomPopup(symptom, contentInfoAndNotesSymptom);">{{symptom.name}}</span>
                              <span *ngIf="!symptom.name">
                                {{symptom.id}} ({{'phenotype.Deprecated' | translate}}) 
                                <a href="https://hpo.jax.org/app/browse/term/{{symptom.id}}" target="_blank"
                                  title="{{symptom.id}}">
                                  <i class="ft-external-link"></i>
                                </a>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </section>
              </div>
              <div *ngIf="loadingTimeline" [style.height.px]="panelInfoAttention1Heigh">
                <p class="centerSpinner"><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p>
              </div>
            </div>
          </ng-container>
          <div class="mt-2 col-md-12">
            <button *ngIf="panelInfoAttentionNum<maxPanelInfoAttentionNum" type="button" class="btn btn-outline-info mb-0 float-right" (click)="next()">{{'generics.Next' | translate }}</button>
            <button *ngIf="panelInfoAttentionNum>1" type="button" class="btn btn-outline-info mb-0 float-left" (click)="prev()">{{'generics.Previous' | translate }}</button>
          </div>
          <div class="mt-2 col-md-12">
            <p>
              {{'land.diagnosed.DonorData.p1' | translate }} 
            </p>
            <p>
              {{'land.diagnosed.DonorData.p2' | translate }}
            </p>
            <p>
              {{'land.diagnosed.DonorData.p3' | translate }}
            </p>
            <p>
              {{'land.diagnosed.DonorData.p4' | translate }}
            </p>
          </div>
          <form class="form mt-2 col-md-12" #f="ngForm">
            <div class="">
              <input class="col-md-12 form-control" type="email" id="Email" name="Email" placeholder="{{'generics.Email' | translate }}" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="email">
              <small class="pr-0 pl-0 col-md-6 text-left form-text danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
            </div>
            <div *ngIf="!sending" class="center-elements ml-2 mt-2">
              <div *ngIf="f.valid;then formValid else formError"></div>
              <ng-template #formValid><button class="btn btn-outline-info mb-0" (click)="sendSymtomsChecked(contentInfoSendSymptoms);lauchEvent('Diagnosed - Submit Revolution');"> {{'support.Send' | translate }}</button></ng-template>
              <ng-template #formError><button class="btn btn-outline-info mb-0" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
              <span class="d-block font-small-3 pb-2 info" style="cursor: pointer;" (click)="letsGo();">{{'land.diagnosed.symptoms.btn2' | translate }}</span>
            </div>
            <div class="form-actions" *ngIf="sending">
                <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #contentInfoSendSymptoms let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeInfoSendSymptoms()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="align-self-center mb-0"><strong>{{'land.diagnosed.DonorData.title' | translate }}</strong></h4>
    </div>
    <div class="row">
      <div class="col-md-5">
        <img class="col mt-1" style="max-width: 300px;" src='assets/img/home/kid.jpg' />
      </div>
      <div class="col-md-7 align-self-center">
        <span class="text-left">
          <p>
            {{'land.diagnosed.DonorData.p1' | translate }} 
          </p>
          <p>
            {{'land.diagnosed.DonorData.p2' | translate }}
          </p>
          <p>
            {{'land.diagnosed.DonorData.p3' | translate }}
          </p>
        </span>
      </div>
    </div>
    <div class="p-2">
      <p>
        <strong>{{'land.diagnosed.DonorData.p4' | translate }}</strong>
      </p>
      <form class="form" #f="ngForm">
        <div class="">
          <input class="col-md-6 form-control" type="email" id="Email" name="Email" placeholder="{{'generics.Email' | translate }}" ngModel required #Email="ngModel" email name="Email" [(ngModel)]="email">
          <small class="pr-0 pl-0 col-md-6 form-text danger" *ngIf="!Email.valid && showErrorForm">{{'generics.entervalidemail' | translate }}</small>
        </div>
        <div *ngIf="!sending" class="mt-2">
          <div *ngIf="f.valid;then formValid else formError"></div>
          <ng-template #formValid><button class="btn btn-outline-info" (click)="onSubmitRevolution();lauchEvent('Diagnosed - Submit Revolution');"> {{'support.Send' | translate }}</button></ng-template>
          <ng-template #formError><button class="btn btn-outline-info" type="button" (click)="submitInvalidForm()"> {{'support.Send' | translate }}</button></ng-template>
        </div>
        <div class="form-actions" *ngIf="sending">
            <span ><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></span>
        </div>
      </form>
    </div>
  </div>
</ng-template>
    
<ng-template #contentInfoAndNotesSymptom let-c="close" let-d="dismiss" appendTo="body">
  <div class="modal-body content-wrapper p-2 border">
    <div class="p-2">
      <button type="button" class="close" aria-label="Close" (click)="closeSymptom()">
        <span aria-hidden="true">&times;</span>
      </button>
      <h4 *ngIf="selectedNoteSymptom.name" class="align-self-center mb-0"><strong>{{selectedNoteSymptom.name}}</strong></h4>
      <span class="content-sub-header text-muted">{{selectedNoteSymptom.id}}<a class="ml-1"
        href="https://hpo.jax.org/app/browse/term/{{selectedNoteSymptom.id}}"
        target="_blank"
        title=" {{selectedNoteSymptom.name}} ({{selectedNoteSymptom.id}}):">
        <i class="ft-external-link"></i></a>
      </span>
      <h4 *ngIf="!selectedNoteSymptom.name"class="align-self-center mb-0"><strong>{{symptom.id}} ({{'phenotype.Deprecated' | translate}}) </strong>
        <a class="ml-1"
        href="https://hpo.jax.org/app/browse/term/{{selectedNoteSymptom.id}}"
        target="_blank"
        title=" {{selectedNoteSymptom.name}} ({{selectedNoteSymptom.id}}):">
        <i class="ft-external-link"></i></a>
      </h4>
    </div>
    <div class="row col-md-12" class="p-2" *ngIf="selectedNoteSymptom.date!=null">
      <span>
        <h5><strong>{{'phenotype.Onset' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.date}} </p>
      </span>
    </div>
    <div class="row col-md-12" class="p-2" *ngIf="selectedNoteSymptom.notes!=null">
      <span>
        <h5><strong>{{'generics.notes' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.notes}} </p>
      </span>
    </div>
    <div class="row col-md-12" class="p-2">
      <span *ngIf="selectedNoteSymptom.desc!=null">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0">{{selectedNoteSymptom.desc}} </p>
      </span>
      <span *ngIf="selectedNoteSymptom.desc==''">
        <h5><strong>{{'generics.Description' | translate }}</strong></h5>
        <p class="mb-0"> {{'symptomssection.No description' | translate }} </p>
      </span>
    </div>
    <div *ngIf="selectedNoteSymptom.synonyms">
      <div *ngIf="selectedNoteSymptom.synonyms.length" class="p-2">
        <h5><strong>{{'generics.Synonyms' | translate }}</strong></h5>
        <span *ngIf="selectedNoteSymptom.synonyms.length>0">
          <p *ngFor="let synonym of selectedNoteSymptom.synonyms ; let j = index" class="mb-0">
            <span>{{j+1}}. </span> <span>{{synonym.label}}</span>
          </p>
        </span>
        <span *ngIf="selectedNoteSymptom.synonyms.length==0">
          {{'symptomssection.No synonyms' | translate }}
        </span>
      </div>
    </div>
    <div *ngIf="!selectedNoteSymptom.synonyms">
      <span>
        {{'symptomssection.No synonyms' | translate }}
      </span>
    </div>
  </div>
</ng-template>