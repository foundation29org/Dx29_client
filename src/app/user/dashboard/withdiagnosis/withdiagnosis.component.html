<div class="fijado center-elements" *ngIf="loadedSymptoms && showingWizard" style="z-index: 1;">
		<button type="button" [ngClass]="(phenotype.data.length == 0 || actualCondition=='')?'center-elements btn-lg btn-raised btn-secondary':'center-elements btn-lg btn-raised btn-danger'" (click)="goToWorkspace()">{{'patdiagdashboard.Go to Workspace​' | translate }}</button>
</div>
<section id="wizard" class="page__style wizard" style="min-height: 79vh !important;" [ngClass]="(loadedSymptoms==true && showingWizard==true)?'negative-margin-top':''">
	<div *ngIf="showingWizard">
		<div id="loading-layout-wizard" *ngIf="!loadedSymptoms">
			<div class="center-elements">
					<div><p class="centerSpinner"><i class="center-spinner fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p></div>
			</div>
		</div>
		<div class="page__description" id="layout-wizard" *ngIf="loadedSymptoms" >
					<div *ngIf="!savingNotes" >
				    <div *ngIf="!showPanelExtractor">
				      <!--<ng-template matStepLabel>{{'dashboardpatient.My symptoms' | translate }}</ng-template>-->
							<div *ngIf="(diagnosisInfo.hasDiagnosis != undefined || showPanelDiagnosisInfo) && !showPanelSymptomsPatient">
								<div class="row col-md-12" *ngIf="diagnosisInfo.hasDiagnosis">
									<div class="col-md-3">
										<i class="fa fa-play fa-3x"></i>  <h1 class="d-inline ml-2">{{'registration.Get Started' | translate }}</h1>
									</div>
									<div class="col-md-9">
										<p>
											{{'patdiagdashboard.msgIntro1' | translate }}
										</p>
									</div>
									<div class="col-md-3">
										<i class="fas fa-gift fa-3x"></i>  <h1 class="d-inline ml-2">{{'patdiagdashboard.titleIntro2' | translate }}</h1>
									</div>
									<div class="col-md-9">
										<p>
											{{'patdiagdashboard.msgIntro2' | translate }}
										</p>
									</div>
								</div>
									<div class="row col-md-12 mt-4" *ngIf="diagnosisInfo.hasDiagnosis">
										<div class="col-md-12">
											<div class="form-group">
												<!--<label for="searchDiseaseField">{{'dashboardpatient.Write your condition' | translate }}</label>-->
												<input type="text" id="searchDiseaseField" class="form-control"  name="searchDiseaseField" [(ngModel)]="searchDiseaseField" (keyup)="onKey($event)" placeholder="{{'dashboardpatient.Search condition' | translate }}">
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<span *ngIf="listOfFilteredDiseases.length>0">
													<table class="table data-fixed-columns" style="background: white;">
														<tbody>
															<tr *ngFor="let disease of listOfFilteredDiseases ; let i = index">
																<td>
																	<span>
																		<button type="button" class="btn btn-outline-danger mt-2" (click)="changePreviousDiagnosis(disease, contentSeeSymptomsOfDisease)">{{'generics.Select' | translate }}</button>
																		<span class="ml-3 font-medium-3">
																			<strong *ngIf="i== selectedDiseaseIndex" class="align-middle">{{disease.name}}</strong>
																			<span *ngIf="i!= selectedDiseaseIndex" class="align-middle">{{disease.name}}</span>
																		</span>
																		<span *ngIf="i!= selectedDiseaseIndex" style="cursor: pointer;" class="pull-right mt-2" (click)="showMoreInfoDisease(i);">
																			<i style="font-size: 1.6em;" class="fa fas fa-arrow-down danger mt-1"></i>
																		</span>
																		<span *ngIf="i== selectedDiseaseIndex" style="cursor: pointer;" class="pull-right mt-2" (click)="showMoreInfoDisease(i);">
																			<i style="font-size: 1.6em;" class="fa fas fa-arrow-up danger mt-1"></i>
																		</span>
																	</span>

																	<div *ngIf="i== selectedDiseaseIndex" class="col-md-12 mt-2">
																		<h4 class="mt-2"><strong>{{'generics.Description' | translate }}</strong></h4>
																		{{disease.desc}}
																		<h4 class="mt-4"><strong>{{'generics.Synonyms' | translate }}</strong></h4>
																		<p *ngFor="let synonym of disease.synonyms ; let j = index">
																			<span>{{j+1}}. </span> <span class="">{{synonym}}</span>
																		</p>
																	</div>
																</td>
															</tr>
														</tbody>
													</table>
												</span>
												<span *ngIf="listOfFilteredDiseases.length==0 && searchDiseaseField !=undefined">
													<span *ngIf="(searchDiseaseField).trim().length>3">
														<label>{{'dashboardpatient.Conditions' | translate }}</label>
														<span class="d-block">{{'dashboardpatient.Nothing found. Try again.' | translate }}</span>
													</span>
												</span>
											</div>
										</div>
									</div>
							</div>
							<div *ngIf="showPanelSymptomsPatient">
								<div class="row">
									<div class="col-md-12 col-lg-12 center-elements" >
							      <div class="card">
							        <div class="card-header">
												<ngb-rating [(rate)]="normalizedScore" max=5 readonly=true *ngIf="!loadingquality">
													<ng-template let-fill="fill">
														<span class="star" [class.filled]="fill === 100">&#9733;</span>
													</ng-template>
												</ngb-rating>
												<p class="centerSpinner" *ngIf="loadingquality"><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p>
												<p class="mb-0">{{'patdiagdashboard.Concreteness of your symptoms' | translate }}</p>
							        </div>
							        <div class="card-content" *ngIf="!loadingquality">
							          <div class="card-body" *ngIf="scaledScore<=0.8">
													<p class="mb-0">{{'patdiagdashboard.Thank you! Unfortunately' | translate }}:</p>
							          </div>
												<div class="card-body" *ngIf="scaledScore>0.8">
													<p>
														{{'patdiagdashboard.Well done​​' | translate }}
													</p>
													<p>
														{{'patdiagdashboard.Congratulationsmsg' | translate }}
													</p>
							          </div>
							        </div>
											<p></p>
							      </div>
							    </div>
									<div class="col-md-12 col-lg-12" matchHeight ="card">
										<div class="row" matchHeight ="card">
					          <div [ngClass]="(phenotype.data.length > 0)?'col-lg-3 col-md-12':'col-lg-4 col-md-12'">
					              <div class="card">
					                  <div class="card-header text-center pb-0 height-75">
					                      <span class="font-medium-2 primary">{{'generics.Option' | translate }} 1: {{'patdiagdashboard.titleoption1' | translate }}</span>
					                  </div>
					                  <div class="card-body height-200">
					                      <div id="donut-chart1" class="center-elements">
					                        <i class="fas fa-notes-medical fa-4x primary"></i>
					                      </div>
					                      <div class="card-block text-center mt-2">
					                          <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption1' | translate }}</span>
					                      </div>
					                  </div>
					                  <div class="card-footer bt-n">
															<label class="btn btn-outline-primary btn-lg btn-block btn-round" style="text-transform: none;letter-spacing: 0px;cursor: pointer;">
																	{{'patdiagdashboard.buttonoption1' | translate }} <input type="file" (change)="onFileChangePDF($event)" style="display: none;">
															</label>
					                  </div>
					              </div>
					          </div>
										<div class="col-lg-3 col-md-12" *ngIf="phenotype.data.length > 0">
					              <div class="card">
					                  <div class="card-header text-center pb-0 height-75">
					                      <span class="font-medium-2 warning">{{'generics.Option' | translate }} 2: {{'patdiagdashboard.titleoption2' | translate }}</span>
					                  </div>
					                  <div class="card-body height-200">
					                      <div id="donut-chart1" class="center-elements">
					                        <i class="fas fa-arrows-alt fa-4x warning"></i>
					                      </div>
					                      <div class="card-block text-center mt-2">
					                          <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption2' | translate }}</span>
					                      </div>
					                  </div>
					                  <div class="card-footer bt-n">
															<span *ngIf="numDeprecated==phenotype.data.length" class="warning">{{'phenotype.msg Deprecated' | translate }}</span>
															<button *ngIf="numDeprecated!=phenotype.data.length" type="button" class="btn btn-outline-warning btn-lg btn-block btn-round" (click)="showPanelSuggestions(contentSuggestions)">{{'patdiagdashboard.buttonoption2' | translate }}</button>
					                  </div>
					              </div>
					          </div>
										<div [ngClass]="(phenotype.data.length > 0)?'col-lg-3 col-md-12':'col-lg-4 col-md-12'">
					              <div class="card">
					                  <div class="card-header text-center pb-0 height-75">
					                      <span class="font-medium-2 danger">
																	{{'generics.Option' | translate }}
																	<span *ngIf="phenotype.data.length > 0">3</span>
																	<span *ngIf="phenotype.data.length == 0">2</span>
																	: {{'patdiagdashboard.titleoption3' | translate }}
																</span>
					                  </div>
					                  <div class="card-body height-200">
					                      <div id="donut-chart1" class="center-elements">
					                        <i class="fas fa-keyboard fa-4x danger"></i>
					                      </div>
					                      <div class="card-block text-center mt-2">
					                          <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption3' | translate }}</span>
					                      </div>
					                  </div>
					                  <div class="card-footer bt-n">
											<button type="button" class="btn btn-outline-danger btn-lg btn-block btn-round" (click)="addSymptomsManual(contentAddSymptomsManual)">{{'patdiagdashboard.buttonoption3' | translate }}​​</button>
					                  </div>
					              </div>
					          </div>
										<div [ngClass]="(phenotype.data.length > 0)?'col-lg-3 col-md-12':'col-lg-4 col-md-12'">
					              <div class="card">
					                  <div class="card-header text-center pb-0 height-75">
					                      <span class="font-medium-2 success">{{'generics.Option' | translate }}
																	<span *ngIf="phenotype.data.length > 0">4</span>
																	<span *ngIf="phenotype.data.length == 0">3</span>
																	: {{'patdiagdashboard.titleoption4' | translate }}
																</span>
					                  </div>
					                  <div class="card-body height-200">
					                      <div id="donut-chart1" class="center-elements">
					                        <i class="fas fa-align-left fa-4x success"></i>
					                      </div>
					                      <div class="card-block text-center mt-2">
					                          <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.msgoption4.1' | translate }} <span *ngIf="isMobileOrTablet">{{'patdiagdashboard.msgoption4.2' | translate }}</span></span>
					                      </div>
					                  </div>
					                  <div class="card-footer bt-n">
															<button type="button" class="btn btn-outline-success btn-lg btn-block btn-round" (click)="showPanelExtractor=!showPanelExtractor; expanded=!expanded">{{'patdiagdashboard.buttonoption4' | translate }}​​​​</button>
					                  </div>
					              </div>
					          </div>
										</div>
									</div>
								</div>
								<!--
								<div *ngIf="scaledScore>0.8">
									<div class="col-md-12 col-lg-12 center-elements">
							      <div class="card">
							        <div class="card-header">
												<ngb-rating [(rate)]="normalizedScore" max=5 readonly=true>
													<ng-template let-fill="fill">
														<span class="star" [class.filled]="fill === 100">&#9733;</span>
													</ng-template>
												</ngb-rating>
												<p>{{'patdiagdashboard.Concreteness of your symptoms' | translate }}</p>
							        </div>
							        <div class="card-content">
							          <div class="card-body">
													<p>
														{{'patdiagdashboard.Well done​​' | translate }}
													</p>
													<p>
														{{'patdiagdashboard.Congratulationsmsg' | translate }}
													</p>
							          </div>
							        </div>
											<p></p>
							      </div>
							    </div>
									<div class="row" matchHeight ="card">
					          <div class="col-lg-6 col-md-12">
					              <div class="card">
					                  <div class="card-header text-center pb-0">
					                      <span class="font-medium-2 primary">{{'generics.Option' | translate }} 1</span>
					                  </div>
					                  <div class="card-body height-200">
					                      <div id="donut-chart1" class="center-elements">
					                        <i class="fas fa-chart-pie fa-4x primary"></i>
					                      </div>
					                      <div class="card-block text-center mt-2">
					                          <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.Finish and see the result' | translate }}</span>
					                      </div>
					                  </div>
					                  <div class="card-footer bt-n">
															<button type="button" class="btn btn-outline-primary btn-lg btn-block btn-round" (click)="showWizard(false)">{{'generics.Finish' | translate }}</button>
					                  </div>
					              </div>
					          </div>
										<div class="col-lg-6 col-md-12">
					              <div class="card">
					                  <div class="card-header text-center pb-0">
					                      <span class="font-medium-2 warning">{{'generics.Option' | translate }} 2</span>
					                  </div>
					                  <div class="card-body height-200">
					                      <div id="donut-chart1" class="center-elements">
					                        <i class="fas fa-arrows-alt fa-4x warning"></i>
					                      </div>
					                      <div class="card-block text-center mt-2">
					                          <span class="font-medium-1 grey darken-1 text-bold-400">{{'patdiagdashboard.Expand your symptoms using our suggestions' | translate }}</span>
					                      </div>
					                  </div>
					                  <div class="card-footer bt-n">
															<button type="button" class="btn btn-outline-warning btn-lg btn-block btn-round" (click)="showPanelSuggestions(contentSuggestions)">{{'patdiagdashboard.Let me choose new suggested symptoms' | translate }}</button>
					                  </div>
					              </div>
					          </div>
									</div>
								</div>-->
								<div class="row">
									<div class="col-md-12">
										<!--<div class="card-block" *ngIf="!loadingSymptoms && !sending && (phenotypeCopy.data.length != phenotype.data.length || checksChanged)">
												<ngb-alert type="warning" [dismissible]="false">
														{{'generics.You have unsaved changes' | translate }}
														<button type="button" class="pull-right btn btn-sm btn-raised btn-raised btn-primary" (click)="saveSymptomsToDb()"><i class="fa fa-check-square-o"></i> {{'generics.Save' | translate }} changes</button>
												</ngb-alert>
										</div>-->
										<div id="panelSelectFromList">
											<button type="button" *ngIf="actualConditionId !=''" class="pull-right btn primary mt-4 mb-4" (click)="getSymptomsOfDisease(actualConditionId, contentSeeSymptomsOfDisease)">{{'patdiagdashboard.View symtoms of your disease' | translate }}</button>
											<div *ngIf="phenotype.data.length > 0 " class="mb-4 mt-4 card table-responsive">
												<table class="table">
													<thead>
														<tr>
															<th>{{'generics.Name' | translate }}</th>
															<th>{{'generics.Delete' | translate }}</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngFor="let symptom of phenotype.data ; let i = index">
															<td><a href="https://monarchinitiative.org/phenotype/{{symptom.id}}" target="_blank" title="{{symptom.def}} {{symptom.comment}} ">{{symptom.name}}</a> <span *ngIf="symptom.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></td>
															<td>
																<a class="danger" data-original-title="" title="" (click)="confirmDeletePhenotype(i)">
																	<i class="ft-x"></i>
																</a>
															</td>
														</tr>
													</tbody>
													<tfoot>
												    <tr>
												      <td>{{'phenotype.Number of symptoms' | translate }}: {{numberOfSymptoms}}</td>
												      <td></td>
												    </tr>
												  </tfoot>
												</table>
											</div>
										</div>
									</div>
								</div>
							</div>

				    </div>
						<div class="content-wrapper row" *ngIf="showPanelExtractor">
							<div class="col-md-12">
								<button type="button" class="btn btn-secondary btn-raised" (click)="showPanelExtractor=!showPanelExtractor; setStateExpanded(false)">{{'generics.Back' | translate }}</button>
								<button id="openModalSymptomsNcrButton" [hidden]="true" (click)="showPanelSymptomsNcr(contentSymptomsNcr)">.</button>
							</div>
							<div class="col-md-12">
								<form class="form" (ngSubmit)="onSubmitToExtractor()" #f="ngForm">
									<div class="form-body">
										<div class="row">
											<div class="col-md-12">
												<div class="form-group">
													<label class="pull-left text-muted mr-2 mt-1" >
														{{'dashboardpatient.medicaltextinfo' | translate }}
													</label>
													<label class="pull-right mb-0 btn btn-flat btn-primary" style="text-transform: none;letter-spacing: 0px;cursor: pointer;">
															{{'diagnosis.MsgUploadFileType' | translate }} <input type="file" (change)="onFileChangePDF($event)" style="display: none;">
													</label>
													<textarea class="form-control" style="width:100%;max-height: 30vh;height:30vh;" [(ngModel)]="medicalText"  name="medicalText" placeholder="{{'phenotype.HPO phenotype extractor placeholder' | translate }}"></textarea>
													<a *ngIf="medicalText.trim().length > 0" class="btn btn-outline-danger mb-0 mt-1" (click)="deleteText()" href="javascript:void(0)"><i class="fa fa-trash"></i></a>
													<span *ngIf="parserObject.file" class="pull-right">{{'parser.msgOcrInline' | translate }}: <a (click)="parserObject.parserStrategy='OcrInline'; callParser()" href="javascript:void(0)">{{'parser.Advanced extraction' | translate }}</a></span>
													<div class="center-elements">
														<button *ngIf="!loadingHpoExtractor && resultTextNcr!=''" type="button" class="btn btn-flat btn-primary" (click)="showPanelSymptomsNcr(contentSymptomsNcr)">{{'dashboardpatient.Show previous result' | translate }}</button>
														<button *ngIf="!loadingHpoExtractor" type="button" type="submit" [disabled]="medicalText.trim().length <= 5" class="mt-2 font-large-1 btn btn-primary btn-raised">{{'phenotype.Get symptoms' | translate }}</button>
														<!--<p class="centerSpinner" *ngIf="loadingHpoExtractor"><i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i></p>-->
													</div>
												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div *ngIf="savingNotes">
						<div class="col-md-12 center-elements">
							<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
						</div>
					</div>
		</div>
	</div>
	<div *ngIf="!showingWizard" >
		<div class="page__description2" id="layout-wizard">
			<!-- Columns section start -->
			<section id="columns">
			  <div class="row text-left mt-1">
				<div class="col-md-12 mb-4" >
					<div class="card-content card card-outline-success" style="background-color: white;">
					<div class="card-body row center-elements">
						<div class="col-md-6">
							<span class="black d-block">{{'patdiagdashboard.Diagnosis' | translate }}</span>
							<h4 class="card-title success d-inline" style="font-size: 1.75rem;">{{actualCondition}}</h4>
							<a class="ml-2 mt-0 btn btn-sm btn-outline-success panel-hover-color" (click)="changeDiagnosis();changeHasDiagnosis(); goTo(2)">{{'generics.Change' | translate }}</a>
						</div>
						<div class="col-md-6">
							<span class="black d-block">{{'phenotype.Number of symptoms' | translate }}</span>
							<h4 class="card-title success d-inline" style="font-size: 1.75rem;">{{numberOfSymptoms}}</h4>
							<a class="ml-2 mt-0 btn btn-sm btn-outline-success panel-hover-color" (click)="goTo(2)">{{'generics.Edit' | translate }}</a>
							<p *ngIf="numDeprecated>0" class="warning">{{'phenotype.msg Deprecated' | translate }}</p>
						</div>
					</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-6 mb-4">
							<div class="card-content card card-outline-info h-100" style="background-color: white;">
								<div class="card-body">
									<h4 class="card-title info d-inline" style="font-size: 1.75rem;">{{'patdiagdashboard.panel1title' | translate }}</h4>
									<div class="row mt-2">
										<div class="col-md-12">
											<p>
												{{'patdiagdashboard.panel1msg1a' | translate }} {{actualCondition}}, {{'patdiagdashboard.panel1msg1b' | translate }}
											</p>
											<p>
												{{'patdiagdashboard.panel1msg2a' | translate }} {{actualCondition}} {{'patdiagdashboard.panel1msg2b' | translate }}
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 mb-4">
							<div class="card-content card card-outline-danger h-100" style="background-color: white;">
								<div class="card-body">
								<h4 class="card-title danger d-inline" style="font-size: 1.75rem;">{{'patdiagdashboard.panel2title' | translate }}:​</h4>
									<div class="row mt-2">
										<div class="col-md-12">
											<p>
												{{'patdiagdashboard.panel2msg1a' | translate }} {{actualCondition}} {{'patdiagdashboard.panel2msg1b' | translate }}
											</p>
										</div>
										<div class="col-md-12 mt-2">
											<div class="center-elements" *ngIf="listSymtomsFreqForGraph[0]!=undefined">
												<button *ngIf="listSymtomsFreqForGraph[0].numberPoblation==0" type="button" class="align-middle btn btn-outline-danger"  (click)="showSharePanel()">
													<div class="col-md-12">
														<i class="ft-alert-triangle danger" style="padding-right: 1%;"> </i>
														<span>{{'patdiagdashboard.panel2msginvitemore' | translate }}</span>
													</div>
													<div class="col-md-12">
														<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
													</div>
												</button>
												<button *ngIf="listSymtomsFreqForGraph[0].numberPoblation==1" type="button" class="align-middle btn btn-outline-danger" (click)="showSharePanel()">
													<div class="col-md-12">
														<i class="ft-alert-triangle danger" style="padding-right: 1%;"></i>
														<!--<span>{{'patdiagdashboard.panel2msginvitemore1' | translate }} {{listSymtomsFreqForGraph[0].numberPoblation}} {{'patdiagdashboard.panel2msginvitemore2a' | translate }}</span>-->
														<span>{{'patdiagdashboard.panel2msginvitemore2c' | translate }}</span>

													</div>
													<div class="col-md-12">
														<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
													</div>
												</button>
												<button *ngIf="(listSymtomsFreqForGraph[0].numberPoblation<25)&&(listSymtomsFreqForGraph[0].numberPoblation>1)" type="button" class="align-middle btn btn-outline-danger" (click)="showSharePanel()">
													<div class="col-md-12">
														<i class="ft-alert-triangle danger" style="padding-right: 1%;"></i>
														<span>{{'patdiagdashboard.panel2msginvitemore1' | translate }} {{listSymtomsFreqForGraph[0].numberPoblation-1}} {{'patdiagdashboard.panel2msginvitemore2b' | translate }}</span>
													</div>
													<div class="col-md-12">
														<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
													</div>
												</button>
											</div>
											<div class="center-elements" *ngIf="listSymtomsFreqForGraph[0]==undefined">
												<button type="button" class="align-middle btn btn-outline-danger"(click)="showSharePanel()">
													<div class="col-md-12">
														<i class="ft-alert-triangle danger" style="padding-right: 1%;"> </i>
														<span>{{'patdiagdashboard.panel2msginvitemore' | translate }}</span>
													</div>
													<div class="col-md-12">
														<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
													</div>
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12" style="height: 100%;">
					<div class="row">
						<div class="col-md-12 mb-4">
							<div class="card-content card card-outline-primary" style="background-color: white;">
								<!--<div class="card-body" [style.visibility]="symptomsPermissions.shareWithCommunity? 'hidden': 'visible'">-->
								<div class="card-body">
									<div class="row">
										<div class="col-md-9">
											<h4 class="card-title primary" style="font-size: 1.75rem;" *ngIf="symptomsPermissions.shareWithCommunity">{{'patdiagdashboard.panel3msgtitlegraph1' | translate }}</h4>
											<h4 class="card-title primary" style="font-size: 1.75rem;" *ngIf="!symptomsPermissions.shareWithCommunity">{{'patdiagdashboard.panel3titleaskpermissions' | translate }}</h4>
										</div>
										<div class="col-md-3" *ngIf="!loadingGraphSymptomFreq && symptomsPermissions.shareWithCommunity && (chartDataSymptomsFreq.length>0 || queryApply)">
											<div class="pull-right" style="display: inline-flex;align-items: baseline;">
												<button type="button" class="btn primary" (click)="deleteAllQueries()" *ngIf="queryApply"><i class="ft-trash-2"></i> {{'patdiagdashboard.panel3buttonDeleteAllQueries' | translate }}</button>
												<button type="button mb-1" class="center-elements pull-right btn btn-icon round btn-outline-primary" (click)="showQuerySymptomsToGraph(contentQuerySymptomsFreqGraph)" title="{{'patdiagdashboard.panel3buttonFilterCommunity' | translate }}"><i class="ft-filter" style="vertical-align: middle;"></i></button>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12 mb-1" *ngIf="!loadingGraphSymptomFreq && symptomsPermissions.shareWithCommunity && (chartDataSymptomsFreq.length>0 || queryApply)">
											<p> {{'patdiagdashboard.panel3msg1a' | translate }}</p>
										</div>
									</div>
									<div class="row" *ngIf="!symptomsPermissions.shareWithCommunity && !loadingGraphSymptomFreq && (chartDataSymptomsFreq.length>0 || queryApply)">
										<div class="col-md-12">
											<p>
												{{'patdiagdashboard.panel3msgaskpermissions' | translate }}
											</p>
											<div class="center-elements">
												<button type="button" class="btn btn-outline-primary" (click)="setShareWithCommunity(true)">{{'patdiagdashboard.Yes, let me see my community' | translate }}</button>
												<!--<button type="button" class="ml-1 btn btn-outline-primary"  (click)="showSampleHistogram(sampleHistogram)">{{'patdiagdashboard.I am not sure, let me see' | translate }}</button>-->
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12 mt-4" *ngIf="!loadingGraphSymptomFreq && chartDataSymptomsFreq.length==0 && !queryApply">
											<div class="col-md-12">
												<p>
													{{'patdiagdashboard.panel3msgaskpermissions' | translate }}
												</p>
												<div class="col-md-12 center-elements">
													<button type="button" class="btn btn-outline-primary" (click)="setShareWithCommunity(true)">{{'patdiagdashboard.Yes, let me see my community' | translate }}</button>
													<!--<button type="button" class="ml-1 btn btn-outline-primary"  (click)="showSampleHistogram(sampleHistogram)">{{'patdiagdashboard.I am not sure, let me see' | translate }}</button>-->
												</div>
											</div>
											<div class="col-md-12 mt-2">
												<div class="center-elements" *ngIf="listSymtomsFreqForGraph[0]!=undefined">
													<button *ngIf="listSymtomsFreqForGraph[0].numberPoblation==0" type="button" class="align-middle btn btn-outline-danger"  (click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"> </i>
															<span>{{'patdiagdashboard.panel2msginvitemore' | translate }}</span>
														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
													<button *ngIf="listSymtomsFreqForGraph[0].numberPoblation==1" type="button" class="align-middle btn btn-outline-danger" (click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"></i>
															<!--<span>{{'patdiagdashboard.panel2msginvitemore1' | translate }} {{listSymtomsFreqForGraph[0].numberPoblation}} {{'patdiagdashboard.panel2msginvitemore2a' | translate }}</span>-->
															<span>{{'patdiagdashboard.panel2msginvitemore2c' | translate }}</span>

														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
													<button *ngIf="(listSymtomsFreqForGraph[0].numberPoblation<25)&&(listSymtomsFreqForGraph[0].numberPoblation>1)" type="button" class="align-middle btn btn-outline-danger" (click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"></i>
															<span>{{'patdiagdashboard.panel2msginvitemore1' | translate }} {{listSymtomsFreqForGraph[0].numberPoblation-1}} {{'patdiagdashboard.panel2msginvitemore2b' | translate }}</span>
														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
												</div>
												<div class="center-elements" *ngIf="listSymtomsFreqForGraph[0]==undefined">
													<button type="button" class="align-middle btn btn-outline-danger"(click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"> </i>
															<span>{{'patdiagdashboard.panel2msginvitemore' | translate }}</span>
														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
												</div>
											</div>
										</div>
									</div>
									<div class="row mt-2" *ngIf="loadingGraphSymptomFreq">
										<div class="col-md-12 center-elements" >
											<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
										</div>
									</div>
									<div class="row">
										<div class="col-md-6">
											<div class="col-md-12">
												<h4 class="card-title warning d-inline" *ngIf="!loadingGraphSymptomFreq && (chartDataSymptomsFreq.length>0 || queryApply)">{{'patdiagdashboard.panel3subtitlegraph1' | translate }}</h4>
												<div class="mt-2" *ngIf="!loadingGraphSymptomFreq && chartDataSymptomsFreq.length==0 && queryApply"> {{'patdiagdashboard.No data available for the symptoms selected in the community filter' | translate }} </div>
												<div class="mt-2" *ngIf="!loadingGraphSymptomFreq && (chartDataSymptomsFreq.length>0 || queryApply)">
													<p> {{'patdiagdashboard.panel3msgsubtitlegraph1' | translate }}</p>
												</div>
												<div [style.visibility]="(loadingGraphSymptomFreq)? 'hidden': 'visible'">
													<div *ngIf="!loadingGraphSymptomFreq && chartDataSymptomsFreq.length>0" _ngcontent-awn-c234="" style="padding-top:2%"  class="center-elements">
														<h5> {{'patdiagdashboard.panel3titlegraph1' | translate }} {{actualCondition}} </h5>
													</div>
													<div class="d3-chart" #chartSymptomsFreq id="chartSymptomsFreq" [style.visibility]="loadingGraphSymptomFreq && chartDataSymptomsFreq.length==0? 'hidden': 'visible'" >
														<svg id="graphSymptomsFreq"></svg>
													</div>
												</div>
												<div class="mt-2">
													<div class="center-elements" _ngcontent-awn-c234="" *ngIf="!loadingGraphSymptomFreq && symptomsPermissions.shareWithCommunity && (chartDataSymptomsFreq.length>0 || queryApply)">
														<button _ngcontent-awn-c234="" type="button" class="btn btn-outline-warning btn-lg " (click)="showFilterSymptomsToGraph(contentFilterSymptomsFreqGraph)">{{'patdiagdashboard.panel3buttonHideSymptoms' | translate }}</button>
													</div>
													<div class="center-elements" _ngcontent-awn-c234="" *ngIf="!loadingGraphSymptomFreq && symptomsPermissions.shareWithCommunity && (chartDataSymptomsFreq.length>0 || queryApply)">
														<button _ngcontent-awn-c234="" type="button" class="btn primary btn-lg" (click)="deleteAllFilters()" *ngIf="filterApply">{{'patdiagdashboard.panel3buttonDeleteAllfilters' | translate }}</button>
													</div>
												</div>
												<div *ngIf="!loadingGraphSymptomFreq && symptomsPermissions.shareWithCommunity && listpatientDataNotShowHistogram.length>0 && (chartDataSymptomsFreq.length>0 || !queryApply)">
													<span> {{'patdiagdashboard.notegraph1a' | translate }} {{exampleParent}} {{'patdiagdashboard.notegraph1b' | translate }} {{exampleSuccesorOfParent}} {{'patdiagdashboard.notegraph1c' | translate }}</span>
													<br>
													<span>{{'patdiagdashboard.notegraph2' | translate }} {{listpatientDataNotShowHistogramString}}.</span>
												</div>
											</div>
										</div>
										<div class="col-md-6" >
											<div class="col-md-12">
												<h4 class="card-title warning d-inline" *ngIf="!loadingGraphSymptomFreq && (chartDataSymptomsFreq.length>0 || queryApply)">{{'patdiagdashboard.panel3subtitlegraph2' | translate }}</h4>
												<!--<h4 class="card-title warning">{{'patdiagdashboard.titlegraph2' | translate }}</h4>-->
												<div class="mt-2" *ngIf="!loadingGraphSymptomFreq && chartDataVennReal.length>0 && chartDataBarsReal.length>0">
													<span> {{'patdiagdashboard.panel3msgsubtitlegraph2a' | translate }}</span>
													<br>
													<span > {{'patdiagdashboard.panel3msgsubtitlegraph2b' | translate }}</span>
												</div>
												<div [style.visibility]="(chartDataVennReal.length==0)? 'hidden': 'visible'" class="d3-chart" #chartVennReal id="chartVennReal" title= "{{'patdiagdashboard.panel3msgsubtitlegraph2b' | translate }}" style="cursor: pointer;" [style.margin-left.px]= "-margin.left">
													<svg [style.visibility]="(chartDataVennReal.length>0)? 'hidden': 'visible'" id ="vennReal" viewBox="0 0 580 340" [style.margin-left.px]= "-margin.left"></svg>
												</div>
												<div class="center-elements">
													<div [style.visibility]="(chartDataBarsReal.length==0)? 'hidden': 'visible'" class="d3-chart" #chartBarsReal id="chartBarsReal">
														<svg id="graphBarsReal"></svg>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-12 mb-4">
							<div class="card-content card card-outline-primary" style="background-color: white;">
								<div class="card-body">
									<h4 class="card-title primary" style="font-size: 1.75rem;">{{'patdiagdashboard.panel4msgtitle' | translate }} {{actualCondition}}</h4>
									<div class="row">
										<div class="col-md-12 mt-2 mb-1" *ngIf="fullListSymptoms.length==0">
											<span> {{'patdiagdashboard.No data available for the reference case' | translate }} </span>
											<div class="col-md-12 mt-2">
												<div class="center-elements" *ngIf="listSymtomsFreqForGraph[0]!=undefined">
													<button *ngIf="listSymtomsFreqForGraph[0].numberPoblation==0" type="button" class="align-middle btn btn-outline-danger"  (click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"> </i>
															<span>{{'patdiagdashboard.panel2msginvitemore' | translate }}</span>
														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
													<button *ngIf="listSymtomsFreqForGraph[0].numberPoblation==1" type="button" class="align-middle btn btn-outline-danger" (click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"></i>
															<!--<span>{{'patdiagdashboard.panel2msginvitemore1' | translate }} {{listSymtomsFreqForGraph[0].numberPoblation}} {{'patdiagdashboard.panel2msginvitemore2a' | translate }}</span>-->
															<span>{{'patdiagdashboard.panel2msginvitemore2c' | translate }}</span>

														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
													<button *ngIf="(listSymtomsFreqForGraph[0].numberPoblation<25)&&(listSymtomsFreqForGraph[0].numberPoblation>1)" type="button" class="align-middle btn btn-outline-danger" (click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"></i>
															<span>{{'patdiagdashboard.panel2msginvitemore1' | translate }} {{listSymtomsFreqForGraph[0].numberPoblation-1}} {{'patdiagdashboard.panel2msginvitemore2b' | translate }}</span>
														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
												</div>
												<div class="center-elements" *ngIf="listSymtomsFreqForGraph[0]==undefined">
													<button type="button" class="align-middle btn btn-outline-danger"(click)="showSharePanel()">
														<div class="col-md-12">
															<i class="ft-alert-triangle danger" style="padding-right: 1%;"> </i>
															<span>{{'patdiagdashboard.panel2msginvitemore' | translate }}</span>
														</div>
														<div class="col-md-12">
															<span>{{'patdiagdashboard.panel2msginvitemore3' | translate }}</span>
														</div>
													</button>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12 mt-2 mb-1" *ngIf="!loadingGraphSymptomFreq && fullListSymptoms.length>0">
											<p> {{'patdiagdashboard.panel4msg1' | translate }}</p>
										</div>
									</div>
									<div class="row mt-2" *ngIf="loadingGraphSymptomFreq">
										<div class="col-md-12 center-elements" >
											<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
										</div>
									</div>
									<div class="row">
										<div class="col-md-6" *ngIf="fullListSymptoms.length>0">
											<!--<h4 class="card-title warning d-inline">{{'patdiagdashboard.titlepanel3' | translate }}</h4>-->
											<div class="col-md-12">
												<h4 *ngIf="!loadingGraphSymptomFreq" class="card-title warning d-inline">{{'patdiagdashboard.panel3subtitlegraph1' | translate }}</h4>
												<div class="mt-2" *ngIf="fullListSymptoms.length>0 && !loadingGraphSymptomFreq">
													<span> {{'patdiagdashboard.panel4notetable' | translate }}</span>
													<div style="margin-top:1%;margin-bottom:1%">
														<span> {{'patdiagdashboard.panel4notetable2' | translate }}</span>
														<i style="padding-left:1%;" class="fa fa-check success"></i>
														<span> {{'patdiagdashboard.panel4notetable3' | translate }}</span>
														<i style="padding-left:1%;" class="fa fa-times danger"></i>
														<span> {{'patdiagdashboard.panel4notetable4' | translate }}</span>
														<i style="padding-left:0.5%;padding-right:1%;" class="fa fa-check"></i>
														<span>{{'patdiagdashboard.panel4notetable5' | translate }}</span>
													</div>
												</div>
											</div>
											<div class="col-md-12">
												<table class="table text-center" *ngIf="fullListSymptoms.length>0 && !loadingGraphSymptomFreq" style="margin-top:2%">
													<thead>
														<tr>
															<th style="text-align:left">{{'patdiagdashboard.Total Symptoms' | translate }}: <label *ngIf="fullListSymptoms.length > 0"> {{fullListSymptoms.length}}</label></th>
															<th>{{'patdiagdashboard.panel3MyCase' | translate }}</th>
															<th>{{'patdiagdashboard.panel3ReferenceCase' | translate }}</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngFor="let symptom of fullListSymptoms ; let i = index">
															<td style="text-align:left">
																<span><a href="https://monarchinitiative.org/phenotype/{{symptom.id}}" target="_blank" title="{{symptom.def}} {{symptom.comment}} ">{{symptom.name}}</a><span *ngIf="symptom.synonyms==undefined && numDeprecated>0" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></span>
															</td>
															<td>
																<span *ngIf="symptom.patient"><i class="fa fa-check success"></i></span>
																<span *ngIf="!symptom.patient && !symptom.patientbutsuccessor"><i class="fa fa-times danger"></i></span>
																<span *ngIf="!symptom.patient && symptom.patientbutsuccessor"><i class="fa fa-check"></i></span>
															</td>
															<td>
																<span *ngIf="symptom.patient && (symptom.orphanet || symptom.omim)"><i class="fa fa-check success"></i></span>
																<span *ngIf="symptom.patient && !symptom.orphanet && !symptom.omim && !symptom.notpatientbutsuccessor"><i class="fa fa-times danger"></i></span>
																<span *ngIf="symptom.patient && !symptom.orphanet && !symptom.omim && symptom.notpatientbutsuccessor"><i class="fa fa-check"></i></span>
																<span *ngIf="!symptom.patient"><i class="fa fa-check success"></i></span>
															</td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
										<div class="col-md-6" >
											<div class="col-md-12">
												<h4 *ngIf="chartDataBars.length>0 && !loadingGraphSymptomFreq" class="card-title warning">{{'patdiagdashboard.panel3subtitlegraph2' | translate }}</h4>
												<div class="mt-2" *ngIf="chartDataVenn.length>0">
													<span> {{'patdiagdashboard.noteVennGraph' | translate }}</span>
												</div>
												<div [style.visibility]="(chartDataVenn.length==0)? 'hidden': 'visible'" class="d3-chart" #chartVenn id="chartVenn" title="{{'patdiagdashboard.panel3msgsubtitlegraph2b' | translate }}" style="cursor: pointer;" [style.margin-left.px]= "-margin.left">
													<svg [style.visibility]="(chartDataVenn.length>0)? 'hidden': 'visible'" id ="venn" viewBox="0 0 580 340" [style.margin-left.px]= "-margin.left"></svg>
												</div>
												<div class="col-md-12">
													<div class="center-elements">
														<div [style.visibility]="(chartDataBars.length==0)? 'hidden': 'visible'" class="d3-chart" #chartBars id="chartBars">
															<svg id="graphBars"></svg>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			  </div>
			</section>
		</div>
	</div>

</section>

<ng-template #contentSymptomsNcr let-c="close" let-d="dismiss" appendTo="body">
		<div class="modal-header d-block" id="idHeader">
			<button type="button" class="close" aria-label="Close" (click)="c('Close click'); changeTriggerHotjar('generalincoming_')">
				<span aria-hidden="true">&times;</span>
			</button>
			<div>
				<h4>{{'patdiagdashboard.Symptom extraction revision' | translate }}</h4>
				<span>
					{{'patdiagdashboard.We have found' | translate }} <h5 class="text-bold-400 d-inline"><ins>{{temporalSymptoms.length}} {{'diagnosis.Symptoms' | translate }}</ins></h5> {{'patdiagdashboard.msgnumbersymptomsfound' | translate }}
				</span>
			</div>
		</div>

		<div class="card" *ngIf="resultTextNcrCopy!=''">
			<div class="center-elements">
				<button *ngIf="!ncrResultView" type="button" class="btn btn-primary btn-raised ml-1" (click)="showCompleteNcrResultView()">{{'patdiagdashboard.Show full text' | translate }}</button>
				<button *ngIf="ncrResultView" type="button" class="btn btn-primary btn-raised ml-1" (click)="showCompleteNcrResultView()">{{'patdiagdashboard.Hide full text' | translate }}</button>
			</div>
			<div class="row col-md-12">
				<div [ngClass]="(ncrResultView==true)?'col-xl-6':'col-xl-12'">
					<div class="">
						<div class="tableFixHead">
							<table class="col-md-12 table table-striped">
								<tbody>
									<tr *ngFor="let hpo of temporalSymptoms ; let i = index">
										<td>
											<span>

												<button (click)="changeStateSymptom(i)" [ngClass]="(hpo.checked==true)?'btn btn-success mr-1 mb-0 btn-fab':'btn btn-secondary mr-1 mb-0 btn-fab'" [disabled]=hpo.checked href="javascript:void(0)">
													<i class="fa fa-check"></i>
												</button>
												<button (click)="changeStateSymptom(i)" [ngClass]="(hpo.checked==false)?'btn btn-danger mr-1 mb-0 btn-fab':'btn btn-secondary mr-1 mb-0 btn-fab'" [disabled]=!hpo.checked href="javascript:void(0)">
													<i class="fa fa-times"></i>
												</button>
												<span *ngIf="i!= selectedInfoSymptomIndex" style="cursor: pointer;" class="float-right ml-1" (click)="showMoreInfoSymptom(i);">
													<i style="font-size: 1.3em;" class="fa fas fa-arrow-down danger"></i>
												</span>
												<span *ngIf="i== selectedInfoSymptomIndex" style="cursor: pointer;" class="float-right ml-1" (click)="showMoreInfoSymptom(i);">
													<i style="font-size: 1.3em;" class="fa fas fa-arrow-up danger"></i>
												</span>
												<!--<span *ngIf="i!= selectedInfoSymptomIndex" class="mt-1 float-right mr-4">
													<h6 class="d-inline">Score:</h6> {{hpo.similarity | number}}
												</span>-->
												<span class="font-medium-3 ml-2">
													<strong *ngIf="i== selectedInfoSymptomIndex" class="align-middle">{{hpo.name}} <span *ngIf="hpo.synonyms==undefined" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></strong>
													<span *ngIf="i!= selectedInfoSymptomIndex" class="align-middle">{{hpo.name}} <span *ngIf="hpo.synonyms==undefined" class="warning"> ({{'phenotype.Deprecated' | translate }})</span></span>
													<span *ngIf="i!= selectedInfoSymptomIndex" class="align-middle d-block">
														<span *ngFor="let text of hpo.text ; let j = index">
															<!--<span *ngIf="j==0" class="font-small-2 mb-0">{{text.text | slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text | slice:(text.positions[0]):(text.positions[1])}}</b>  {{text.text | slice:(text.positions[1]+1):(text.positions[1]+40)}}</span>-->
				                      <span *ngIf="text.source && j== 0" class="font-small-2 mb-0">{{text.source}}</span>
				                      <span *ngIf="!text.source && j== 0" class="font-small-2 mb-0">{{text.text | slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text | slice:(text.positions[0]):(text.positions[1])}}</b>  {{text.text | slice:(text.positions[1]+1):(text.positions[1]+40)}}</span>
														</span>
													</span>
												</span>
											</span>

											<div *ngIf="i== selectedInfoSymptomIndex" class="row mt-2">
												<span [ngClass]="(ncrResultView==true)?'col-md-12':'col-md-7'">
													<span *ngIf="hpo.def!='' || hpo.comment!=''">
														<span *ngIf="hpo.def!=''">{{hpo.def}}.</span>
														<span *ngIf="hpo.comment!=''">{{hpo.comment}}</span>
													</span>
													<span *ngIf="hpo.synonyms.length>0">
														<h6 class="mt-4"><strong>{{'generics.Synonyms' | translate }}</strong></h6>
														<p *ngFor="let synonym of hpo.synonyms ; let j = index">
															<span>{{j+1}}. </span> <span >{{synonym}}</span>
														</p>
													</span>
													<h6 class="mt-4"><strong>External Links</strong></h6>
													<a href="https://monarchinitiative.org/phenotype/{{hpo.id}}" target="_blank" title=" {{hpo.name}} ({{hpo.id}}): {{hpo.def}} {{hpo.comment}}">MONDO ({{hpo.id}})</a>
												</span>
												<hr width="100%" size="20" color="#b0b6bb" *ngIf="ncrResultView==true" class="mt-2">
												<span [ngClass]="(ncrResultView==true)?'col-md-4':'col-md-1'">
													<h6>{{'patdiagdashboard.Score' | translate }}:</h6> {{hpo.similarity | number}}
												</span>
												<span [ngClass]="(ncrResultView==true)?'col-md-8':'col-md-4'">
													<h6 class="mb-0"># / {{'dashboardpatient.Apparitions' | translate }}</h6>
													<span *ngFor="let text of hpo.text ; let j = index">
														<p *ngIf="j< 3" class="font-small-2 mb-0">{{j+1}}. {{text.text | slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text | slice:(text.positions[0]):(text.positions[1])}}</b>  {{text.text | slice:(text.positions[1]+1):(text.positions[1]+40)}}</p>
														<!--<p *ngIf="text.source && j< 3" class="font-small-2 mb-0">{{j+1}}. {{text.source}}</p>
														<p *ngIf="!text.source && j< 3" class="font-small-2 mb-0">{{j+1}}. {{text.text | slice:(text.positions[0]-40):(text.positions[0]-1)}} <b>{{text.text | slice:(text.positions[0]):(text.positions[1])}}</b>  {{text.text | slice:(text.positions[1]+1):(text.positions[1]+40)}}</p>-->
													</span>
												</span>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div *ngIf="ncrResultView" class="col-xl-6">
					<div class="card-body">
							<div class="card-block text-center">
									<div class="form-group">
										<a id="initpos"></a>
										<div style="text-align: justify;" class="textExtractedNcr" [innerHTML]=resultTextNcrCopy></div>
									</div>
							</div>
					</div>

				</div>
			</div>
	</div>
	<div class="modal-footer">
    <div class="form-actions center">
      <div class="center-elements mt-2">
        <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
				<button type="button" class="btn btn-primary btn-raised" (click)="saveSymptomsNcr(); changeTriggerHotjar('generalincoming_')">{{'generics.Save' | translate }}</button>
			</div>

    </div>
  </div>

</ng-template>


<ng-template #contentAddSymptomsManual let-c="close" let-d="dismiss" appendTo="body">
		<div class="modal-header" id="idHeader">
				<h4 class="modal-title">{{'diagnosis.Add symptoms' | translate }} <span class="font-medium-1 d-block mt-1"> {{'patdiagdashboard.onebyonemsg' | translate }} </span></h4>
		</div>
		<div class="modal-body row">
			<div class="mt-2 col-md-4">
        <div class="card p-2 row">
          <span class="col-md-12">
            <h4 class="font-weight-bold">{{'patnodiagdashboard.step2-4.msg5' | translate }}</h4>
          </span>
          <p class="col-md-12" *ngIf="selectedItems.length>0">
            <span class="d-block mb-2"><b>{{'patnodiagdashboard.step2-4.msg6' | translate }}</b></span>
            <span class="d-block" *ngFor="let item of selectedItems ; let k = index">
              {{item.name}} <span class="red" style="cursor: pointer;" (click)="deleteItem(item)">&nbsp;x</span>
            </span>
          </p>
          <p class="col-md-12" *ngIf="selectedItems.length==0">

          </p>
          <div class="center-elements">
            <button *ngIf="selectedItems.length > 0" type="button" class="btn btn-outline-danger btn-lg" (click)="addSymptomsOption1();c('Close click');">{{'diagnosis.Add symptoms' | translate }} {{'generics.and' | translate }} {{'patnodiagdashboard.step2-4.btn1' | translate }}</button>
            <button *ngIf="selectedItems.length == 0" type="button" class="btn btn-outline-danger btn-lg" (click)="c('Close click')">
              {{'generics.Close' | translate }}
            </button>
          </div>
        </div>

      </div>
      <div class="mt-2 col-md-8">
  			<div class="card p-2 row">
          <div class="form-group">
            <div class="mt-2 row col-md-9">
              <span class="d-block">{{'patnodiagdashboard.step2-4.msg1' | translate }}</span>
            </div>
            <input type="text" id="modelTemp" class="form-control"  name="modelTemp" [(ngModel)]="modelTemp" (keyup)="onKeySymptoms($event)" placeholder="{{'patnodiagdashboard.step2-4.msg2' | translate }}">
          </div>

          <div *ngIf="listOfFilteredSymptoms.length > 0" class="row">
            <div class="col-lg-12 col-md-12" *ngFor="let hpo of listOfFilteredSymptoms ; let i = index">
              <!-- Card -->
                <div class="card chart-card" style="background-color: gainsboro;">

                  <!-- Card content -->
                  <div class="p-2 row" [ngClass]="(i!= selectedInfoSymptomIndex)?'height-150 row':'row'">
                    <div class="col-9">
                      <!-- Title -->
                      <h4 *ngIf="i!= selectedInfoSymptomIndex" class="card-title font-weight-bold" style="font-size:1rem;">{{ (hpo.name.length>40)? (hpo.name | slice:0:40)+'...':(hpo.name) }}</h4>
                      <!--<h4 *ngIf="i!= selectedInfoSymptomIndex" class="card-title font-weight-bold" style="font-size:1rem;">{{ (hpo.layperson.length>40)? (hpo.layperson | slice:0:40)+'...':(hpo.layperson) }}</h4>-->

                      <h4 *ngIf="i== selectedInfoSymptomIndex" class="card-title font-weight-bold" style="font-size:1rem;">{{hpo.name}}</h4>
                      <!--<h4 *ngIf="i== selectedInfoSymptomIndex" class="card-title font-weight-bold" style="font-size:1rem;">{{hpo.layperson}}</h4>-->

                      <p *ngIf="i!= selectedInfoSymptomIndex">
                        <span *ngIf="hpo.desc!=''">
                          <span *ngIf="hpo.desc!='' && hpo.desc!=null">{{ (hpo.desc.length>140)? (hpo.desc | slice:0:140)+'...':(hpo.desc) }}</span>
                        </span>
                      </p>
                      <p *ngIf="i== selectedInfoSymptomIndex">
                        <span *ngIf="hpo.desc!=''">
                          {{hpo.desc}}
                        </span>
                      </p>
                      <span *ngIf="i== selectedInfoSymptomIndex">
                        <h6 class="mt-2"><strong>{{'generics.External Links' | translate }}</strong></h6>
                        <a href="https://monarchinitiative.org/phenotype/{{hpo.id}}" target="_blank" title=" {{hpo.name}} ({{hpo.id}}): {{hpo.def}} {{hpo.comment}}">MONDO ({{hpo.id}})</a>
                      </span>
                    </div>
                    <div class="col-3">
                      <button (click)="selected2(i)" class="btn-success-over float-right btn btn-secondary mb-0 btn-fab" href="javascript:void(0)">
                        <i class="fa fa-check"></i>
                      </button>
                    </div>

                  </div>
                  <div style="position: absolute;left: 80%;top: 120px;">
                    <a *ngIf="i!= selectedInfoSymptomIndex" class="danger pull-right" style="cursor: pointer;" (click)="showMoreInfoSymptom(i);">
                      {{'generics.Read more' | translate }}
                    </a>
                    <a *ngIf="i== selectedInfoSymptomIndex" class="danger pull-right" style="cursor: pointer;" (click)="showMoreInfoSymptom(i);">
                      {{'generics.Read less' | translate }}
                    </a>
                  </div>
                  <div *ngIf="i== selectedInfoSymptomIndex && hpo.synonyms.length>0" class="p-2">
                    <h6>{{'generics.Synonyms' | translate }}</h6>
                    <p *ngFor="let synonym of hpo.synonyms ; let j = index">
                      <span>{{j+1}}. </span> <span >{{synonym}}</span>
                    </p>
                  </div>
                  <!-- Classic tabs -->

                </div>
                <!-- Card -->
            </div>
          </div>
        </div>
  		</div>
		</div>
</ng-template>

<ng-template #contentSymptomAttributes let-c="close" let-d="dismiss" appendTo="body">
		<div class="modal-header" id="idHeader">
				<h4 class="modal-title">{{actualSymptom.name }}</h4>
		</div>
		<div class="modal-body">
			<div class="col-md-6">
				<div class="form-group">
					<label for="Importance">{{'phenotype.Importance' | translate }}</label>
					<select id="Importance" name="parent.Importance" class="form-control"  [(ngModel)]="importance">
						<option value="father">{{'personalinfo.Father' | translate }}</option>
						<option value="mother">{{'personalinfo.Mother' | translate }}</option>
						<option value="other">{{'generics.Other' | translate }}</option>
					</select>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<label for="Severity">{{'phenotype.Severity' | translate }}</label>
					<select id="Severity" name="parent.severity" class="form-control"  [(ngModel)]="severity">
						<option value="father">{{'personalinfo.Father' | translate }}</option>
						<option value="mother">{{'personalinfo.Mother' | translate }}</option>
						<option value="other">{{'generics.Other' | translate }}</option>
					</select>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<label for="onset">{{'phenotype.Onset' | translate }}</label>
					<select id="onset" name="parent.onset" class="form-control"  [(ngModel)]="onset">
						<option value="father">{{'personalinfo.Father' | translate }}</option>
						<option value="mother">{{'personalinfo.Mother' | translate }}</option>
						<option value="other">{{'generics.Other' | translate }}</option>
					</select>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<div class="form-actions center" *ngIf="!sending">
					<button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
			</div>
		</div>
</ng-template>

<ng-template #contentSeeSymptomsOfDisease let-c="close" let-d="dismiss" appendTo="body">
	<div class="modal-header" id="idHeader">
		<h4>{{'patdiagdashboard.Select your case symptoms' | translate }} <span class="font-medium-1 d-block mt-1">{{'patdiagdashboard.Here you can see the symptoms used as reference for' | translate }} {{actualCondition}}. {{'patdiagdashboard.Click on the symptoms for detailed information​' | translate}} ​</span></h4>

		<button type="button" class="close" aria-label="Close" (click)="c('Close click')">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="col-md-12 row card" *ngIf="!loadingSymptomsOfDisease">
		<div class="text-right btn-group-toggle" ngbRadioGroup name="radioBasic" [(ngModel)]="modelRadio" (change)="changeSuggestedView()">
			<span class="mr-1 mt-1">{{'patdiagdashboard.Select view' | translate }}:</span>
				<label ngbButtonLabel [ngClass]="(modelRadio==1)?'btn-raised btn-secondary':'btn-raised btn-primary'" style="cursor: pointer;">
						<input ngbButton type="radio" [value]="0"> {{'patdiagdashboard.Default' | translate }}
				</label>
				<label ngbButtonLabel [ngClass]="(modelRadio==1)?'btn-raised btn-primary ml-1':'btn-raised btn-secondary ml-1'" style="cursor: pointer;">
						<input ngbButton type="radio" value="1"> {{'patdiagdashboard.Detailed' | translate }}
				</label>
		</div>
		<div *ngIf="viewSuggestion==0" class="mt-4">
			<div class="row mb-2 ml-2">
				<div class="col-lg-4 col-md-6 col-sm-12" style="min-height: 3em;" *ngFor="let hpo of symptomsOfDisease ; let i = index">
					<div class="row col-md-12 pl-0">
						<div class="col-md-10 col-sm-10">
							<a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)" title="{{hpo.def}} {{hpo.comment}} ">{{hpo.name}} <i class="ft-external-link" title="{{'generics.More information' | translate }}"></i></a>
						</div>
						<div class="col-md-2 col-sm-2">
							<button (click)="changeStateDiseaseSymptom(i)" style="min-width: 20px;min-height: 20px;float:left;" [ngClass]="(hpo.checked==true)?'p-0 btn btn-success btn-sm mr-1 mb-0 btn-fab':'p-0 btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)">
								<i *ngIf="hpo.checked" class="fa fa-check"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div *ngIf="viewSuggestion==1" class="mt-4">
			<div class="row mb-2 ml-2">

				<div class="col-sm-12" *ngIf="symptomsOfDisease.length>0">
					<p classs="col-sm-12">{{'diagnosis.click to add it'|translate }}:</p>
					<div class="row col-md-12 pl-0 mb-2">
						<div class="col-md-3 col-sm-3">
							<span><b>{{'generics.Name' | translate }}</b></span>
						</div>
						<div class="col-md-7 col-sm-7">
							<span><b>{{'generics.Description' | translate }}</b></span>
						</div>
						<div class="col-md-2 col-sm-2">
							<span><b>{{'generics.Synonyms' | translate }}</b></span>
						</div>
					</div>
				</div>
				<div class="col-sm-12" *ngFor="let hpo of symptomsOfDisease ; let i = index">
					<hr *ngIf="i>0" class="mt-0 mb-0">
					<div (click)="changeStateDiseaseSymptom(i)" class="pointer row col-md-12 pl-0 ml-0 pb-2 pt-2" [ngClass]="(hpo.checked==true)?'greenBackground':'emptyBackground'" title="{{(hpo.checked==true) ? ('diagnosis.click to delete it'|translate) : ('diagnosis.click to add it'|translate)}}">
						<div class="pl-0 col-md-3 col-sm-3">
							<a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)">{{hpo.name}} <i class="ft-external-link" title="{{'generics.More information' | translate }}"></i></a>
						</div>
						<div class="pl-0 col-md-7 col-sm-7">
							<span *ngIf="hpo.def!=undefined">{{hpo.def}}.</span>
							<span *ngIf="hpo.comment!=''">{{hpo.comment}}</span>
							<span *ngIf="hpo.comment=='' && hpo.def==undefined">-</span>
						</div>
						<div class="pl-0 col-md-2 col-sm-2" >
							<span *ngIf="hpo.synonyms!=undefined" class="text-break">
								<span *ngFor="let synonym of hpo.synonyms ; let j = index">{{synonym.label}}<span *ngIf="j<(hpo.synonyms.length-1)">, </span></span>

							</span>
							<span *ngIf="hpo.synonyms==undefined || hpo.synonyms==''">-</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div>
		<div class="form-actions center-elements mb-2" *ngIf="!sending">
			<button type="button" class="btn btn-danger btn-raised" (click)="saveSymptomsOfDisease()">{{'generics.Save' | translate }}</button>
		</div>
	</div>
</ng-template>

<ng-template #contentSuggestions let-c="close" let-d="dismiss" appendTo="body">
	<a id="initpos"></a>
		<div class="modal-header row" id="idHeader" *ngIf="!loadingSuggestions">
			<div class="col-md-12">
				<button type="button" class="close" aria-label="Close" (click)="c('Close click')">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="d-inline mt-1">{{'patdiagdashboard.Select your case symptoms' | translate }} <span class="font-medium-1 d-block mt-1">{{'patdiagdashboard.msgSuggestions' | translate }}</span></h4>
			</div>

		</div>
		<div class="modal-body">
			<div class="col-md-12 center-elements" *ngIf="loadingSuggestions">
				<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
			</div>
			<div class="col-md-12 row card" *ngIf="!loadingSuggestions">
				<div class="text-right btn-group-toggle" ngbRadioGroup name="radioBasic" [(ngModel)]="modelRadio" (change)="changeSuggestedView()">
					<span class="mr-1 mt-1">{{'patdiagdashboard.Select view' | translate }}:</span>
						<label ngbButtonLabel [ngClass]="(modelRadio==1)?'btn-raised btn-secondary':'btn-raised btn-primary'" style="cursor: pointer;">
								<input ngbButton type="radio" [value]="0"> {{'patdiagdashboard.Default' | translate }}
						</label>
						<label ngbButtonLabel [ngClass]="(modelRadio==1)?'btn-raised btn-primary ml-1':'btn-raised btn-secondary ml-1'" style="cursor: pointer;">
								<input ngbButton type="radio" value="1"> {{'patdiagdashboard.Detailed' | translate }}
						</label>
				</div>
				<div *ngIf="viewSuggestion==0" class="mt-4">
					<div class="row mb-2 ml-2">
						<div class="col-lg-4 col-md-6 col-sm-12" style="min-height: 3em;" *ngFor="let hpo of listOfSymptoms ; let i = index">
							<div class="row col-md-12 pl-0">
								<div class="col-md-10 col-sm-10">
									<a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)" title="{{hpo.def}} {{hpo.comment}} ">{{hpo.name}}<i class="ft-external-link" title="{{'generics.More information' | translate }}"></i></a>
								</div>
								<div class="col-md-2 col-sm-2">
									<button (click)="changeStateTempSymptom(i)" style="min-width: 20px;min-height: 20px;float:left;" [ngClass]="(hpo.checked==true)?'p-0 btn btn-success btn-sm mr-1 mb-0 btn-fab':'p-0 btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)">
										<i *ngIf="hpo.checked" class="fa fa-check"></i>
									</button>
								</div>
							</div>
						</div>
						<div class="col-sm-12" *ngIf="listOfSymptoms.length==0">
							{{'patdiagdashboard.noSymptomstoshow' | translate }}
						</div>

					</div>
				</div>
				<div *ngIf="viewSuggestion==1" class="mt-4">
					<div class="row mb-2 ml-2">
						<div class="col-sm-12" *ngIf="listOfSymptoms.length>0">
							<div class="row col-md-12 pl-0 mb-2">
								<div class="col-md-3 col-sm-3">
									<span><b>{{'generics.Name' | translate }}</b></span>
								</div>
								<div class="col-md-7 col-sm-7">
									<span><b>{{'generics.Description' | translate }}</b></span>
								</div>
								<div class="col-md-2 col-sm-2">
									<span><b>{{'generics.Synonyms' | translate }}</b></span>
								</div>
								<!--<div class="col-md-1 col-sm-1">
									<span><b>Select/deselect</b></span>
								</div>-->
							</div>
						</div>
						<div class="col-sm-12" *ngIf="listOfSymptoms.length==0">
							{{'patdiagdashboard.noSymptomstoshow' | translate }}
						</div>
						<div class="col-sm-12" *ngFor="let hpo of listOfSymptoms ; let i = index">
							<hr *ngIf="i>0" class="mt-0 mb-0">
							<div (click)="changeStateTempSymptom(i)" class="pointer row col-md-12 pl-0 ml-0 pb-2 pt-2" [ngClass]="(hpo.checked==true)?'greenBackground':'emptyBackground'" title="{{(hpo.checked==true) ? ('diagnosis.click to delete it'|translate) : ('diagnosis.click to add it'|translate)}}">
								<div class="pl-0 col-md-3 col-sm-3">
									<a class="float-left" (click)="openLinkMonarch(hpo.id, $event)" href="javascript:void(0)">{{hpo.name}} <i class="ft-external-link" title="{{'generics.More information' | translate }}"></i></a>
								</div>
								<div class="pl-0 col-md-7 col-sm-7">
									<span *ngIf="hpo.def!=undefined">{{hpo.def}}.</span>
									<span *ngIf="hpo.comment!=''">{{hpo.comment}}</span>
									<span *ngIf="hpo.comment=='' && hpo.def==undefined">-</span>
								</div>
								<div class="pl-0 col-md-2 col-sm-2" >
									<span *ngIf="hpo.synonyms!=undefined" class="text-break">
										<span *ngFor="let synonym of hpo.synonyms ; let j = index">{{synonym.label}}<span *ngIf="j<(hpo.synonyms.length-1)">, </span></span>

									</span>
									<span *ngIf="hpo.synonyms==undefined || hpo.synonyms==''">-</span>
								</div>
								<!--<div class="col-md-1 col-sm-1">
									<button (click)="changeStateTempSymptom(i)" style="min-width: 32px;min-height: 32px;float:left;" [ngClass]="(hpo.checked==true)?'btn btn-success btn-sm mr-1 mb-0 btn-fab':'btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)">
										<i *ngIf="hpo.checked" class="fa fa-check"></i>
									</button>
								</div>-->
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12 center-elements">
					<span>{{posactual+1}}/{{steps}}</span>
				</div>

			</div>
		</div>

		<div class="modal-footer" *ngIf="!loadingSuggestions">
			<div class="col-md-12 center-elements">
				<div class="form-actions center" *ngIf="!sending">
					<button *ngIf="posactual>0" type="button" class="float-left btn btn-primary btn-raised" (click)="previousDisease()">{{'generics.Previous' | translate }}</button>
					<button type="button" class="ml-4 btn btn-secondary btn-raised" (click)="recalculate()" [class.cursor-not-allowed]="hasChangesSuggestion==false" [disabled]="hasChangesSuggestion==false" [ngClass]="(hasChangesSuggestion==true)?'ml-2 btn btn-danger btn-raised':'ml-2 btn btn-secondary btn-raised'">{{'patdiagdashboard.Save / Update suggestions' | translate }}</button>
					<button *ngIf="posactual+1<steps" type="button" class="float-right btn btn-primary btn-raised" (click)="nextDisease()">{{'generics.Next' | translate }}</button>
					<!--<button type="button" class="btn btn-raised btn-primary" (click)="saveSymptomsOfDiseaseSuggested()">{{'generics.Save' | translate }}</button>-->
				</div>
			</div>
		</div>
</ng-template>

<ng-template #contentFilterSymptomsFreqGraph let-d="dismiss" appendTo="body">
	<a id="initpos"></a>
		<div class="modal-header row" id="idHeader">
			<div class="col-md-12">
				<button type="button" class="close" aria-label="Close" (click)="cancelSymptomsFreqToShow()">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="d-inline mt-1">{{'patdiagdashboard.Filter symptoms to show' | translate }}​​<span class="font-medium-1 d-block mt-1">{{'patdiagdashboard.msgfilter' | translate }}​​</span></h4>
			</div>

		</div>
		<div class="modal-body">
			<!--<div class="col-md-12 center-elements" *ngIf="loadingSymptomsFreqToFilter">
				<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
			</div>-->
			<div class="col-md-12 row card">
				<div class="mt-4">
					<div class="row mb-2 ml-2">
						<div class="col-lg-4 col-md-6 col-sm-12" style="min-height: 3em;" *ngFor="let data of listSymtomsFreqForGraph[0].data ; let i = index">
							<div class="row col-md-12 pl-0" *ngIf="loadingGraphSymptomFreq">
								<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
							</div>
							<div class="row col-md-12 pl-0" *ngIf="!loadingGraphSymptomFreq">
								<div class="col-md-10 col-sm-10">
									<span class="float-left">{{data.symptom.name}}</span>
								</div>
								<div class="col-md-2 col-sm-2">
									<button (click)="changeSelectedSymptomForGraph(i)" style="min-width: 20px;min-height: 20px;float:left;" [ngClass]="((data.symptom.checked==true))?'p-0 btn btn-success btn-sm mr-1 mb-0 btn-fab':'p-0 btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)" [disabled]="data.belongstoCommunity==false">
										<i *ngIf="(data.symptom.checked==true) && (data.belongstoCommunity==true)" class="fa fa-check"></i>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="modal-footer">
			<div class="col-md-12 center-elements">
				<div class="form-actions center" *ngIf="!sending">
					<button type="button" class="ml-4 btn btn-secondary btn-raised" (click)="recalculateSymptomsFreqToShow()">{{'patdiagdashboard.Save filters' | translate }}​​</button>
					<button type="button" class="ml-4 btn btn-secondary btn-raised" (click)="cancelSymptomsFreqToShow()">{{'generics.Cancel' | translate }}​​</button>
				</div>
			</div>
		</div>
</ng-template>

<ng-template #contentQuerySymptomsFreqGraph let-d="dismiss" appendTo="body">
	<a id="initpos"></a>
		<div class="modal-header row" id="idHeader">
			<div class="col-md-12">
				<button type="button" class="close" aria-label="Close" (click)="cancelSymptomsFreqQueriedToShow()">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="d-inline mt-1">{{'patdiagdashboard.Query symptoms to show' | translate }}<span class="font-medium-1 d-block mt-1">{{'patdiagdashboard.querymsg' | translate }}​​ {{actualCondition}} {{'patdiagdashboard.querymsg2' | translate }}​​</span></h4>
			</div>
		</div>
		<div class="modal-body">
			<!--<div class="col-md-12 center-elements" *ngIf="loadingSymptomsFreqToFilter">
				<i class="fa fa-spinner fa-spin fa-3x fa-fw pink"></i>
			</div>-->
			<div class="col-md-12 row card">
				<div *ngIf="viewSuggestion==0" class="mt-4">
					<div class="row mb-2 ml-2">
						<div class="col-lg-4 col-md-6 col-sm-12" style="min-height: 3em;" *ngFor="let data of listSymtomsFreqForGraph[0].data ; let i = index">
							<div class="row col-md-12 pl-0">
								<div class="col-md-10 col-sm-10">
									<span class="float-left">{{data.symptom.name}}</span>
								</div>
								<div class="col-md-2 col-sm-2">
									<button (click)="changeSelectedSymptomForQueryGraph(data.symptom.id)" style="min-width: 20px;min-height: 20px;float:left;" [ngClass]="(data.symptom.checkToQuery==true)?'p-0 btn btn-success btn-sm mr-1 mb-0 btn-fab':'p-0 btn btn-secondary btn-sm mr-1 mb-0 btn-fab'" href="javascript:void(0)">
										<i *ngIf="data.symptom.checkToQuery" class="fa fa-check"></i>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="modal-footer">
			<div class="col-md-12 center-elements">
				<div class="form-actions center" *ngIf="!sending">
					<button type="button" class="ml-4 btn btn-secondary btn-raised" (click)="recalculateSymptomsFreqQueriedToShow()">{{'patdiagdashboard.Save filters' | translate }}​​</button>
					<button type="button" class="ml-4 btn btn-secondary btn-raised" (click)="cancelSymptomsFreqQueriedToShow()">{{'generics.Cancel' | translate }}​​</button>
				</div>
			</div>
		</div>
</ng-template>

<ng-template #sampleHistogram let-c="close" let-d="dismiss" appendTo="body">
		<div class="modal-header" id="idHeader">
				<h4 class="modal-title">{{'patdiagdashboard.panel3titleaskpermissions' | translate }}</h4>
		</div>
		<div class="modal-body">
			<div class="col-md-12">
				<div class="form-group">
					<p>
						{{'patdiagdashboard.msgsamplegraph' | translate }}
					</p>
				</div>
			</div>
			<!--<div class="col-md-12">
				<div class="d3-chart" #chartSymptomsFreqModal id="chartSymptomsFreqModal">
					<svg id="graphSymptomsFreqModal"></svg>
				</div>
			</div>-->
		</div>
		<div class="modal-footer">
			<div class="form-actions center">
					<button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">{{'generics.Close' | translate }}</button>
			</div>
		</div>
</ng-template>
